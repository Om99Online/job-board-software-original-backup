"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[1976],{51976:(e,a,n)=>{n.r(a),n.d(a,{default:()=>j});var t=n(72791),o=n(65167),s=n(93953),i=n(20890),c=n(93517),l=n(50533),r=n(98333),d=n(31243),m=n(12503),u=n(10287),h=n(21830),f=n.n(h),x=n(57689),p=n(88329),v=n(24529),b=n(80184);const j=()=>{const[e,a]=(0,t.useState)({favicon:""}),[n,h]=(0,t.useState)({favicon:""}),[j,g]=(0,t.useState)(!1),C=p.Z.get("token"),w=p.Z.get("adminID"),[F,y]=(0,t.useState)(null),B=(0,x.s0)(),N=async()=>{try{g(!0);const e=await d.Z.post(m.Z+"/admin/changeFavicon",null,{headers:{"Content-Type":"application/json",key:u.Z,token:C,adminid:w}});g(!1),y(e.data.response.favicon_path),console.log(e.data.response.favicon_path)}catch(e){console.log("Cannot get profile photo data")}},Z=async e=>{const n=e.target,t=n.files[0];if(t){if(t.size>512e3)return f().fire({title:"Image size should be under 500 KB",icon:"warning",confirmButtonText:"Close"}),n.value="",y(""),void a((e=>({...e,favicon:""})));const e=new Image;e.src=window.URL.createObjectURL(t),e.onload=()=>{const o=e.naturalWidth,s=e.naturalHeight;o<10||s<10||o>100||s>100?(f().fire({title:"Image resolution should be between 10x10 and 100x100 pixels",icon:"warning",confirmButtonText:"Close"}),n.value="",y(""),a((e=>({...e,favicon:""})))):function(e){return new Promise(((a,n)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{a(t.result)},t.onerror=e=>{n(e)}}))}(t).then((e=>{a((a=>({...a,favicon:e}))),y(e)}))}}};return(0,t.useEffect)((()=>{C?(N(),window.scrollTo(0,0)):B("/admin")}),[C,B]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{}),(0,b.jsxs)("div",{className:"APBasic",children:[(0,b.jsx)(s.Z,{}),j?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,b.jsxs)(c.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(r.Z,{fontSize:"small"}),children:[(0,b.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>B("/admin/admins/dashboard"),children:"Dashboard"}),(0,b.jsx)(i.Z,{color:"text.primary",children:"Change Favicon"})]})}),(0,b.jsx)("h2",{className:"adminPageHeading",children:"Change Favicon"}),(0,b.jsx)("form",{className:"adminForm",children:(0,b.jsxs)("div",{className:"mb-5 mt-5",children:[(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsx)("div",{className:"adminFavicon mb-4 mt-4",children:F&&(0,b.jsx)("img",{className:"adminFaviconImage",src:F,alt:"Selected"})}),(0,b.jsx)("form",{children:(0,b.jsx)("div",{className:"mt-5",children:(0,b.jsxs)("div",{class:"DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["New Favicon",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{class:"form-control",type:"file",id:"formFile",lable:"Image",name:"favicon",accept:".ico",onChange:e=>Z(e)}),(0,b.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: ico (Max. 500 KB). Min file size 16 X 16 pixels."})]})})})]}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{if(e.favicon&&null!==e.favicon){if((await f().fire({title:"Upload Favicon",text:"Do you want to upload this Favicon?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const a=await d.Z.post(m.Z+"/admin/changeFavicon",e,{headers:{"Content-Type":"application/json",key:u.Z,token:C,adminid:w}});200===a.data.status?(f().fire({title:"Favicon updated successfully!",icon:"success",confirmButtonText:"Close"}),N(),window.scrollTo(0,0)):f().fire({title:a.data.message,icon:"error",confirmButtonText:"Close"})}}else f().fire({title:"Please select a Favicon!",icon:"warning",confirmButtonText:"Close"})}catch(a){g(!1),f().fire({title:"Could not update Favicon. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update photo!")}},children:"UPDATE"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>B("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,b.jsx)(v.Z,{})]})]})]})}}}]);
//# sourceMappingURL=1976.dd34d589.chunk.js.map