"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[5805],{25037:(e,a,n)=>{n.r(a),n.d(a,{default:()=>N});var s=n(72791),t=n(57689),i=n(65167),l=n(93953),o=n(20890),r=n(13400),d=n(93517),c=n(50533),m=n(98333),u=n(31243),h=n(12503),p=n(10287),v=(n(21830),n(57246)),x=n(1582),j=n(64554),g=n(28429),b=n(88329),f=n(24529),Z=n(80184);const N=()=>{const e=(0,t.s0)(),[a,n]=(0,s.useState)(!1),[N,y]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[k,w]=(0,s.useState)(""),[_,L]=(0,s.useState)(null),R=b.Z.get("token"),P=b.Z.get("adminID"),[z,F]=(0,s.useState)(1),[T,D]=(0,s.useState)(!1),[$,M]=(0,s.useState)(null),A=()=>{L(null),D(!1)},E=async()=>{try{n(!0);const e=await u.Z.post(h.Z+"/admin/payment/index",null,{headers:{"Content-Type":"application/json",key:p.Z,token:R,adminid:P}});n(!1),y(e.data.response)}catch(e){n(!1),console.log("Cannot get plans data at APmanageplans")}},[I,B]=(0,s.useState)({key:"",direction:"ascending"}),[O,H]=(0,s.useState)("\ud83d\udd3a"),q=(V=N,J=I.key,Q=I.direction,W=k,[...V].filter((e=>{var a,n,s,t,i;return(null===(a=e.company_name)||void 0===a?void 0:a.toLowerCase().includes(W))||(null===(n=e.full_name)||void 0===n?void 0:n.toLowerCase().includes(W))||(null===(s=e.plan_name)||void 0===s?void 0:s.toLowerCase().includes(W))||(null===(t=e.transaction_id)||void 0===t?void 0:t.toLowerCase().includes(W))||(null===(i=e.created)||void 0===i?void 0:i.toLowerCase().includes(W))})).sort(((e,a)=>e[J]<a[J]?"ascending"===Q?-1:1:e[J]>a[J]?"ascending"===Q?1:-1:0)));var V,J,Q,W;const G=N.filter((e=>{var a,n,s,t,i;const l=k.toLowerCase();return(null===(a=e.company_name)||void 0===a?void 0:a.toLowerCase().includes(l))||(null===(n=e.full_name)||void 0===n?void 0:n.toLowerCase().includes(l))||(null===(s=e.plan_name)||void 0===s?void 0:s.toLowerCase().includes(l))||(null===(t=e.transaction_id)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===(i=e.created)||void 0===i?void 0:i.toLowerCase().includes(l))})),K=20*z,U=K-20,X=q.slice(U,K),Y=Math.ceil(q.length/20),ee=[];for(let s=1;s<=Y;s++)ee.push(s);(0,s.useEffect)((()=>{R?(E(),window.scrollTo(0,0)):e("/admin")}),[R,e]),(0,s.useEffect)((()=>{F(1)}),[k]);const ae=e=>{let a="ascending";I.key===e&&"ascending"===I.direction?(a="descending",H("\ud83d\udd3b")):H("\ud83d\udd3a"),B({key:e,direction:a})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(i.Z,{}),(0,Z.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,Z.jsx)(l.Z,{}),a?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"loader-container"})}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"site-min-height pb-3",children:[(0,Z.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,Z.jsxs)(d.Z,{"aria-label":"breadcrumb",separator:(0,Z.jsx)(m.Z,{fontSize:"small"}),children:[(0,Z.jsx)(c.Z,{underline:"hover",color:"inherit",onClick:()=>e("/admin/admins/dashboard"),children:"Dashboard"}),(0,Z.jsx)(o.Z,{color:"text.primary",children:"List Transaction History"})]})}),(0,Z.jsx)("div",{className:"ManageSubAdminHeader",children:(0,Z.jsx)("h2",{className:"",children:"Transaction List"})}),""!=N?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"manageSubadminPart1",children:[(0,Z.jsx)("form",{children:(0,Z.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,Z.jsx)("h4",{children:"Search Transaction by Company name, transaction id , title or payment date"}),(0,Z.jsx)("div",{class:"APDashboardSearchBx ",children:(0,Z.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:k,onChange:e=>{const a=e.target.value.toLowerCase();w(a)}})})]})}),(0,Z.jsxs)("h4",{children:["No. of Results ",U+1,"-",Math.min(K,G.length||N.length)," ","of ",N.length]})]}),(0,Z.jsx)("div",{className:"manageSubadminPart2",children:(0,Z.jsxs)("table",{class:"table",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsxs)("th",{onClick:()=>ae("company_name"),children:["Company Name",O]}),(0,Z.jsxs)("th",{onClick:()=>ae("full_name"),children:["Full Name",O]}),(0,Z.jsxs)("th",{onClick:()=>ae("plan_name"),children:["Plan Name",O]}),(0,Z.jsxs)("th",{onClick:()=>ae("transaction_id"),children:["Transaction#",O]}),(0,Z.jsxs)("th",{onClick:()=>ae("price"),children:["Amount",O]}),(0,Z.jsx)("th",{onClick:()=>ae("created"),children:"Transaction Date"})]})}),(0,Z.jsxs)("tbody",{children:[X.map((e=>(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:(0,Z.jsx)(c.Z,{to:`/admin/users/editusers/${e.slug}`,children:e.company_name})}),(0,Z.jsx)("td",{children:e.full_name}),(0,Z.jsx)("td",{children:(0,Z.jsx)("button",{className:"APTransactionListButton",onClick:()=>(L(e),void D(!0)),children:e.plan_name})}),(0,Z.jsx)("td",{children:e.transaction_id}),(0,Z.jsx)("td",{children:e.price}),(0,Z.jsx)("td",{children:e.created})]})}))),(0,Z.jsx)("div",{children:(0,Z.jsx)(g.Z,{className:"modalMain",open:T,onClose:A,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsxs)(j.Z,{className:"modal adminModal modal-content",children:[(0,Z.jsx)(r.Z,{onClick:A,className:"close-button",style:{position:"absolute",top:10,right:10},children:"\xd7"}),(0,Z.jsx)(o.Z,{id:"modal-modal-title",variant:"h6",component:"h2"}),(0,Z.jsx)(o.Z,{id:"modal-modal-description",sx:{mt:3},children:_&&(0,Z.jsxs)("div",{className:"modals",children:[(0,Z.jsx)("div",{className:"modalHead",children:(0,Z.jsxs)("h4",{children:[" ","Transaction ID -"," ",_.transaction_id]})}),(0,Z.jsxs)("div",{className:"modalBody mt-4",children:[(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["Plan Name:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:_.plan_name})]}),(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["Amount:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:_.price})]}),(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["Transaction ID:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:_.transaction_id})]}),(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["Start Date:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:_.start_date})]}),(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["End Date:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:_.end_date})]}),(0,Z.jsxs)("div",{className:"modalParent",children:[(0,Z.jsxs)("div",{className:"modalLeft",children:["Features:"," "]}),(0,Z.jsx)("div",{className:"modalRight",children:Object.values(_.features).map(((e,a,n)=>(0,Z.jsxs)(Z.Fragment,{children:[a+1,". ",e,(0,Z.jsx)("br",{})]})))})]})]})]})})]})})})]})]})}),(0,Z.jsx)("div",{className:"manageSubadminpart3",children:(0,Z.jsx)("div",{className:"pagination",children:(0,Z.jsx)(x.Z,{spacing:2,children:(0,Z.jsx)(v.Z,{count:Y,color:"primary",page:z,onChange:(e,a)=>F(a)})})})})]}):(0,Z.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,Z.jsx)(f.Z,{})]})]})]})}},96174:(e,a,n)=>{n.d(a,{h:()=>d});var s=n(72791),t=n(54164),i=n(6117),l=n(62876),o=n(62971),r=n(80184);const d=s.forwardRef((function(e,a){const{children:n,container:d,disablePortal:c=!1}=e,[m,u]=s.useState(null),h=(0,i.Z)(s.isValidElement(n)?n.ref:null,a);if((0,l.Z)((()=>{c||u(function(e){return"function"===typeof e?e():e}(d)||document.body)}),[d,c]),(0,l.Z)((()=>{if(m&&!c)return(0,o.Z)(a,m),()=>{(0,o.Z)(a,null)}}),[a,m,c]),c){if(s.isValidElement(n)){const e={ref:h};return s.cloneElement(n,e)}return(0,r.jsx)(s.Fragment,{children:n})}return(0,r.jsx)(s.Fragment,{children:m?t.createPortal(n,m):m})}))},6826:(e,a,n)=>{n.d(a,{T:()=>l});var s=n(72791);n(80184);const t={disableDefaultClasses:!1},i=s.createContext(t);function l(e){const{disableDefaultClasses:a}=s.useContext(i);return n=>a?"":e(n)}},13400:(e,a,n)=>{n.d(a,{Z:()=>f});var s=n(63366),t=n(87462),i=n(72791),l=n(59278),o=n(94419),r=n(12065),d=n(66934),c=n(31402),m=n(23701),u=n(14036),h=n(75878),p=n(21217);function v(e){return(0,p.Z)("MuiIconButton",e)}const x=(0,h.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var j=n(80184);const g=["edge","children","className","color","disabled","disableFocusRipple","size"],b=(0,d.ZP)(m.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,"default"!==n.color&&a[`color${(0,u.Z)(n.color)}`],n.edge&&a[`edge${(0,u.Z)(n.edge)}`],a[`size${(0,u.Z)(n.size)}`]]}})((e=>{let{theme:a,ownerState:n}=e;return(0,t.Z)({textAlign:"center",flex:"0 0 auto",fontSize:a.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(a.vars||a).palette.action.active,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.hoverOpacity})`:(0,r.Fq)(a.palette.action.active,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:a,ownerState:n}=e;var s;const i=null==(s=(a.vars||a).palette)?void 0:s[n.color];return(0,t.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,t.Z)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,t.Z)({},i&&{backgroundColor:a.vars?`rgba(${i.mainChannel} / ${a.vars.palette.action.hoverOpacity})`:(0,r.Fq)(i.main,a.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:a.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:a.typography.pxToRem(28)},{[`&.${x.disabled}`]:{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}})})),f=i.forwardRef((function(e,a){const n=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:r,className:d,color:m="default",disabled:h=!1,disableFocusRipple:p=!1,size:x="medium"}=n,f=(0,s.Z)(n,g),Z=(0,t.Z)({},n,{edge:i,color:m,disabled:h,disableFocusRipple:p,size:x}),N=(e=>{const{classes:a,disabled:n,color:s,edge:t,size:i}=e,l={root:["root",n&&"disabled","default"!==s&&`color${(0,u.Z)(s)}`,t&&`edge${(0,u.Z)(t)}`,`size${(0,u.Z)(i)}`]};return(0,o.Z)(l,v,a)})(Z);return(0,j.jsx)(b,(0,t.Z)({className:(0,l.Z)(N.root,d),centerRipple:!0,focusRipple:!p,disabled:h,ref:a,ownerState:Z},f,{children:r}))}))},13967:(e,a,n)=>{n.d(a,{Z:()=>l});n(72791);var s=n(30418),t=n(36482),i=n(988);function l(){const e=(0,s.Z)(t.Z);return e[i.Z]||e}},4999:(e,a,n)=>{n.d(a,{C:()=>t,n:()=>s});const s=e=>e.scrollTop;function t(e,a){var n,s;const{timeout:t,easing:i,style:l={}}=e;return{duration:null!=(n=l.transitionDuration)?n:"number"===typeof t?t:t[a.mode]||0,easing:null!=(s=l.transitionTimingFunction)?s:"object"===typeof i?i[a.mode]:i,delay:l.transitionDelay}}}}]);
//# sourceMappingURL=5805.6fb7b171.chunk.js.map