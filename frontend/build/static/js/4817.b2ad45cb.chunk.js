"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4817],{5709:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var r=a(72791),s=a(27352),l=a(76082),o=a(57873),i=a(57689),n=a(31243),c=a(10287),d=a(12503),m=a(21830),u=a.n(m),f=a(88329),p=a(39230),b=a(80184);const j=()=>{const[e,t]=(0,r.useState)(!1),[a,m]=(0,r.useState)([]),[j,v]=(0,r.useState)([]),[x,h]=(0,r.useState)([]),[g,y]=(0,r.useState)([]),[k,M]=(0,r.useState)({subject:"",message:"",emailFiles:[]}),[w,D]=(0,r.useState)({subject:"",message:""}),[O,Z]=(0,p.$G)("global"),[N,P]=(0,r.useState)([]),{slug:_}=(0,i.UO)(),C=(0,i.s0)(),B=f.Z.get("tokenClient");let S=f.Z.get("primaryColor"),E=f.Z.get("secondaryColor");const[T,F]=(0,r.useState)(!1),[A,W]=(0,r.useState)(!1),[R,I]=(0,r.useState)(!1),[H,L]=(0,r.useState)(!1);(0,r.useEffect)((()=>{B?($(),window.scrollTo(0,0)):C("/user/jobseekerlogin")}),[B,C]);const V=e=>{const{name:t,value:a}=e.target;M((e=>({...e,[t]:a}))),D((e=>({...e,[t]:""}))),""!=!w.subject&&""!=!w.message||q(!0),""!=k.subject&&""!=k.message||q(!0)},$=async()=>{try{t(!0);const e=await n.Z.post(d.Z+`/candidates/maildetail/${_}`,null,{headers:{"Content-Type":"application/json",key:c.Z,token:B}});t(!1),200===e.data.status?(m(e.data.response.mails),v(e.data.response.mails.reciever),null!==e.data.response.mails.sender&&h(e.data.response.mails.sender),y(e.data.response.images)):400===e.data.status?(f.Z.remove("tokenClient"),f.Z.remove("user_type"),f.Z.remove("fname"),C("/"),u().fire({title:e.data.message,icon:"warning",confirmButtonText:O("jobseekerMailDetail.close")})):u().fire({title:e.data.message,icon:"error",confirmButtonText:O("jobseekerMailDetail.close")})}catch(e){t(!1),"Network Error"===e.message&&(f.Z.remove("tokenClient"),f.Z.remove("user_type"),f.Z.remove("fname"),C("/"),u().fire({title:O("tokenExpired.tokenExpired"),icon:"warning",confirmButtonText:O("jobDescription.close")}),setTimeout((function(){window.location.reload()}),3e3)),console.log("Cannot get mail detail of mail history page at job seeker")}},[z,q]=(0,r.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{}),(0,b.jsxs)("div",{className:"container editProfile",children:[(0,b.jsx)("div",{class:"modal fade",id:"ReplyModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,b.jsx)("div",{class:"modal-dialog",children:(0,b.jsxs)("div",{class:"modal-content",children:[(0,b.jsxs)("div",{class:"modal-header",children:[(0,b.jsx)("h1",{class:"modal-title fs-5",id:"exampleModalLabel",children:O("jobseekerMailDetail.replyMail")}),(0,b.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,b.jsxs)("div",{class:"modal-body",children:[(0,b.jsxs)("div",{class:"form-outline mb-5 mt-4 DashBoardInputBx",children:[(0,b.jsxs)("label",{class:"form-label",for:"form3Example3",children:[O("jobseekerMailDetail.subject")," ",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example3",class:"form-control",placeholder:O("jobseekerMailDetail.subject"),value:k.subject,name:"subject",onChange:V}),(0,b.jsx)("div",{className:"text-danger mt-2",children:w.subject})]}),(0,b.jsxs)("div",{class:"form-outline mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{class:"form-label",for:"form3Example3",children:[O("jobseekerMailDetail.message"),(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example3",class:"form-control",placeholder:O("jobseekerMailDetail.message"),value:k.message,name:"message",onChange:V}),(0,b.jsx)("div",{className:"text-danger mt-2",children:w.message})]}),(0,b.jsxs)("div",{class:"form-outline mb-3 DashBoardInputBx",children:[(0,b.jsx)("label",{for:"formFile",class:"form-label",children:O("jobseekerMailDetail.multipleImages")}),(0,b.jsx)("input",{type:"file",id:"formFile",className:"form-control",name:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files),a=t.map((e=>e.name));P(a),Promise.all(t.map((e=>(e=>new Promise(((t,a)=>{const r=new FileReader;r.onload=e=>{t(e.target.result)},r.onerror=e=>{a(e)},r.readAsDataURL(e)})))(e)))).then((e=>{M({...k,emailFiles:e})})).catch((e=>{console.error("Error converting files to base64:",e)}))}})," ",(0,b.jsx)("div",{id:"emailHelp",class:"form-text mt-2",children:O("jobseekerMailDetail.belowTxt1")})]}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:()=>(async e=>{try{if(!k.subject.trim()||!k.message.trim())return D((e=>({...e,subject:""===k.subject.trim()?O("jobseekerMailDetail.subjectRequired"):"",message:""===k.message.trim()?O("jobseekerMailDetail.messageRequired"):""}))),void q(!1);q(!0);const r={...k,selectedFileName:N,id:a.from_id},s=new FormData;N.forEach(((e,t)=>{s.append(`selectedFileNames[${t}]`,e)})),t(!0);const l=await n.Z.post(d.Z+`/candidates/sendmailemployer/${e}`,r,{headers:{"Content-Type":"application/json",key:c.Z,token:B}});t(!1),200===l.data.status?(u().fire({title:O("jobseekerMailDetail.replySentSuccess"),icon:"success",confirmButtonText:O("jobseekerMailDetail.close")}),window.history.back()):400===l.data.status?(f.Z.remove("tokenClient"),f.Z.remove("user_type"),f.Z.remove("fname"),C("/"),u().fire({title:l.data.message,icon:"warning",confirmButtonText:O("jobseekerMailDetail.close")})):u().fire({title:l.data.message,icon:"error",confirmButtonText:O("jobseekerMailDetail.close")})}catch(r){t(!1),"Network Error"===r.message&&(f.Z.remove("tokenClient"),f.Z.remove("user_type"),f.Z.remove("fname"),C("/"),u().fire({title:O("tokenExpired.tokenExpired"),icon:"warning",confirmButtonText:O("jobDescription.close")}),setTimeout((function(){window.location.reload()}),3e3)),u().fire({title:O("jobseekerMailDetail.failedTitle"),text:O("jobseekerMailDetail.failedTxt"),icon:"error",confirmButtonText:O("jobseekerMailDetail.close")})}})(a.slug),style:{backgroundColor:T?E:S,border:T?E:S},onMouseEnter:()=>{F(!0)},onMouseLeave:()=>{F(!1)},"data-bs-dismiss":z&&"modal","aria-label":z&&"close",children:O("jobseekerMailDetail.submitButton")})]})]})})}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-lg-3",children:(0,b.jsx)(l.Z,{})}),e?(0,b.jsx)("div",{className:"loader-container"}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"col-lg-9 mb-5 mailDetail",style:{borderLeft:"2px solid #e6e8e7",borderRight:"2px solid #e6e8e7"},children:[(0,b.jsxs)("div",{className:"mx-3 d-flex mb-4 PageHeader",children:[(0,b.jsx)("img",{src:"/Images/employerSide/icon8color.png",alt:""}),(0,b.jsx)("h3",{className:"",children:O("jobseekerMailDetail.mailDetail")})]}),(0,b.jsxs)("div",{className:"mx-4 mb-5 mailDetailBx",children:[""!=x.length&&(0,b.jsx)("div",{className:"MDButtonBx",children:(0,b.jsx)("button",{className:"replyButton","data-bs-toggle":"modal","data-bs-target":"#ReplyModal",style:{backgroundColor:R?E:S,border:R?E:S},onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},children:O("jobseekerMailDetail.replyButton")})}),""!=x||null!=x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h5",{children:[O("jobseekerMailDetail.dear")," ",j.first_name?j.first_name:""," ",j.last_name?j.last_name:"",","]}),(0,b.jsxs)("p",{children:[O("jobseekerMailDetail.line1")," ",(0,b.jsx)("br",{}),O("jobseekerMailDetail.companyName")," :"," ",x.company_name?x.company_name:"N/A",(0,b.jsx)("br",{}),O("jobseekerMailDetail.emailAddress")," :"," ",x.email_address?x.email_address:"N/A",(0,b.jsx)("br",{}),O("jobseekerMailDetail.subject")," :"," ",a.subject?a.subject:"",(0,b.jsx)("br",{}),O("jobseekerMailDetail.message")," :"," ",a.message?a.message:""]})]}):"Not Available"]}),g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"fw-bold",children:"Attachments:"}),(0,b.jsx)("div",{className:"jobseekerMailImageBox",children:g&&Object.entries(g).map((e=>{let[t,a]=e;return(0,b.jsx)("img",{src:a})}))})]})]})})]})]}),(0,b.jsx)(s.Z,{})]})}},42093:(e,t,a)=>{var r=a(64836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=s?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r)}(a(72791));var s=r(a(45649)),l=a(80184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var i=(0,s.default)((0,l.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");t.Z=i},21880:(e,t,a)=>{var r=a(64836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=s?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r)}(a(72791));var s=r(a(45649)),l=a(80184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var i=(0,s.default)((0,l.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");t.Z=i},56310:(e,t,a)=>{var r=a(64836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=s?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r)}(a(72791));var s=r(a(45649)),l=a(80184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var i=(0,s.default)((0,l.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");t.Z=i},62298:(e,t,a)=>{var r=a(64836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=s?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r)}(a(72791));var s=r(a(45649)),l=a(80184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var i=(0,s.default)((0,l.jsx)("path",{d:"M9.04 21.54c.96.29 1.93.46 2.96.46a10 10 0 0 0 10-10A10 10 0 0 0 12 2 10 10 0 0 0 2 12c0 4.25 2.67 7.9 6.44 9.34-.09-.78-.18-2.07 0-2.96l1.15-4.94s-.29-.58-.29-1.5c0-1.38.86-2.41 1.84-2.41.86 0 1.26.63 1.26 1.44 0 .86-.57 2.09-.86 3.27-.17.98.52 1.84 1.52 1.84 1.78 0 3.16-1.9 3.16-4.58 0-2.4-1.72-4.04-4.19-4.04-2.82 0-4.48 2.1-4.48 4.31 0 .86.28 1.73.74 2.3.09.06.09.14.06.29l-.29 1.09c0 .17-.11.23-.28.11-1.28-.56-2.02-2.38-2.02-3.85 0-3.16 2.24-6.03 6.56-6.03 3.44 0 6.12 2.47 6.12 5.75 0 3.44-2.13 6.2-5.18 6.2-.97 0-1.92-.52-2.26-1.13l-.67 2.37c-.23.86-.86 2.01-1.29 2.7v-.03z"}),"Pinterest");t.Z=i},47022:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(81694),s=a.n(r),l=a(72791),o=a(10162),i=a(80184);const n=l.forwardRef(((e,t)=>{let{bsPrefix:a,fluid:r=!1,as:l="div",className:n,...c}=e;const d=(0,o.vE)(a,"container"),m="string"===typeof r?`-${r}`:"-fluid";return(0,i.jsx)(l,{ref:t,...c,className:s()(n,r?`${d}${m}`:d)})}));n.displayName="Container";const c=n}}]);
//# sourceMappingURL=4817.b2ad45cb.chunk.js.map