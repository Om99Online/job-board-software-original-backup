"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4309],{14309:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(72791),a=s(57689),o=s(65167),i=s(93953),l=s(20890),c=s(93517),r=s(50533),d=s(98333),u=s(31243),h=s(12503),m=s(10287),x=s(21830),f=s.n(x),C=s(90772),v=s(9e3),j=s(27247),w=s(64558),y=s(872),p=s(51007),N=s(57246),b=s(1582),g=s(88329),Z=s(24529),B=s(80184);const k=()=>{const e=(0,a.s0)(),[t,s]=(0,n.useState)(!1),[x,k]=(0,n.useState)([]),[T,D]=(0,n.useState)([]),[A,S]=(0,n.useState)(""),L=g.Z.get("token"),P=g.Z.get("adminID"),[z,M]=(0,n.useState)(1),F=async()=>{try{s(!0);const e=await u.Z.post(h.Z+"/admin/newsletter/index",null,{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});s(!1),k(e.data.response)}catch(e){s(!1),console.log("Cannot get plans data at APmanageplans")}},[E,H]=(0,n.useState)(!0),V=e=>{if("selectAll"===e){H(!E);const e=E?x.map((e=>e.id)):[];D(e)}else T.includes(e)?D(T.filter((t=>t!==e))):D([...T,e])},[_,q]=(0,n.useState)({key:"",direction:"ascending"}),[Y,$]=(0,n.useState)("\ud83d\udd3a"),I=(R=x,J=_.key,Q=_.direction,G=A,[...R].filter((e=>{var t,s;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(G))||(null===(s=e.created)||void 0===s?void 0:s.toLowerCase().includes(G))})).sort(((e,t)=>e[J]<t[J]?"ascending"===Q?-1:1:e[J]>t[J]?"ascending"===Q?1:-1:0)));var R,J,Q,G;const K=x.filter((e=>{var t,s;const n=A.toLowerCase();return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(s=e.created)||void 0===s?void 0:s.toLowerCase().includes(n))})),O=20*z,U=O-20,W=I.slice(U,O),X=Math.ceil(I.length/20),ee=[];for(let n=1;n<=X;n++)ee.push(n);(0,n.useEffect)((()=>{L?(F(),window.scrollTo(0,0)):e("/admin")}),[L,e]),(0,n.useEffect)((()=>{M(1)}),[A]);const te=e=>{let t="ascending";_.key===e&&"ascending"===_.direction?(t="descending",$("\ud83d\udd3b")):$("\ud83d\udd3a"),q({key:e,direction:t})};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.Z,{}),(0,B.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,B.jsx)(i.Z,{}),t?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{className:"loader-container"})}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:"site-min-height",children:[(0,B.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,B.jsxs)(c.Z,{"aria-label":"breadcrumb",separator:(0,B.jsx)(d.Z,{fontSize:"small"}),children:[(0,B.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e("/admin/admins/dashboard"),children:"Dashboard"}),(0,B.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e(""),children:"Newsletter"}),(0,B.jsx)(l.Z,{color:"text.primary",children:"Newsletter List"})]})}),(0,B.jsxs)("div",{className:"ManageSubAdminHeader",children:[(0,B.jsx)("h2",{className:"",children:"Newsletter List"}),(0,B.jsx)("button",{className:"btn navButton1 APMSbutton",onClick:()=>e("/admin/newsletters/addNewsletter"),children:"Add Newsletter"})]}),""!=x?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:"manageSubadminPart1",children:[(0,B.jsx)("form",{children:(0,B.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,B.jsx)("h4",{children:"Search Newsletter by Subject"}),(0,B.jsx)("div",{class:"APDashboardSearchBx",children:(0,B.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:A,onChange:e=>{const t=e.target.value.toLowerCase();S(t)}})})]})}),(0,B.jsxs)("h4",{children:["No. of Results ",U+1,"-",Math.min(O,K.length||x.length)," ","of ",x.length]})]}),(0,B.jsx)("div",{className:"manageSubadminPart2",children:(0,B.jsxs)("table",{class:"table",children:[(0,B.jsx)("thead",{children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{className:"checkBoxCol checkBxHead",children:(0,B.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>V("selectAll")})}),(0,B.jsxs)("th",{onClick:()=>te("subject"),children:["Subject ",Y]}),(0,B.jsxs)("th",{onClick:()=>te("created"),children:[(0,B.jsx)(C.Z,{})," Created ",Y]}),(0,B.jsx)("th",{scope:"col",children:"Action"})]})}),(0,B.jsx)("tbody",{children:W.map((t=>(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{className:"checkBoxCol",children:(0,B.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:T.includes(t.id),onChange:()=>V(t.id)})}),(0,B.jsx)("td",{onClick:()=>te("subject"),children:t.subject}),(0,B.jsx)("td",{onClick:()=>te("created"),children:t.created}),(0,B.jsxs)("td",{className:"APActionButton",children:[1===t.status?(0,B.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Deactivate Newsletter?",text:"Do you want to Deactivate this Newsletter?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(h.Z+`/admin/newsletter/admin_deactivate/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});200===t.data.status?f().fire({title:"Newsletter Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),F()}}catch(t){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Newsletter",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",t.message)}})(t.slug),children:(0,B.jsx)(p.Z,{title:"Deactivate",children:(0,B.jsx)(y.Z,{})})}):(0,B.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Activate Newsletter?",text:"Do you want to Activate this Newsletter?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(h.Z+`/admin/newsletter/admin_activate/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});200===t.data.status?f().fire({title:"Newsletter Activated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),F()}}catch(t){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Activate Newsletter",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",t.message)}})(t.slug),children:(0,B.jsx)(p.Z,{title:"Activate",children:(0,B.jsx)(w.Z,{})})}),(0,B.jsx)("button",{className:"btn-primary",onClick:()=>e(`/admin/newsletters/editNewsletter/${t.slug}`),children:(0,B.jsx)(p.Z,{title:"Edit",children:(0,B.jsx)(v.Z,{})})}),(0,B.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Delete Newsletter?",text:"Do you want to Delete this Newsletter?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(h.Z+`/admin/newsletter/admin_delete/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});200===t.data.status?f().fire({title:"Newsletter deleted successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),F()}}catch(t){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Delete Newsletter",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(t.slug),children:(0,B.jsx)(p.Z,{title:"Delete",children:(0,B.jsx)(j.Z,{})})})]})]})})))})]})}),(0,B.jsxs)("div",{className:"manageSubadminpart3",children:[(0,B.jsxs)("div",{className:"functionalityButton",children:[(0,B.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await f().fire({title:"Activate Newsletters?",text:"Do you want to Activate these Newsletters?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=T.toString();console.log(e);const t=await u.Z.post(h.Z+"/admin/newsletter/index",{idList:e,action:"activate"},{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});H(!0),D(""),200===t.data.status?f().fire({title:"Newsletters Activated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Activate!",icon:"error",confirmButtonText:"Close"}),F()}}catch(e){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Activate Newsletters",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",e.message)}})(),children:"ACTIVATE"}),(0,B.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await f().fire({title:"Deactivate Newsletters?",text:"Do you want to Deactivate these Newsletter?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=T.join(",");console.log(e);const t=await u.Z.post(h.Z+"/admin/newsletter/index",{idList:e,action:"deactivate"},{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});H(!0),D(""),200===t.data.status?f().fire({title:"Newsletters Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Deactivate!",icon:"error",confirmButtonText:"Close"}),F()}}catch(e){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Newsletters",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",e.message)}})(),children:"DEACTIVATE"}),(0,B.jsx)("button",{type:"button",className:"btn btn-primary APButton4",onClick:()=>(async()=>{try{if((await f().fire({title:"Delete Newsletters?",text:"Do you want to Delete these Newsletters?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=T.toString();console.log(e);const t=await u.Z.post(h.Z+"/admin/newsletter/index",{idList:e,action:"delete"},{headers:{"Content-Type":"application/json",key:m.Z,token:L,adminid:P}});H(!0),D(""),200===t.data.status?f().fire({title:"Newsletters Delete successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Delete!",icon:"error",confirmButtonText:"Close"}),F()}}catch(e){s(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Delete Newsletters",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't Delete the record!",e.message)}})(),children:"DELETE"})]}),(0,B.jsx)("div",{className:"pagination",children:(0,B.jsx)(b.Z,{spacing:2,children:(0,B.jsx)(N.Z,{count:X,color:"primary",page:z,onChange:(e,t)=>M(t)})})})]})]}):(0,B.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,B.jsx)(Z.Z,{})]})]})]})}},64558:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=i},90772:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonth");t.Z=i},872:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=i},9e3:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=i},27247:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i}}]);
//# sourceMappingURL=4309.7ffc644d.chunk.js.map