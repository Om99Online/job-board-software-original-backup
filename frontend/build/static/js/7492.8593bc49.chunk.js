"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[7492],{67492:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(72791),a=s(57689),o=s(65167),i=s(93953),l=s(20890),c=s(93517),r=s(50533),d=s(98333),h=s(31243),u=s(12503),m=s(10287),x=s(21830),p=s.n(x),j=s(27247),y=s(51007),f=s(57246),C=s(1582),g=s(88329),w=s(24529),b=s(80184);const k=()=>{const e=(0,a.s0)(),[t,s]=(0,n.useState)(!1),[x,k]=(0,n.useState)([]),[v,N]=(0,n.useState)([]),[Z,B]=(0,n.useState)(""),S=g.Z.get("token"),T=g.Z.get("adminID"),[D,A]=(0,n.useState)(1),K=async()=>{try{s(!0);const e=await h.Z.post(u.Z+"/admin/keyword/index",null,{headers:{"Content-Type":"application/json",key:m.Z,token:S,adminid:T}});s(!1),k(e.data.response)}catch(e){s(!1),console.log("Cannot get plans data at APmanageplans")}},[P,L]=(0,n.useState)(!0),q=e=>{if("selectAll"===e){L(!P);const e=P?x.map((e=>e.id)):[];N(e)}else v.includes(e)?N(v.filter((t=>t!==e))):N([...v,e])},[F,R]=(0,n.useState)({key:"",direction:"ascending"}),[_,E]=(0,n.useState)("\ud83d\udd3a"),M=(H=x,z=F.key,V=F.direction,Y=Z,[...H].filter((e=>e.name.toLowerCase().includes(Y)||e.type.toLowerCase().includes(Y))).sort(((e,t)=>e[z]<t[z]?"ascending"===V?-1:1:e[z]>t[z]?"ascending"===V?1:-1:0)));var H,z,V,Y;const $=x.filter((e=>{const t=Z.toLowerCase();return e.name.toLowerCase().includes(t)||e.type.toLowerCase().includes(t)})),I=20*D,J=I-20,Q=M.slice(J,I),G=Math.ceil(M.length/20),O=[];for(let n=1;n<=G;n++)O.push(n);(0,n.useEffect)((()=>{null!==S&&""!==S||e("/admin"),K(),window.scrollTo(0,0)}),[]),(0,n.useEffect)((()=>{A(1)}),[Z]);const U=e=>{let t="ascending";F.key===e&&"ascending"===F.direction?(t="descending",E("\ud83d\udd3b")):E("\ud83d\udd3a"),R({key:e,direction:t})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{}),(0,b.jsxs)("div",{className:"APBasic APManageSubadmin APRequestedKeyword",children:[(0,b.jsx)(i.Z,{}),t?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,b.jsxs)(c.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(d.Z,{fontSize:"small"}),children:[(0,b.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e("/admin/admins/dashboard"),children:"Dashboard"}),(0,b.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e(""),children:"Request Keywords"}),(0,b.jsx)(l.Z,{color:"text.primary",children:"Request Keyword List"})]})}),(0,b.jsx)("div",{className:"ManageSubAdminHeader",children:(0,b.jsx)("h2",{className:"",children:"Request Keyword List"})}),""!=x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"manageSubadminPart1",children:[(0,b.jsx)("form",{children:(0,b.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,b.jsx)("h4",{children:"Request Keyword by Name"}),(0,b.jsx)("div",{class:"APDashboardSearchBx ",children:(0,b.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:Z,onChange:e=>{const t=e.target.value.toLowerCase();B(t)}})})]})}),(0,b.jsxs)("h4",{children:["No. of Results ",J+1,"-",Math.min(I,$.length||x.length)," ","of ",x.length]})]}),(0,b.jsx)("div",{className:"manageSubadminPart2",children:(0,b.jsxs)("table",{class:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"checkBoxCol checkBxHead",children:(0,b.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>q("selectAll")})}),(0,b.jsxs)("th",{onClick:()=>U("name"),children:["Keyword Name",_]}),(0,b.jsxs)("th",{onClick:()=>U("type"),children:["Keyword Type",_]}),(0,b.jsx)("th",{children:"Approval Status"}),(0,b.jsx)("th",{scope:"col",children:"Action"})]})}),(0,b.jsx)("tbody",{children:Q.map((e=>(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"checkBoxCol",children:(0,b.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:v.includes(e.id),onChange:()=>q(e.id)})}),(0,b.jsx)("td",{children:e.name}),(0,b.jsx)("td",{children:e.type}),(0,b.jsx)("td",{children:(0,b.jsxs)("select",{class:"form-select requestedSelect","aria-label":"Default select example",value:e.approval_status,onChange:()=>(async e=>{try{200===(await h.Z.post(u.Z+`/admin/keyword/admin_approveStatus/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:S,adminid:T}})).data.status?p().fire({title:"Approval Status changed successfully!",icon:"success",confirmButtonText:"Close"}):p().fire({title:"Couldn't change approval status!",icon:"error",confirmButtonText:"Close"}),K()}catch(t){p().fire({title:"Couldn't change approval status! Try after some time",icon:"error",confirmButtonText:"Close"})}})(e.slug),children:[(0,b.jsx)("option",{value:"1",children:"Pending"}),(0,b.jsx)("option",{value:"0",children:"Approved"})]})}),(0,b.jsx)("td",{className:"APActionButton",children:(0,b.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await p().fire({title:"Delete Keyword?",text:"Do you want to Delete this keyword?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await h.Z.post(u.Z+`/admin/keyword/admin_delete/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:S,adminid:T}});200===t.data.status?p().fire({title:"Keyword deleted successfully!",icon:"success",confirmButtonText:"Close"}):p().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),K()}}catch(t){s(!1),p().fire({title:"Failed. Please try after some time!",text:"Could not Delete Sub-Admin",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(e.slug),children:(0,b.jsx)(y.Z,{title:"Delete",children:(0,b.jsx)(j.Z,{})})})})]})})))})]})}),(0,b.jsxs)("div",{className:"manageSubadminpart3",children:[(0,b.jsx)("div",{className:"functionalityButton",children:(0,b.jsx)("button",{type:"button",className:"btn btn-primary APButton4",onClick:()=>(async()=>{try{if((await p().fire({title:"Delete Keyword?",text:"Do you want to Delete these Keywords?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=v.toString();console.log(e);const t=await h.Z.post(u.Z+"/admin/keyword/index",{idList:e,action:"delete"},{headers:{"Content-Type":"application/json",key:m.Z,token:S,adminid:T}});L(!0),N(""),200===t.data.status?p().fire({title:"Keywords Deleted successfully!",icon:"success",confirmButtonText:"Close"}):p().fire({title:"Couldn't Delete!",icon:"error",confirmButtonText:"Close"}),K()}}catch(e){s(!1),p().fire({title:"Failed. Please try after some time!",text:"Could not Delete Keywords",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't Delete the record!",e.message)}})(),children:"DELETE"})}),(0,b.jsx)("div",{className:"pagination",children:(0,b.jsx)(C.Z,{spacing:2,children:(0,b.jsx)(f.Z,{count:G,color:"primary",page:D,onChange:(e,t)=>A(t)})})})]})]}):(0,b.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,b.jsx)(w.Z,{})]})]})]})}},27247:(e,t,s)=>{var n=s(64836);t.Z=void 0;var a=n(s(45649)),o=s(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i}}]);
//# sourceMappingURL=7492.8593bc49.chunk.js.map