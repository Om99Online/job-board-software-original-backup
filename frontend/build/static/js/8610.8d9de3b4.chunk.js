"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[8610],{68610:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var l=s(72791),t=s(65167),o=s(93953),r=s(20890),n=s(93517),i=s(50533),c=s(98333),d=s(31243),m=s(12503),p=s(10287),j=s(21830),b=s.n(j),x=s(57689),h=s(88329),u=s(24529),_=s(80184);const y=()=>{const[e,a]=(0,l.useState)({xml_url:"",employer_id:"",job_title:"",job_discription:"",job_category:"",job_skills:"",job_designation:"",job_location:"",work_type:"",expirydate:"",comapany_name:"",comapany_website:"",contact_person:"",tagNames:""}),[s,j]=(0,l.useState)({xml_url:""}),[y,f]=(0,l.useState)({xml_url:"",employer_id:"",job_title:"",job_discription:"",job_category:"",job_skills:"",job_designation:"",job_location:"",work_type:"",expirydate:"",comapany_name:"",comapany_website:"",contact_person:""}),[g,v]=(0,l.useState)(!1),[N,C]=(0,l.useState)([]),[k,w]=(0,l.useState)([]),S=h.Z.get("token"),B=h.Z.get("adminID"),D=h.Z.get("xml_url"),T=(0,x.s0)(),I=s=>{const{name:l,value:t}=s.target;a((e=>({...e,[l]:t}))),f((e=>({...e,[l]:""}))),console.log(e)};return(0,l.useEffect)((()=>{S?((async()=>{try{console.log("xmlData",D),v(!0);const e=await d.Z.post(m.Z+"/admin/job/admin_jobimportdata",{xml_url:D},{headers:{"Content-Type":"application/json",key:p.Z,token:S,adminid:B}});v(!1),C(e.data.response.employer_id),w(e.data.response.tagNames)}catch(e){v(!1),console.log("Error at import jobs at Admin panel")}})(),window.scrollTo(0,0)):T("/admin")}),[S,T]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(t.Z,{}),(0,_.jsxs)("div",{className:"APBasic",children:[(0,_.jsx)(o.Z,{}),g?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"loader-container"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"site-min-height",children:[(0,_.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,_.jsxs)(n.Z,{"aria-label":"breadcrumb",separator:(0,_.jsx)(c.Z,{fontSize:"small"}),children:[(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>T("/admin/admins/dashboard"),children:"Dashboard"}),(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>T("/admin/candidates"),children:"List Jobs"}),(0,_.jsx)(r.Z,{color:"text.primary",children:"New Import Jobs"})]})}),(0,_.jsx)("h2",{className:"adminPageHeading",children:"New Import Jobs"}),(0,_.jsx)("form",{className:"adminForm",children:(0,_.jsxs)("div",{className:"mb-4 mt-5",children:[(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.employer_id&&"input-error"}`,"aria-label":"Default select example",name:"employer_id",value:e.employer_id,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Company"}),N.map((e=>(0,_.jsx)("option",{value:e.id,children:e.company_name?e.company_name:e.first_name})))]}),y.employer_id&&(0,_.jsx)("div",{className:"text-danger",children:y.employer_id})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Title",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_title&&"input-error"}`,"aria-label":"Default select example",name:"job_title",value:e.job_title,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_title&&(0,_.jsx)("div",{className:"text-danger",children:y.job_title})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Description",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_discription&&"input-error"}`,"aria-label":"Default select example",name:"job_discription",value:e.job_discription,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_discription&&(0,_.jsx)("div",{className:"text-danger",children:y.job_discription})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Category",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_category&&"input-error"}`,"aria-label":"Default select example",name:"job_category",value:e.job_category,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_category&&(0,_.jsx)("div",{className:"text-danger",children:y.job_category})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Skills",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_skills&&"input-error"}`,"aria-label":"Default select example",name:"job_skills",value:e.job_skills,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_skills&&(0,_.jsx)("div",{className:"text-danger",children:y.job_skills})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Designation",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_designation&&"input-error"}`,"aria-label":"Default select example",name:"job_designation",value:e.job_designation,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_designation&&(0,_.jsx)("div",{className:"text-danger",children:y.job_designation})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Location",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.job_location&&"input-error"}`,"aria-label":"Default select example",name:"job_location",value:e.job_location,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.job_location&&(0,_.jsx)("div",{className:"text-danger",children:y.job_location})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Work Type",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.work_type&&"input-error"}`,"aria-label":"Default select example",name:"work_type",value:e.work_type,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.work_type&&(0,_.jsx)("div",{className:"text-danger",children:y.work_type})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Expiry Date",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.expirydate&&"input-error"}`,"aria-label":"Default select example",name:"expirydate",value:e.expirydate,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.expirydate&&(0,_.jsx)("div",{className:"text-danger",children:y.expirydate})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.comapany_name&&"input-error"}`,"aria-label":"Default select example",name:"comapany_name",value:e.comapany_name,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.comapany_name&&(0,_.jsx)("div",{className:"text-danger",children:y.comapany_name})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Website",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.comapany_website&&"input-error"}`,"aria-label":"Default select example",name:"comapany_website",value:e.comapany_website,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.comapany_website&&(0,_.jsx)("div",{className:"text-danger",children:y.comapany_website})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Contact Person",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${y.contact_person&&"input-error"}`,"aria-label":"Default select example",name:"contact_person",value:e.contact_person,onChange:I,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(k).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),y.contact_person&&(0,_.jsx)("div",{className:"text-danger",children:y.contact_person})]}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const a={};if(""===e.employer_id&&(a.employer_id="Please select a company"),""===e.job_title&&(a.job_title="Job title is required"),""===e.job_discription&&(a.job_discription="Job discription is required"),""===e.job_category&&(a.job_category="Job category is required"),""===e.job_skills&&(a.job_skills="Job skills is required"),""===e.job_designation&&(a.job_designation="Job designation is required"),""===e.job_location&&(a.job_location="Job location is required"),""===e.work_type&&(a.work_type="Work type is required"),""===e.expirydate&&(a.expirydate="Expiry date is required"),""===e.comapany_name&&(a.comapany_name="Company name is required"),""===e.comapany_website&&(a.comapany_website="Company website is required"),""===e.contact_person&&(a.contact_person="Contact person is required"),f(a),0===Object.keys(a).length){if((await b().fire({title:"Import?",text:"Do you want to Import Jobs?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){v(!0);const a={...e,tagNames:k,xml_url:D},s=await d.Z.post(m.Z+"/admin/job/admin_jobimportnew",a,{headers:{"Content-Type":"application/json",key:p.Z,token:S,adminid:B}});v(!1),200===s.data.status?(b().fire({title:"Jobs Imported successfully!",icon:"success",confirmButtonText:"Close"}),T("/admin/jobs/importlist")):b().fire({title:s.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(a){v(!1),b().fire({title:"Failed",text:"Could not Import Jobs. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"NEXT"})]})})]}),(0,_.jsx)(u.Z,{})]})]})]})}}}]);
//# sourceMappingURL=8610.8d9de3b4.chunk.js.map