"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[7647],{77647:(e,s,r)=>{r.r(s),r.d(s,{default:()=>y});var a=r(72791),o=r(57873),t=r(27352),i=r(57689),l=r(11087),n=r(31243),d=r(12503),c=r(21830),m=r.n(c),p=r(28007),g=r(88329),u=r(3746),x=r(20165),h=r(51007),j=r(39230),w=r(80184);const y=()=>{const[e,s]=(0,a.useState)({email:"",password:""}),[r,c]=(0,a.useState)({email:"",password:""}),[y,f]=(0,a.useState)(!1),[v,L]=(0,j.$G)("global"),N=(g.Z.get("selectedLanguage"),g.Z.get("selectedLanguage")||"en"),b=e=>{const{name:r,value:a}=e.target;s((e=>({...e,[r]:a}))),c((e=>({...e,[r]:""})))},Z=(0,i.s0)(),[C,k]=(0,a.useState)(!1),[T,_]=(0,a.useState)(!1);let E=g.Z.get("primaryColor"),P=g.Z.get("secondaryColor"),S=g.Z.get("siteLogo"),B=g.Z.get("captchaKey");const[F,$]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.Z,{}),C?(0,w.jsx)("div",{className:"loader-container"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"container employerLogin",children:(0,w.jsx)("div",{className:"card rounded",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-md-6 leftSection",children:(0,w.jsx)("img",{src:"/Images/employerlogin.jpg",alt:""})}),(0,w.jsxs)("div",{className:"col-md-6  mt-3",children:[(0,w.jsxs)("div",{className:"text-center",children:[S&&(0,w.jsx)("img",{src:S,alt:"logo"}),!S&&(0,w.jsx)("img",{src:"/Images/logo.png",alt:""})]}),(0,w.jsx)("div",{className:"card-title text-center h3 pt-5",children:v("employerLogin.EmployerLogin")}),(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("form",{className:" border border-light",children:[(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("input",{type:"email",id:"defaultLoginFormEmail",className:`form-control ${r.email&&"input-error"}`,value:e.email,placeholder:v("employerLogin.email"),name:"email",onChange:b}),r.email&&(0,w.jsx)("div",{className:"text-danger",children:r.email})]}),(0,w.jsxs)("div",{className:"passwordBox",children:[(0,w.jsx)("input",{type:F?"text":"password",id:"defaultLoginFormPassword",className:`form-control ${r.password&&"input-error"}`,value:e.password,name:"password",placeholder:v("employerLogin.password"),onChange:b}),(0,w.jsx)("div",{className:"passwordVisibility",children:(0,w.jsx)("p",{className:"btn-primary",type:"button",onClick:()=>{$(!F)},children:F?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(h.Z,{title:"Hide Password",children:(0,w.jsx)(x.Z,{})})}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(h.Z,{title:"View Password",children:(0,w.jsx)(u.Z,{})})})})}),r.password&&(0,w.jsx)("div",{className:"text-danger",children:r.password})]}),(0,w.jsxs)("div",{className:"reCaptchaLogin",children:[(0,w.jsx)(p.Z,{sitekey:B,onChange:e=>f(e)}),r.captcha&&(0,w.jsx)("div",{className:"text-danger CaptchaVerify",children:r.captcha})]}),(0,w.jsx)("div",{className:"forgotPassword",children:(0,w.jsx)(l.rU,{to:"/users/forgotpassword",children:v("employerLogin.forgotPassword")})}),(0,w.jsx)("div",{className:"text-center",children:(0,w.jsx)("button",{className:"btn button1 my-4 ",type:"submit",onClick:async s=>{s.preventDefault();try{const a={};function o(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)}if(""===e.email?(a.email=v("employerLogin.emailRequired"),window.scrollTo(0,0)):o(e.email)||(a.email=v("employerLogin.invalidEmail"),window.scrollTo(0,0)),""===e.password&&(a.password=v("employerLogin.passwordRequired"),window.scrollTo(0,0)),y||(a.captcha=v("employerLogin.captchaRequired")),c(a),0===Object.keys(a).length&&y){k(!0);const t={...e,language:N},i=await n.Z.post(d.Z+"/users/login",t);let l=i.data.status;if(k(!1),200==l&&""!==i.data.response.user.token){if("recruiter"!==i.data.response.user.user_type)m().fire({title:v("employerLogin.wrongCredentials"),icon:"error",confirmButtonText:v("employerLogin.close")}),f(!1);else{let p=i.data.response.user.token,u=i.data.response.user.first_name,x=i.data.response.user.user_type;g.Z.set("tokenClient",p),g.Z.set("fname",u),g.Z.set("user_type",x),Z("/user/myprofile");m().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",m().stopTimer),e.addEventListener("mouseleave",m().resumeTimer)}}).fire({icon:"success",title:v("employerLogin.welcome")+" "+u}),f(!1)}}500==l?(m().fire({title:i.data.message,icon:"error",timer:3e3,timerProgressBar:!0}),f(!1)):console.log("Nothing works")}}catch(r){k(!1),m().fire({title:v("employerLogin.failedTitle"),icon:"error",confirmButtonText:v("employerLogin.close")}),f(!1)}},style:{backgroundColor:T?P:E,border:T?P:E},onMouseEnter:()=>{_(!0)},onMouseLeave:()=>{_(!1)},children:v("employerLogin.login")})})]})})]})]})})}),(0,w.jsx)(t.Z,{})]})]})}}}]);
//# sourceMappingURL=7647.d555ccc8.chunk.js.map