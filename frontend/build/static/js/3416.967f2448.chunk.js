"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[3416],{3416:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var o=a(72791),l=a(27352),t=a(57689),n=a(11087),d=a(57873),r=a(76082),i=a(31243),c=a(10287),m=a(12503),j=a(88329),h=a(64554),x=a(28429),y=a(13400),b=a(20890),N=a(39230),p=a(21830),v=a.n(p),u=a(80184);const f=()=>{const[e,s]=(0,o.useState)([]),[a,p]=(0,o.useState)(!1),f=j.Z.get("tokenClient"),k=(0,t.s0)(),[P,g]=(0,o.useState)(null),[H,w]=(0,o.useState)(""),[C,_]=(0,o.useState)(),[S,Z]=(0,o.useState)(!1);let E=j.Z.get("primaryColor"),J=j.Z.get("secondaryColor");const[M,T]=(0,N.$G)("global"),[B,D]=(0,o.useState)(!1),[A,F]=(0,o.useState)(!1),[I,L]=(0,o.useState)(!1),[U,O]=(0,o.useState)(!1),R=e=>{g(e),Z(!0)},$=()=>{g(null),Z(!1)};(0,o.useEffect)((()=>{f?(G(),window.scrollTo(0,0)):k("/user/jobseekerlogin")}),[f,k]);const G=async()=>{try{p(!0);const e=await i.Z.post(m.Z+"/payments/history",null,{headers:{"Content-Type":"application/json",key:c.Z,token:f}});p(!1),200===e.data.status?s(e.data.response):400===e.data.status?(j.Z.remove("tokenClient"),j.Z.remove("user_type"),j.Z.remove("fname"),k("/"),v().fire({title:e.data.message,icon:"warning",confirmButtonText:M("jobseekerManageAlert.close")})):v().fire({title:e.data.message,icon:"error",confirmButtonText:M("jobseekerManageAlert.close")})}catch(e){p(!1),"Network Error"===e.message&&(j.Z.remove("tokenClient"),j.Z.remove("user_type"),j.Z.remove("fname"),k("/"),v().fire({title:M("tokenExpired.tokenExpired"),icon:"warning",confirmButtonText:M("jobDescription.close")}),setTimeout((function(){window.location.reload()}),3e3)),console.log("Cannot get payment data")}},[V,q]=(0,o.useState)(1),z=10*V,K=z-10,Q=e.slice(K,z),W=e=>q(e);return(0,o.useEffect)((()=>{if(C&&H){const e=document.createElement("a");e.style.display="none",e.href=H,e.download="Membership_Plan_Invoice.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e),w(""),_(null)}}),[C,H]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.Z,{}),a?(0,u.jsx)("div",{className:"loader-container"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"container paymentHistory",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-3 col-md-3",children:(0,u.jsx)(r.Z,{})}),(0,u.jsxs)("div",{className:"col-lg-9 col-md-9 mb-5",style:{borderLeft:"2px solid #e6e8e7",borderRight:"2px solid #e6e8e7"},children:[(0,u.jsxs)("div",{className:"PHHeader",children:[(0,u.jsxs)("div",{className:"d-flex PageHeader",children:[(0,u.jsx)("img",{src:"/Images/employerSide/icon3color.png",alt:""}),(0,u.jsx)("h3",{className:"",children:M("jobseekerPaymentHistory.paymentHistory")})]}),P&&(0,u.jsx)("div",{class:"modal fade",id:"PlanModal",tabindex:"-1",role:"dialog","aria-labelledby":"PlanModalLabel","aria-hidden":"true",children:(0,u.jsx)("div",{class:"modal-dialog",children:(0,u.jsxs)("div",{class:"modal-content",children:[(0,u.jsxs)("div",{class:"modal-header",children:[(0,u.jsx)("h1",{class:"modal-title fs-5",children:P.transaction_id}),(0,u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{g(null)}})]}),(0,u.jsxs)("div",{className:"modal-body",children:[(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.planName"),":"," ",P.plan_name]}),(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.amount"),":"," ",P.amount]}),(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.transactionId"),":"," ",P.transaction_id]}),(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.startDate"),":"," ",P.formated_start_date]}),(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.endDate"),":"," ",P.formated_end_date]}),(0,u.jsxs)("p",{children:[M("jobseekerPaymentHistory.features"),": Number of Job Apply - 5"]})]})]})})}),(0,u.jsx)("div",{children:(0,u.jsx)(x.Z,{className:"modalMain",open:S,onClose:$,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,u.jsxs)(h.Z,{className:"modal adminModal modal-content",children:[(0,u.jsx)(y.Z,{onClick:$,className:"close-button",style:{position:"absolute",top:10,right:10},children:"\xd7"}),(0,u.jsx)(b.Z,{id:"modal-modal-title",variant:"h6",component:"h2"}),(0,u.jsx)(b.Z,{id:"modal-modal-description",sx:{mt:6},children:P&&(0,u.jsxs)("div",{className:"modals ",children:[(0,u.jsx)("div",{className:"modalHead",children:(0,u.jsxs)("h1",{children:[M("jobseekerPaymentHistory.id")," -"," ",P.transaction_id]})}),(0,u.jsxs)("div",{className:"modalBody mt-4",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.invoiceNo"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.invoice_no})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.firstName"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.first_name})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.lastName"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.last_name})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.contactNumber"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.contact})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.emailAddress"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.email_address})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.address"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.address})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.planName"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.plan_name})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.amount"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.amount})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.transactionId"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.transaction_id})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.startDate"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.formated_start_date})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.endDate"),":"," "]}),(0,u.jsx)("div",{className:"col-md-4 m-2",children:P.formated_end_date})]}),(0,u.jsxs)("div",{className:"col-md-4 fw-bold m-2",children:[M("jobseekerPaymentHistory.features"),":"," "]}),(0,u.jsx)("div",{className:"col-md-12 m-2",children:Object.values(P.features).map(((e,s,a)=>(0,u.jsxs)(u.Fragment,{children:[s+1,". ",e,(0,u.jsx)("br",{})]})))})]})]})})]})})}),(0,u.jsx)("div",{className:"PHBody mt-5",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"table-active TrFirst",children:[(0,u.jsx)("th",{className:"JSPHFirstCol",scope:"col p-3",children:M("jobseekerPaymentHistory.SNo.")}),(0,u.jsx)("th",{className:"JSPHSecondCol",scope:"col p-3",children:M("jobseekerPaymentHistory.planName")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.amount")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.transactionId")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.startDate")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.endDate")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.paidOn")}),(0,u.jsx)("th",{className:"JSPHEachCol",scope:"col p-3",children:M("jobseekerPaymentHistory.action")})]})}),(0,u.jsx)("tbody",{children:Q.map(((e,s)=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{className:"TrDefoult",children:[(0,u.jsx)("td",{className:"JSPHFirstCol",children:s+1}),(0,u.jsx)("td",{className:"JSPHSecondCol",children:(0,u.jsx)(n.rU,{type:"button",onClick:()=>R(e),children:e.plan_name})}),(0,u.jsx)("td",{className:"JSPHEachCol",children:e.amount}),(0,u.jsx)("td",{className:"JSPHEachCol",children:e.transaction_id}),(0,u.jsx)("td",{className:"JSPHEachCol",children:e.formated_start_date}),(0,u.jsx)("td",{className:"JSPHEachCol",children:e.formated_end_date}),(0,u.jsx)("td",{className:"JSPHEachCol",children:e.created}),(0,u.jsxs)("td",{className:"TrActions",children:[(0,u.jsx)(n.rU,{className:"btn btn-primary",onClick:()=>R(e),children:(0,u.jsx)("i",{className:"fa fa-eye"})}),(0,u.jsx)(n.rU,{onClick:()=>(async e=>{try{p(!0);const s=await i.Z.post(m.Z+`/users/generateinvoice/${e}`,null,{headers:{"Content-Type":"application/json",key:c.Z,token:f}});p(!1),200===s.data.status?(w(s.data.response.invoice),_(e)):400===s.data.status?(j.Z.remove("tokenClient"),j.Z.remove("user_type"),j.Z.remove("fname"),k("/"),v().fire({title:s.data.message,icon:"warning",confirmButtonText:M("jobseekerManageAlert.close")})):v().fire({title:s.data.message,icon:"error",confirmButtonText:M("jobseekerManageAlert.close")})}catch(s){p(!1),"Network Error"===s.message&&(j.Z.remove("tokenClient"),j.Z.remove("user_type"),j.Z.remove("fname"),k("/"),v().fire({title:M("tokenExpired.tokenExpired"),icon:"warning",confirmButtonText:M("jobDescription.close")}),setTimeout((function(){window.location.reload()}),3e3)),console.log("Cannot get CV data pdf format",s.message)}})(e.id),className:"btn btn-secondary",children:(0,u.jsx)("i",{className:"fa fa-download"})})]})]},s)})))})]})})]}),(0,u.jsxs)("div",{className:"JSPaymentHistoryPagination",children:[(0,u.jsxs)("p",{className:"text-muted empPaginationData",children:[M("pagination.NoofRecords")," ",e.length>0?K+1:K,"-",Math.min(z,e.length)," of"," ",e.length]}),(0,u.jsxs)("div",{className:"d-flex justify-content-center empPaginationButton",children:[(0,u.jsx)("button",{className:"navButton1 me-2",disabled:1===V,onClick:()=>W(V-1),style:{backgroundColor:I?J:E,border:I?J:E},onMouseEnter:()=>{L(!0)},onMouseLeave:()=>{L(!1)},children:M("pagination.Prev")}),(0,u.jsx)("button",{className:"navButton1",disabled:z>=e.length,onClick:()=>W(V+1),style:{backgroundColor:U?J:E,border:U?J:E},onMouseEnter:()=>{O(!0)},onMouseLeave:()=>{O(!1)},children:M("pagination.Next")})]})]})]})]})}),(0,u.jsx)(l.Z,{})]})]})}}}]);
//# sourceMappingURL=3416.967f2448.chunk.js.map