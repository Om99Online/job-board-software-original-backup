"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[596],{60596:(e,n,a)=>{a.r(n),a.d(n,{default:()=>w});var t=a(72791),s=a(65167),r=a(93953),o=a(20890),l=a(93517),i=a(50533),c=a(98333),d=a(31243),m=a(12503),u=a(10287),h=a(21830),x=a.n(h),j=a(57689),f=a(88329),b=a(24529),p=a(80184);const w=()=>{const[e,n]=(0,t.useState)({name:"",url:""}),[a,h]=(0,t.useState)({name:"",url:""}),[w,N]=(0,t.useState)(!1),g=f.Z.get("token"),v=f.Z.get("adminID"),C=(0,j.s0)(),y=e=>{const{name:a,value:t}=e.target;n((e=>({...e,[a]:t}))),h((e=>({...e,[a]:""})))};return(0,t.useEffect)((()=>{g?window.scrollTo(0,0):C("/admin")}),[g,C]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{}),(0,p.jsxs)("div",{className:"APBasic",children:[(0,p.jsx)(r.Z,{}),w?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"loader-container"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"site-min-height",children:[(0,p.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,p.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,p.jsx)(c.Z,{fontSize:"small"}),children:[(0,p.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>C("/admin/admins/dashboard"),children:"Dashboard"}),(0,p.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>C("/admin/announcements"),children:"Announcement List"}),(0,p.jsx)(o.Z,{color:"text.primary",children:"Add Announcement"})]})}),(0,p.jsx)("h2",{className:"adminPageHeading",children:"Add Announcement"}),(0,p.jsx)("form",{className:"adminForm",children:(0,p.jsxs)("div",{className:"mb-4 mt-5",children:[(0,p.jsxs)("div",{className:"mb-5 DashBoardInputBx",children:[(0,p.jsxs)("label",{for:"formFile",class:"form-label",children:["Announcement Name",(0,p.jsx)("span",{className:"RedStar",children:"*"})]}),(0,p.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.name&&"input-error"}`,name:"name",placeholder:"Announcement Name",value:e.name,onChange:y}),a.name&&(0,p.jsx)("div",{className:"text-danger",children:a.name})]}),(0,p.jsxs)("div",{className:"mb-5 DashBoardInputBx",children:[(0,p.jsxs)("label",{for:"formFile",class:"form-label",children:["URL",(0,p.jsx)("span",{className:"RedStar",children:"*"})]}),(0,p.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.url&&"input-error"}`,name:"url",placeholder:"URL",value:e.url,onChange:y}),a.url&&(0,p.jsx)("div",{className:"text-danger",children:a.url}),(0,p.jsx)("div",{id:"emailHelp",class:"form-text",children:"(Enter URL Like http://www.google.com)"})]}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const n={};if(""===e.name&&(n.name="Announcement Name is required"),""===e.url)n.url="URL is required",window.scrollTo(0,0);else{/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(e.url)||(n.url="Invalid URL format",window.scrollTo(0,0))}if(h(n),0===Object.keys(n).length){if((await x().fire({title:"Add Announcement?",text:"Do you want to Add this Announcement?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){N(!0);const n=await d.Z.post(m.Z+"/admin/announcement/admin_add",e,{headers:{"Content-Type":"application/json",key:u.Z,token:g,adminid:v}});N(!1),200===n.data.status?(x().fire({title:"Announcement added successfully!",icon:"success",confirmButtonText:"Close"}),C("/admin/announcements")):x().fire({title:n.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(n){N(!1),x().fire({title:"Failed",text:"Could not add announcement. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",n)}},children:"SAVE"}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>n({...e,name:"",url:""}),children:"RESET"})]})})]}),(0,p.jsx)(b.Z,{})]})]})]})}}}]);
//# sourceMappingURL=596.156e030d.chunk.js.map