"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[3323],{93323:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(72791),s=n(57689),i=n(65167),o=n(93953),c=n(20890),l=n(93517),r=n(50533),d=n(98333),m=n(31243),u=n(12503),h=n(10287),x=n(21830),f=n.n(x),C=n(90772),j=n(9e3),b=n(27247),v=n(64558),p=n(872),y=n(51007),g=n(42419),A=n(57246),Z=n(1582),S=n(88329),B=n(24529),k=n(80184);const T=()=>{const e=(0,s.s0)(),[t,n]=(0,a.useState)(!1),[x,T]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),[D,L]=(0,a.useState)(""),P=S.Z.get("token"),z=S.Z.get("adminID"),[M,F]=(0,a.useState)(1),_=async()=>{try{n(!0);const e=await m.Z.post(u.Z+"/admin/manage",null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});n(!1),T(e.data.response.adminDetails)}catch(e){n(!1),console.log("Cannot get plans data at APmanageplans")}},[E,H]=(0,a.useState)(!0),V=e=>{if("selectAll"===e){H(!E);const e=E?x.map((e=>e.id)):[];N(e)}else w.includes(e)?N(w.filter((t=>t!==e))):N([...w,e])},[q,Y]=(0,a.useState)({key:"",direction:"ascending"}),[$,I]=(0,a.useState)("\ud83d\udd3a"),R=(J=x,Q=q.key,U=q.direction,G=D,[...J].filter((e=>e.first_name.toLowerCase().includes(G)||e.last_name.toLowerCase().includes(G)||e.username.toLowerCase().includes(G)||e.email.toLowerCase().includes(G))).sort(((e,t)=>e[Q]<t[Q]?"ascending"===U?-1:1:e[Q]>t[Q]?"ascending"===U?1:-1:0)));var J,Q,U,G;const K=x.filter((e=>{const t=D.toLowerCase();return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)||e.username.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)})),O=10*M,W=O-10,X=R.slice(W,O),ee=Math.ceil(R.length/10),te=[];for(let a=1;a<=ee;a++)te.push(a);(0,a.useEffect)((()=>{P?(_(),window.scrollTo(0,0)):e("/admin")}),[P,e]),(0,a.useEffect)((()=>{F(1)}),[D]);const ne=e=>{let t="ascending";q.key===e&&"ascending"===q.direction?(t="descending",I("\ud83d\udd3b")):I("\ud83d\udd3a"),Y({key:e,direction:t})};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Z,{}),(0,k.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,k.jsx)(o.Z,{}),t?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"loader-container"})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"site-min-height",children:[(0,k.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,k.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,k.jsx)(d.Z,{fontSize:"small"}),children:[(0,k.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e("/admin/admins/dashboard"),children:"Dashboard"}),(0,k.jsx)(c.Z,{color:"text.primary",children:"Manage Sub Admins"})]})}),(0,k.jsxs)("div",{className:"ManageSubAdminHeader",children:[(0,k.jsx)("h2",{className:"",children:"Sub Admin List"}),(0,k.jsx)("button",{className:"btn navButton1 APMSbutton",onClick:()=>e("/admin/admins/addsubadmin"),children:"Add Sub Admin"})]}),""!=x?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"manageSubadminPart1",children:[(0,k.jsx)("form",{children:(0,k.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,k.jsx)("h4",{children:"Search Sub Admin by typing first name, last name, username, email"}),(0,k.jsx)("div",{class:"APDashboardSearchBx ",children:(0,k.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:D,onChange:e=>{const t=e.target.value.toLowerCase();L(t)}})})]})}),(0,k.jsxs)("h4",{children:["No. of Results ",W+1,"-",Math.min(O,K.length||x.length)," ","of ",x.length]})]}),(0,k.jsx)("div",{className:"manageSubadminPart2",children:(0,k.jsxs)("table",{class:"table",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"checkBoxCol checkBxHead",children:(0,k.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>V("selectAll")})}),(0,k.jsxs)("th",{onClick:()=>ne("first_name"),children:["First Name ",$]}),(0,k.jsxs)("th",{onClick:()=>ne("last_name"),children:["Last Name ",$]}),(0,k.jsxs)("th",{onClick:()=>ne("username"),children:["Username ",$]}),(0,k.jsxs)("th",{onClick:()=>ne("email"),children:["Email ",$]}),(0,k.jsxs)("th",{scope:"col",children:[(0,k.jsx)(C.Z,{})," Created"]}),(0,k.jsx)("th",{scope:"col",children:"Action"})]})}),(0,k.jsx)("tbody",{children:X.map((t=>(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"checkBoxCol",children:(0,k.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:w.includes(t.id),onChange:()=>V(t.id)})}),(0,k.jsx)("td",{children:t.first_name}),(0,k.jsx)("td",{children:t.last_name}),(0,k.jsx)("td",{children:t.username}),(0,k.jsx)("td",{children:t.email}),(0,k.jsx)("td",{children:t.created}),(0,k.jsxs)("td",{className:"APActionButton",children:[1===t.status?(0,k.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Deactivate Sub-Admin",text:"Do you want to Deactivate this Sub-Admin?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/deactivateuser/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});200===t.data.status?f().fire({title:"Sub-Admin Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),_()}}catch(t){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Sub-Admin",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",t.message)}})(t.slug),children:(0,k.jsx)(y.Z,{title:"Deactivate",children:(0,k.jsx)(p.Z,{})})}):(0,k.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Activate Sub-Admin",text:"Do you want to Activate this Sub-Admin?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/activateuser/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});200===t.data.status?f().fire({title:"Sub-Admin Activated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),_()}}catch(t){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Activate Sub-Admin",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",t.message)}})(t.slug),children:(0,k.jsx)(y.Z,{title:"Activate",children:(0,k.jsx)(v.Z,{})})}),(0,k.jsx)("button",{className:"btn-primary",onClick:()=>e(`/admin/admins/editadmins/${t.slug}`),children:(0,k.jsx)(y.Z,{title:"Edit",children:(0,k.jsx)(j.Z,{})})}),(0,k.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await f().fire({title:"Delete Sub-Admin",text:"Do you want to Delete this Sub-Admin?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/deleteadmins/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});200===t.data.status?f().fire({title:"Sub-Admin deleted successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),_()}}catch(t){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Delete Sub-Admin",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(t.slug),children:(0,k.jsx)(y.Z,{title:"Delete",children:(0,k.jsx)(b.Z,{})})}),(0,k.jsx)("button",{className:"btn-primary",onClick:()=>e(`/admin/admins/managerole/${t.slug}`),children:(0,k.jsx)(y.Z,{title:"Manage Roles",children:(0,k.jsx)(g.Z,{})})})]})]})})))})]})}),(0,k.jsxs)("div",{className:"manageSubadminpart3",children:[(0,k.jsxs)("div",{className:"functionalityButton",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await f().fire({title:"Activate Sub-Admins",text:"Do you want to Activate Sub-Admins?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=w.toString();console.log(e);const t=await m.Z.post(u.Z+"/admin/manage",{idList:e,action:"activate"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});H(!0),N(""),200===t.data.status?f().fire({title:"Sub-Admins Activated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Activate!",icon:"error",confirmButtonText:"Close"}),_()}}catch(e){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Activate Sub-Admins",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",e.message)}})(),children:"ACTIVATE"}),(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await f().fire({title:"Deactivate Sub-Admins",text:"Do you want to Deactivate Sub-Admins?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=w.join(",");console.log(e);const t=await m.Z.post(u.Z+"/admin/manage",{idList:e,action:"deactivate"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});H(!0),N(""),200===t.data.status?f().fire({title:"Sub-Admins Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Deactivate!",icon:"error",confirmButtonText:"Close"}),_()}}catch(e){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Sub-Admins",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",e.message)}})(),children:"DEACTIVATE"}),(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton4",onClick:()=>(async()=>{try{if((await f().fire({title:"Delete Sub-Admins",text:"Do you want to Delete Sub-Admins?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=w.toString();console.log(e);const t=await m.Z.post(u.Z+"/admin/manage",{idList:e,action:"delete"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:z}});H(!0),N(""),200===t.data.status?f().fire({title:"Sub-Admins Delete successfully!",icon:"success",confirmButtonText:"Close"}):f().fire({title:"Couldn't Delete!",icon:"error",confirmButtonText:"Close"}),_()}}catch(e){n(!1),f().fire({title:"Failed. Please try after some time!",text:"Could not Delete Sub-Admins",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't Delete the record!",e.message)}})(),children:"DELETE"})]}),(0,k.jsx)("div",{className:"pagination",children:(0,k.jsx)(Z.Z,{spacing:2,children:(0,k.jsx)(A.Z,{count:ee,color:"primary",page:M,onChange:(e,t)=>F(t)})})})]})]}):(0,k.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,k.jsx)(B.Z,{})]})]})]})}},64558:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45649)),i=n(80184),o=(0,s.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=o},90772:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45649)),i=n(80184),o=(0,s.default)((0,i.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonth");t.Z=o},872:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45649)),i=n(80184),o=(0,s.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},9e3:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45649)),i=n(80184),o=(0,s.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=o},27247:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45649)),i=n(80184),o=(0,s.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o}}]);
//# sourceMappingURL=3323.5a7c6cab.chunk.js.map