"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[8673],{88673:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(72791),s=a(65167),l=a(93953),i=a(20890),r=a(93517),o=a(98333),d=a(31243),c=a(12503),m=a(10287),u=a(21830),p=a.n(u),x=a(57689),h=a(11087),g=a(88329),f=a(24529),j=a(80184);const v=()=>{const[e,t]=(0,n.useState)({title:"",type:"",advertisement_place:"",url:"",image:"",text:""}),[a,u]=(0,n.useState)({title:"",type:"",advertisement_place:"",url:"",image:"",text:""}),[v,b]=(0,n.useState)(!1),y=g.Z.get("token"),B=g.Z.get("adminID"),w=(0,x.s0)(),{slug:C}=(0,x.UO)(),[N,T]=(0,n.useState)(null),I=a=>{const{name:n,value:s}=a.target;if("type"===n){console.log("name is type");const n=parseInt(a.target.value,10);console.log("Parsed value:",n),t({...e,type:n})}t((e=>({...e,[n]:s}))),u((e=>({...e,[n]:""})))},A=async n=>{const s=n.target,l=s.files[0];if(l){if(l.size>614400)return p().fire({title:"Image size should be under 600 KB",icon:"warning",confirmButtonText:"Close"}),void(s.value="");const n=new Image;n.src=window.URL.createObjectURL(l),n.onload=()=>{const i=n.naturalWidth,r=n.naturalHeight;720!==i||320!==r?(p().fire({title:"Image resolution should be 720x320 pixels",icon:"warning",confirmButtonText:"Close"}),s.value=""):(u({...a,image:""}),function(e){return new Promise(((t,a)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{t(n.result)},n.onerror=e=>{a(e)}}))}(l).then((a=>{t({...e,image:a}),T(a)})))}}};return(0,n.useEffect)((()=>{y?((async()=>{try{b(!0);const e=await d.Z.post(c.Z+`/admin/banner/admin_edit/${C}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:y,adminid:B}});b(!1),t(e.data.response),T(e.data.response.image)}catch(e){console.log("Error at chnage username at Admin panel")}})(),window.scrollTo(0,0)):w("/admin")}),[y,w]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.Z,{}),(0,j.jsxs)("div",{className:"APBasic",children:[(0,j.jsx)(l.Z,{}),v?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"loader-container"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"site-min-height",children:[(0,j.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,j.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,j.jsx)(o.Z,{fontSize:"small"}),children:[(0,j.jsx)(h.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,j.jsx)(h.rU,{to:"/admin/banneradvertisements",underline:"hover",color:"inherit",children:"Banner Advertisements"}),(0,j.jsx)(i.Z,{color:"text.primary",children:"Edit Banner Advertisement"})]})}),(0,j.jsx)("h2",{className:"adminPageHeading",children:"Edit Banner Advertisement"}),(0,j.jsx)("form",{className:"adminForm",children:(0,j.jsxs)("div",{className:"mb-4 mt-5",children:[(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Place Of Advertisement",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsxs)("select",{className:`form-select ${a.advertisement_place&&"input-error"}`,"aria-label":"Default select example",name:"advertisement_place",value:e.advertisement_place,onChange:I,children:[(0,j.jsx)("option",{selected:!0,children:"Select Place of Advertisement"}),(0,j.jsx)("option",{value:"home_ad1",children:"Home Page Bopx Advertisement Box1 (Width:377px, Height:387px)"}),(0,j.jsx)("option",{value:"home_ad2",children:"Home Page Bopx Advertisement Box2 (Width:377px, Height:387px)"})]}),a.advertisement_place&&(0,j.jsx)("div",{className:"text-danger",children:a.advertisement_place})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Title",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.title&&"input-error"}`,name:"title",placeholder:"Banner Title",value:e.title,onChange:I}),a.title&&(0,j.jsx)("div",{className:"text-danger",children:a.title})]}),(0,j.jsxs)("div",{className:"APRadioInput mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Advertisement Type",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsxs)("div",{className:"APPaymentDetailsRadio",children:[(0,j.jsx)("input",{type:"radio",id:"pictureAdverts",name:"type",value:"0",checked:"0"===e.type.toString(),onChange:I}),(0,j.jsx)("label",{className:"LabelpictureAdverts",htmlFor:"0",children:"Picture Adverts"}),(0,j.jsx)("input",{type:"radio",id:"googleAdverts",name:"type",value:"1",checked:"1"===e.type.toString(),onChange:I}),(0,j.jsx)("label",{htmlFor:"2",children:"Google Adverts"})]}),a.type&&(0,j.jsx)("div",{className:"text-danger",children:a.type})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["URL",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.url&&"input-error"}`,name:"url",placeholder:"URL",value:e.url,onChange:I}),a.url&&(0,j.jsx)("div",{className:"text-danger",children:a.url}),(0,j.jsx)("div",{id:"emailHelp",class:"form-text",children:"(Enter URL Like https://www.google.com)"})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Image",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{className:`form-control ${a.image&&"input-error"}`,type:"file",id:"formFile",lable:"Image",name:"logo",accept:".gif, .jpeg, .png, .jpg",onChange:e=>A(e)}),a.image&&(0,j.jsx)("div",{className:"text-danger",children:a.image}),(0,j.jsxs)("div",{id:"emailHelp",class:"form-text",children:["Supported File Types: gif, jpg, jpeg, png (Max. 600 KB). Standard size of Advertisement images ",(0,j.jsx)("br",{}),"1) Job Selection Page (Width:720px, Height:320px)"]}),N&&(0,j.jsxs)("div",{children:[N?(0,j.jsx)("img",{className:"selectedInputImage selectedBannerImage",src:N,alt:"Selected"}):(0,j.jsx)("img",{className:"selectedInputImage",src:"/Images/adminpanel/demoo.jpg",alt:"Selected"}),e.image?(0,j.jsx)("button",{className:"APButton3",type:"button",onClick:()=>(async e=>{try{if((await p().fire({title:"Delete Image?",text:"Do you want to delete this Image?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await d.Z.post(c.Z+`/admin/blog/admin_deleteBlogImage/${e}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:y,adminid:B}});200===t.data.status?p().fire({title:"Image Deleted successfully!",icon:"success",confirmButtonText:"Close"}):p().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"})}}catch(t){b(!1),p().fire({title:"Failed",text:"Could not delete Image. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not delete image!",t)}})(C),children:"Delete"}):(0,j.jsx)("button",{className:"APButton3",onClick:()=>{T(null),t({...e,image:""});const a=document.getElementById("formFile");a&&(a.value="")},children:"Delete"})]})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const t={};if(""===e.title&&(t.title="Banner Title is required",window.scrollTo(0,0)),""===e.type&&(t.type="Advertisement Type is required",window.scrollTo(0,0)),""===e.advertisement_place&&(t.advertisement_place="Advertisement Place is required",window.scrollTo(0,0)),""===e.url)t.url="URL is required",window.scrollTo(0,0);else{/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(e.url)||(t.url="Invalid URL format",window.scrollTo(0,0))}if(""===e.image&&(t.image="Advertisement Image is required",window.scrollTo(0,0)),u(t),0===Object.keys(t).length){if((await p().fire({title:"Edit Banner?",text:"Do you want to Edit this Banner?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){b(!0);const t=await d.Z.post(c.Z+`/admin/banner/admin_edit/${C}`,e,{headers:{"Content-Type":"application/json",key:m.Z,token:y,adminid:B}});b(!1),200===t.data.status?(p().fire({title:"Banner updated successfully!",icon:"success",confirmButtonText:"Close"}),w("/admin/banneradvertisements")):p().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(t){b(!1),p().fire({title:"Failed",text:"Could not update banner. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",t)}},children:"SAVE"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>w("/admin/banneradvertisements"),children:"CANCEL"})]})})]}),(0,j.jsx)(f.Z,{})]})]})]})}}}]);
//# sourceMappingURL=8673.bb0857c0.chunk.js.map