"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[739],{30739:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(72791),n=t(65167),i=t(93953),r=t(20890),l=t(93517),o=t(50533),c=t(98333),d=t(31243),m=t(12503),x=t(10287),p=t(21830),h=t.n(p),u=t(57689),f=t(88329),g=t(24529),j=t(80184);const b=()=>{const[e,a]=(0,s.useState)({name:"",image:"",meta_keywords:"",meta_title:"",meta_description:"",keywords:""}),[t,p]=(0,s.useState)({name:""}),[b,y]=(0,s.useState)(!1),C=f.Z.get("token"),w=f.Z.get("adminID"),v=(0,u.s0)(),[N,B]=(0,s.useState)(null),{slug:k}=(0,u.UO)(),I=e=>{const{name:t,value:s}=e.target;a((e=>({...e,[t]:s}))),p((e=>({...e,[t]:""})))},Z=async s=>{const n=s.target,i=n.files[0];if(i){if(i.size>614400)return h().fire({title:"Image size should be under 600 KB",icon:"warning",confirmButtonText:"Close"}),void(n.value="");const s=new Image;s.src=window.URL.createObjectURL(i),s.onload=()=>{const r=s.naturalWidth,l=s.naturalHeight;r>100||l>100||r<40||l<40?(h().fire({title:"Image resolution should be greater than 40x40 pixels and less than 100x100 pixels",icon:"warning",confirmButtonText:"Close"}),n.value=""):(p({...t,image:""}),function(e){return new Promise(((a,t)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{a(s.result)},s.onerror=e=>{t(e)}}))}(i).then((t=>{a({...e,image:t}),B(t)})))}}};return(0,s.useEffect)((()=>{C?((async()=>{try{y(!0);const e=await d.Z.post(m.Z+`/admin/category/admin_edit/${k}`,null,{headers:{"Content-Type":"application/json",key:x.Z,token:C,adminid:w}});y(!1),a(e.data.response),B(e.data.response.image)}catch(e){console.log("Error at chnage username at Admin panel")}})(),window.scrollTo(0,0)):v("/admin")}),[C,v]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.Z,{}),(0,j.jsxs)("div",{className:"APBasic",children:[(0,j.jsx)(i.Z,{}),b?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"loader-container"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"site-min-height",children:[(0,j.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,j.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,j.jsx)(c.Z,{fontSize:"small"}),children:[(0,j.jsx)(o.Z,{underline:"hover",color:"inherit",onClick:()=>v("/admin/admins/dashboard"),children:"Dashboard"}),(0,j.jsx)(o.Z,{underline:"hover",color:"inherit",onClick:()=>v("/admin/categories"),children:"Categories List"}),(0,j.jsx)(r.Z,{color:"text.primary",children:"Edit Category"})]})}),(0,j.jsx)("h2",{className:"adminPageHeading",children:"Edit Category"}),(0,j.jsxs)("form",{className:"adminForm",children:[(0,j.jsxs)("div",{className:"mb-5 mt-5",children:[(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Category Name",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${t.name&&"input-error"}`,name:"name",value:e.name,placeholder:"Name",onChange:I}),t.name&&(0,j.jsx)("div",{className:"text-danger",children:t.name})]}),(0,j.jsxs)("div",{className:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Category Image"}),(0,j.jsx)("input",{class:`form-control ${t.image&&"input-error"}`,type:"file",id:"formFile",lable:"Image",name:"image",accept:".jpeg, .png, .jpg, .gif",placeholder:"Select Image",onChange:e=>Z(e)}),t.image&&(0,j.jsx)("div",{className:"text-danger",children:t.image}),(0,j.jsx)("p",{children:"Supported File Types: gif, jpg, jpeg, png (Max. 600 KB). Min file size 40 X 40 pixels. Max file size 100 X 100 pixels."}),N&&(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:"selectedInputImage",src:N,alt:"Selected"})})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Meta Keywords"}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"meta_keywords",value:e.meta_keywords,placeholder:"Meta Keywords",onChange:I})]})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Meta Title"}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"meta_title",value:e.meta_title,placeholder:"Meta Title",onChange:I})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Meta Description"}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"meta_description",value:e.meta_description,placeholder:"Meta Description",onChange:I}),(0,j.jsx)("div",{id:"emailHelp",class:"form-text",children:"Note.: Meta details are important please fill these information. If you don't filled it by default information will be show."})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Keywords"}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"keywords",value:e.keywords,placeholder:"Meta Title",onChange:I}),(0,j.jsx)("div",{id:"emailHelp",class:"form-text",children:"(comma (,) separated)"})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const a={};if(""===e.name&&(a.name="Category Name is required",window.scrollTo(0,0)),p(a),0===Object.keys(a).length){if((await h().fire({title:"Update Category?",text:"Do you want to update the category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){y(!0);const a=await d.Z.post(m.Z+`/admin/category/admin_edit/${k}`,e,{headers:{"Content-Type":"application/json",key:x.Z,token:C,adminid:w}});y(!1),200===a.data.status?(h().fire({title:"Category updated successfully!",icon:"success",confirmButtonText:"Close"}),v("/admin/categories")):h().fire({title:a.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(a){y(!1),h().fire({title:"Failed",text:"Could not update category. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"SAVE"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>v("/admin/categories"),children:"CANCEL"})]})]}),(0,j.jsx)(g.Z,{})]})]})]})}}}]);
//# sourceMappingURL=739.b5e1bfcb.chunk.js.map