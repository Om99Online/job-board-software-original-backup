"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[3359],{93359:(e,s,r)=>{r.r(s),r.d(s,{default:()=>b});var o=r(72791),a=r(57873),t=r(27352),i=r(57689),n=r(11087),l=r(31243),d=r(12503),c=r(21830),m=r.n(c),g=r(28007),u=r(88329),p=r(3746),j=r(20165),x=r(51007),h=r(39230),w=r(80184);const b=()=>{const[e,s]=(0,o.useState)({email:"",password:""}),[r,c]=(0,o.useState)({email:"",password:""}),[b,f]=(0,o.useState)(!1),k=e=>{const{name:r,value:o}=e.target;s((e=>({...e,[r]:o}))),c((e=>({...e,[r]:""})))},v=(0,i.s0)(),[L,y]=(0,o.useState)(!1),N=u.Z.get("user_type"),Z=u.Z.get("tokenClient"),[C,T]=(0,h.$G)("global"),[_,E]=(u.Z.get("selectedLanguage"),(0,o.useState)(!1)),B=u.Z.get("selectedLanguage")||"en";let P=u.Z.get("primaryColor"),S=u.Z.get("secondaryColor"),F=u.Z.get("siteLogo"),$=u.Z.get("captchaKey");const[q,z]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,o.useEffect)((()=>{if(Z&&"recruiter"===N||Z&&"candidate"===N){v("/");m().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",m().stopTimer),e.addEventListener("mouseleave",m().resumeTimer)}}).fire({icon:"warning",title:C("jobseekerLogin.alreadyLoggedIn")})}}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.Z,{}),L?(0,w.jsx)("div",{className:"loader-container"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"container jobseekerLogin employerLogin",children:(0,w.jsx)("div",{className:"card rounded",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-md-6 leftSection",children:(0,w.jsx)("img",{src:"/Images/jobseekerLogin.jpg",alt:""})}),(0,w.jsxs)("div",{className:"col-md-6 mt-5",children:[(0,w.jsxs)("div",{className:"text-center",children:[F&&(0,w.jsx)("img",{src:F,alt:"logo"}),!F&&(0,w.jsx)("img",{src:"/Images/logo.png",alt:""})]}),(0,w.jsx)("div",{className:"card-title text-center h3 pt-5",children:C("jobseekerLogin.jobseekerLogin")}),(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("form",{className:"border border-light",action:"#!",children:[(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("input",{type:"email",id:"defaultLoginFormEmail",className:`form-control ${r.email&&"input-error"}`,value:e.email,placeholder:C("jobseekerLogin.email"),name:"email",onChange:k}),r.email&&(0,w.jsx)("div",{className:"text-danger",children:r.email})]}),(0,w.jsxs)("div",{className:"passwordBox",children:[(0,w.jsx)("input",{type:q?"text":"password",id:"defaultLoginFormPassword",className:`form-control ${r.password&&"input-error"}`,value:e.password,name:"password",placeholder:C("jobseekerLogin.password"),onChange:k}),(0,w.jsx)("div",{className:"passwordVisibility",children:(0,w.jsx)("p",{className:"btn-primary",type:"button",onClick:()=>{z(!q),console.log(z)},children:q?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(x.Z,{title:"Hide Password",children:(0,w.jsx)(j.Z,{})})}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(x.Z,{title:"View Password",children:(0,w.jsx)(p.Z,{})})})})}),r.password&&(0,w.jsx)("div",{className:"text-danger",children:r.password})]}),(0,w.jsxs)("div",{className:"reCaptchaLogin",children:[(0,w.jsx)(g.Z,{sitekey:$,onChange:e=>f(e)}),r.captcha&&(0,w.jsx)("div",{className:"text-danger CaptchaVerify",children:r.captcha})]}),(0,w.jsx)("div",{className:"forgotPassword",children:(0,w.jsx)(n.rU,{to:"/users/forgotpassword",children:C("jobseekerLogin.forgotPassword")})}),(0,w.jsx)("div",{className:"text-center",children:(0,w.jsx)("button",{onClick:async s=>{s.preventDefault();try{const o={};function a(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)}if(""===e.email?(o.email=C("jobseekerLogin.emailRequired"),window.scrollTo(0,0)):a(e.email)||(o.email=C("jobseekerLogin.invalidEmail"),window.scrollTo(0,0)),""===e.password&&(o.password=C("jobseekerLogin.passwordRequired"),window.scrollTo(0,0)),b||(o.captcha=C("jobseekerLogin.captchaRequired")),c(o),0===Object.keys(o).length&&b){y(!0);const t={...e,language:B},i=await l.Z.post(d.Z+"/users/login",t);let n=i.data.status;if(y(!1),200===n&&""!==i.data.response.user.token){if("candidate"!==i.data.response.user.user_type)m().fire({title:C("jobseekerLogin.wrongCredentials"),icon:"error",confirmButtonText:C("jobseekerLogin.close")}),f(!1);else{let g=i.data.response.user.token,p=i.data.response.user.first_name,j=i.data.response.user.user_type;u.Z.set("tokenClient",g),u.Z.set("fname",p),u.Z.set("user_type",j),v("/candidates/myaccount");m().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",m().stopTimer),e.addEventListener("mouseleave",m().resumeTimer)}}).fire({icon:"success",title:C("jobseekerLogin.welcome")+" "+p}),f(!1)}}else 500===n?(m().fire({title:i.data.message,icon:"error",timer:3e3,timerProgressBar:!0}),f(!1)):console.log("Nothing works")}}catch(r){y(!1),m().fire({title:C("jobseekerLogin.failedTitle"),icon:"error",confirmButtonText:C("jobseekerLogin.close")}),f(!1)}},className:"btn button1 my-4",type:"submit",style:{backgroundColor:_?S:P,border:_?S:P},onMouseEnter:()=>{E(!0)},onMouseLeave:()=>{E(!1)},children:C("jobseekerLogin.login")})})]})})]})]})})}),(0,w.jsx)(t.Z,{})]})]})}}}]);
//# sourceMappingURL=3359.51f2d814.chunk.js.map