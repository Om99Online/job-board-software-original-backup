"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[7866],{97866:(s,a,e)=>{e.r(a),e.d(a,{default:()=>_});var r=e(72791),o=e(65167),n=e(93953),d=e(20890),t=e(93517),l=e(50533),i=e(98333),c=e(31243),p=e(12503),w=e(10287),m=e(21830),h=e.n(m),u=e(57689),f=e(88329),x=e(24529),j=e(80184);const _=()=>{const[s,a]=(0,r.useState)({old_password:"",new_password:"",conf_password:""}),[e,m]=(0,r.useState)({old_password:"",new_password:"",conf_password:""}),[_,b]=(0,r.useState)(!1),g=f.Z.get("token"),C=(f.Z.get("usertype"),f.Z.get("adminID")),N=(0,u.s0)(),v=s=>{const{name:e,value:r}=s.target;a((s=>({...s,[e]:r}))),m((s=>({...s,[e]:""})))};return(0,r.useEffect)((()=>{g?window.scrollTo(0,0):N("/admin")}),[g,N]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{}),(0,j.jsxs)("div",{className:"APBasic",children:[(0,j.jsx)(n.Z,{}),_?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"loader-container"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"site-min-height",children:[(0,j.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,j.jsxs)(t.Z,{"aria-label":"breadcrumb",separator:(0,j.jsx)(i.Z,{fontSize:"small"}),children:[(0,j.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>N("/admin/admins/dashboard"),children:"Dashboard"}),(0,j.jsx)(d.Z,{color:"text.primary",children:"Change Password"})]})}),(0,j.jsx)("h2",{className:"adminPageHeading",children:"Change Admin Password"}),(0,j.jsx)("form",{className:"adminForm",children:(0,j.jsxs)("div",{className:"mb-4 mt-5",children:[(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Current Password",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${e.old_password&&"input-error"}`,name:"old_password",placeholder:"Current Password",value:s.old_password,onChange:v}),e.old_password&&(0,j.jsx)("div",{className:"text-danger",children:e.old_password})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["New Password",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${e.new_password&&"input-error"}`,name:"new_password",placeholder:"New Password",value:s.new_password,onChange:v}),e.new_password&&(0,j.jsx)("div",{className:"text-danger",children:e.new_password})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Confirm Password",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${e.conf_password&&"input-error"}`,name:"conf_password",placeholder:"Confirm Password",value:s.conf_password,onChange:v}),e.conf_password&&(0,j.jsx)("div",{className:"text-danger",children:e.conf_password})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const e={};if(""===s.old_password&&(e.old_password="Old password is required"),""===s.new_password?e.new_password="New password is required":s.new_password.length<8&&(e.new_password="Please enter atleast 8 characters"),""===s.conf_password?e.conf_password="Confirm password is required":s.conf_password.length<8&&(e.conf_password="Please enter atleast 8 characters"),m(e),0===Object.keys(e).length){if((await h().fire({title:"Update Password",text:"Do you want to update the password?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){b(!0);const e=await c.Z.post(p.Z+"/admin/changePassword",s,{headers:{"Content-Type":"application/json",key:w.Z,token:g,adminid:C}});b(!1),200===e.data.status?(h().fire({title:"Password updated successfully!",icon:"success",confirmButtonText:"Close"}),a({...s,old_password:"",new_password:"",conf_password:""}),window.scrollTo(0,0)):(e.data.status,h().fire({title:e.data.message,icon:"error",confirmButtonText:"Close"}))}}}catch(e){b(!1),h().fire({title:"Failed",text:"Could not update password. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change password!",e)}},children:"UPDATE"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>N("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,j.jsx)(x.Z,{})]})]})]})}}}]);
//# sourceMappingURL=7866.18666491.chunk.js.map