"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4363],{94363:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(72791),i=a(65167),o=a(93953),n=a(20890),r=a(93517),c=a(50533),l=a(98333),d=a(31243),m=a(12503),u=a(10287),f=a(21830),h=a.n(f),x=a(57689),p=a(88329),j=a(27247),C=a(24529),b=a(80184);const g=()=>{const[e,t]=(0,s.useState)(),[a,f]=(0,s.useState)([]),[g,y]=(0,s.useState)([]),[v,w]=(0,s.useState)([]),[Z,B]=(0,s.useState)(!1),N=p.Z.get("token"),k=p.Z.get("adminID"),T=(0,x.s0)(),{slug:D}=(0,x.UO)(),F=async()=>{try{B(!0);const e=await d.Z.post(m.Z+`/admin/candidates/certificates/${D}`,null,{headers:{"Content-Type":"application/json",key:u.Z,token:N,adminid:k}});B(!1),w(e.data.response.certificates),y(e.data.response)}catch(e){B(!1),console.log("Cannot get profile photo data")}};return(0,s.useEffect)((()=>{N?(F(),window.scrollTo(0,0)):T("/admin")}),[N,T]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Z,{}),(0,b.jsxs)("div",{className:"APBasic",children:[(0,b.jsx)(o.Z,{}),Z?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,b.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(l.Z,{fontSize:"small"}),children:[(0,b.jsx)(c.Z,{underline:"hover",color:"inherit",onClick:()=>T("/admin/admins/dashboard"),children:"Dashboard"}),(0,b.jsx)(c.Z,{underline:"hover",color:"inherit",onClick:()=>T("/admin/candidates"),children:"Jobseekers"}),(0,b.jsxs)(c.Z,{underline:"hover",color:"inherit",onClick:()=>T("/admin/admins/dashboard"),children:[g.first_name," ",g.last_name]}),(0,b.jsx)(n.Z,{color:"text.primary",children:"Certificates"})]})}),(0,b.jsx)("h2",{className:"mt-4",children:"Manage Jobseeker Document/Certificates"}),(0,b.jsx)("form",{className:"adminForm",children:(0,b.jsxs)("div",{className:"mb-4 mt-5",children:[(0,b.jsx)("div",{class:"mb-5 DashBoardInputBx",children:(0,b.jsx)("form",{children:(0,b.jsx)("div",{className:"mb-4 mt-5",children:(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsx)("label",{for:"formFile",class:"form-label",children:"CV Document/Certificates"}),(0,b.jsx)("input",{type:"file",id:"formFile",className:"form-control",name:"file",multiple:!0,onChange:e=>{const a=Array.from(e.target.files),s=a.map((e=>e.name));f(s),Promise.all(a.map((e=>(e=>new Promise(((t,a)=>{const s=new FileReader;s.onload=e=>{t(e.target.result)},s.onerror=e=>{a(e)},s.readAsDataURL(e)})))(e)))).then((e=>{t(e)})).catch((e=>{console.error("Error converting files to base64:",e)}))}}),(0,b.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: pdf, doc and docx, gif, jpg, jpeg, png (Max. 4 MB). Min file size 150 X 150 pixels for image"})]})})})}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{if((await h().fire({title:"Upload Certificates?",text:"Do you want to upload certificates?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t={...g,selectedCV:e,selectedFileName:a},s=new FormData;s.append("selectedCV",e),a.forEach(((e,t)=>{s.append(`selectedFileNames[${t}]`,e)}));const i=await d.Z.post(m.Z+`/admin/candidates/certificates/${D}`,t,{headers:{"Content-Type":"application/json",key:u.Z,token:N,adminid:k}});200===i.data.status?(h().fire({title:"Logo updated successfully!",icon:"success",confirmButtonText:"Close"}),F(),window.scrollTo(0,0)):h().fire({title:i.data.message,icon:"error",confirmButtonText:"Close"})}}catch(t){B(!1),h().fire({title:"Could not update logo. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update photo!")}},children:"UPLOAD"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>T("/admin/candidates/index"),children:"CANCEL"})]})}),(0,b.jsx)("div",{className:"row certificateBoxParent",children:v.map((e=>(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"col-md-4 manageCertificateBox APActionButton",children:[(0,b.jsx)("div",{className:"certificateFloatingButton",children:(0,b.jsx)("button",{className:"btn btn-secondary",onClick:t=>(async(e,t)=>{e.preventDefault(),console.log(t);try{if((await h().fire({title:"Delete certificate?",text:"Do you want to delete this certificate?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=await d.Z.post(m.Z+`/admin/candidates/deleteCertificate/${t}`,null,{headers:{"Content-Type":"application/json",key:u.Z,token:N,adminid:k}});200===e.data.status?(h().fire({title:"Certificate deleted successfully!",icon:"success",confirmButtonText:"Close"}),F(),window.scrollTo(0,0)):h().fire({title:e.data.message,icon:"error",confirmButtonText:"Close"})}}catch(a){B(!1),h().fire({title:"Failed!",text:"Could not delete certificate. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not delete cover!")}})(t,e.slug),children:(0,b.jsx)(j.Z,{})})}),(0,b.jsx)("img",{src:e.document,alt:"Certificate"})]})})))})]}),(0,b.jsx)(C.Z,{})]})]})]})}},27247:(e,t,a)=>{var s=a(64836);t.Z=void 0;var i=s(a(45649)),o=a(80184),n=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=n}}]);
//# sourceMappingURL=4363.c40dd39c.chunk.js.map