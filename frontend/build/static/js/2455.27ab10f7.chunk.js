"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[2455],{42455:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(72791),n=t(65167),r=t(93953),l=t(20890),i=t(93517),o=t(50533),c=t(98333),d=t(12503),m=t(10287),u=t(21830),h=t.n(u),x=t(31243),j=t(57689),b=(t(5282),t(88329)),g=t(66770),f=t.n(g),p=(t(86009),t(24529)),w=t(80184);const N=()=>{(0,a.useRef)(null);const[e,s]=(0,a.useState)({subject:"",message:""}),[t,u]=(0,a.useState)({subject:"",message:""}),[g,N]=(0,a.useState)(!1),C=b.Z.get("token"),v=b.Z.get("adminID"),y=(0,j.s0)(),B=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a}))),u((e=>({...e,[t]:""})))};return(0,a.useEffect)((()=>{C?window.scrollTo(0,0):y("/admin")}),[C,y]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.Z,{}),(0,w.jsxs)("div",{className:"APBasic",children:[(0,w.jsx)(r.Z,{}),g?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"loader-container"})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"site-min-height",children:[(0,w.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,w.jsxs)(i.Z,{"aria-label":"breadcrumb",separator:(0,w.jsx)(c.Z,{fontSize:"small"}),children:[(0,w.jsx)(o.Z,{underline:"hover",color:"inherit",onClick:()=>y("/admin/admins/dashboard"),children:"Dashboard"}),(0,w.jsx)(o.Z,{underline:"hover",color:"inherit",onClick:()=>y("/admin/newsletters/index"),children:"Newsletter"}),(0,w.jsx)(l.Z,{color:"text.primary",children:"Add Newsletter"})]})}),(0,w.jsx)("h2",{className:"adminPageHeading",children:"Add Newsletter"}),(0,w.jsx)("form",{className:"adminForm",children:(0,w.jsxs)("div",{className:"mb-4 mt-5",children:[(0,w.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,w.jsxs)("label",{for:"formFile",class:"form-label",children:["Subject",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${t.subject&&"input-error"}`,name:"subject",placeholder:"Subject",value:e.subject,onChange:B}),t.subject&&(0,w.jsx)("div",{className:"text-danger",children:t.subject})]}),(0,w.jsxs)("div",{className:" mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,w.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Message",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)(f(),{theme:"snow",value:e.message,onChange:e=>B({target:{name:"message",value:e}}),style:{minHeight:"250px",height:"200px"},placeholder:"Add your text here..."}),t.message&&(0,w.jsx)("div",{className:"text-danger",children:t.message})]}),(0,w.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const s={};if(""===e.subject&&(s.subject="Subject is required",window.scrollTo(0,0)),""===e.message&&(s.message="Message is required",window.scrollTo(0,0)),u(s),0===Object.keys(s).length){if((await h().fire({title:"Add Newsletter?",text:"Do you want to Add Newsletter?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){N(!0);const s=await x.Z.post(d.Z+"/admin/newsletter/admin_add",e,{headers:{"Content-Type":"application/json",key:m.Z,token:C,adminid:v}});N(!1),200===s.data.status?(h().fire({title:"Newsletter Added successfully!",icon:"success",confirmButtonText:"Close"}),y("/admin/newsletters/index")):h().fire({title:s.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(s){N(!1),h().fire({title:"Failed",text:"Could not Add Newsletter. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",s)}},children:"SAVE"}),(0,w.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>s({...e,subject:"",message:""}),children:"RESET"})]})})]}),(0,w.jsx)(p.Z,{})]})]})]})}}}]);
//# sourceMappingURL=2455.27ab10f7.chunk.js.map