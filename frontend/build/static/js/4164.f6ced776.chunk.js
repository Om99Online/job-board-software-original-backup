"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4164],{74164:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(72791),s=a(57689),o=a(65167),i=a(93953),l=a(20890),c=a(93517),r=a(50533),d=a(98333),m=a(31243),u=a(12503),h=a(10287),x=a(21830),v=a.n(x),p=a(90772),j=a(9e3),f=a(27247),C=a(3579),g=a(64558),y=a(872),b=a(51007),Z=a(57246),N=a(1582),k=a(64554),P=a(28429),w=a(88329),B=a(13400),T=a(24529),z=a(80184);const S=()=>{const e=(0,s.s0)(),[t,a]=(0,n.useState)(!1),[x,S]=(0,n.useState)([]),[D,A]=(0,n.useState)([]),[M,L]=(0,n.useState)(""),R=w.Z.get("token"),F=w.Z.get("adminID"),$=w.Z.get("curr"),[H,_]=(0,n.useState)(1),[E,V]=(0,n.useState)(!1),[I,q]=(0,n.useState)(null),O=()=>{q(null),V(!1)},Y=async()=>{try{a(!0);const e=await m.Z.post(u.Z+"/admin/plan/index",null,{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});a(!1),S(e.data.response)}catch(e){a(!1),console.log("Cannot get plans data at APmanageplans")}},[J,Q]=(0,n.useState)(!0),U=e=>{if("selectAll"===e){Q(!J);const e=J?x.map((e=>e.id)):[];A(e)}else D.includes(e)?A(D.filter((t=>t!==e))):A([...D,e])},[W,G]=(0,n.useState)({key:"",direction:"ascending"}),[K,X]=(0,n.useState)("\ud83d\udd3a"),ee=(te=x,ae=W.key,ne=W.direction,se=M,[...te].filter((e=>{var t,a,n,s;return(null===(t=e.plan_name)||void 0===t?void 0:t.toLowerCase().includes(se))||(null===(a=e.planuser)||void 0===a?void 0:a.toLowerCase().includes(se))||(null===(n=e.type)||void 0===n?void 0:n.toLowerCase().includes(se))||(null===(s=e.created)||void 0===s?void 0:s.toLowerCase().includes(se))})).sort(((e,t)=>e[ae]<t[ae]?"ascending"===ne?-1:1:e[ae]>t[ae]?"ascending"===ne?1:-1:0)));var te,ae,ne,se;const oe=x.filter((e=>{var t,a,n,s;const o=null===M||void 0===M?void 0:M.toLowerCase();return(null===(t=e.plan_name)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(a=e.planuser)||void 0===a?void 0:a.toLowerCase().includes(o))||(null===(n=e.type)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(s=e.created)||void 0===s?void 0:s.toLowerCase().includes(o))})),ie=20*H,le=ie-20,ce=ee.slice(le,ie),re=Math.ceil(ee.length/20),de=[];for(let n=1;n<=re;n++)de.push(n);(0,n.useEffect)((()=>{R?(Y(),window.scrollTo(0,0)):e("/admin")}),[R,e]),(0,n.useEffect)((()=>{_(1)}),[M]);const me=e=>{let t="ascending";W.key===e&&"ascending"===W.direction?(t="descending",X("\ud83d\udd3b")):X("\ud83d\udd3a"),G({key:e,direction:t})};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{}),(0,z.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,z.jsx)(i.Z,{}),t?(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{className:"loader-container"})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"site-min-height",children:[(0,z.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,z.jsxs)(c.Z,{"aria-label":"breadcrumb",separator:(0,z.jsx)(d.Z,{fontSize:"small"}),children:[(0,z.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>e("/admin/admins/dashboard"),children:"Dashboard"}),(0,z.jsx)(l.Z,{color:"text.primary",children:"Plans List"})]})}),(0,z.jsxs)("div",{className:"ManageSubAdminHeader",children:[(0,z.jsx)("h2",{className:"",children:"Plans List"}),(0,z.jsx)("button",{className:"btn navButton1 APMSbutton",onClick:()=>e("/admin/plans/addplan"),children:"Add Plan"})]}),""!=x?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"manageSubadminPart1",children:[(0,z.jsx)("form",{children:(0,z.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,z.jsx)("h4",{children:"Search Plans by typing Plan Name"}),(0,z.jsx)("div",{class:"APDashboardSearchBx ",children:(0,z.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:M,onChange:e=>{const t=e.target.value.toLowerCase();L(t)}})})]})}),(0,z.jsxs)("h4",{children:["No. of Results ",le+1,"-",Math.min(ie,oe.length||x.length)," ","of ",x.length]})]}),(0,z.jsx)("div",{className:"manageSubadminPart2",children:(0,z.jsxs)("table",{class:"table",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"checkBoxCol checkBxHead",children:(0,z.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>U("selectAll")})}),(0,z.jsxs)("th",{onClick:()=>me("plan_name"),children:["Plan Name ",K]}),(0,z.jsxs)("th",{onClick:()=>me("planuser"),children:["User Plan ",K]}),(0,z.jsxs)("th",{onClick:()=>me("amount"),children:["Amount ",K]}),(0,z.jsxs)("th",{onClick:()=>me("type"),children:["Plan Type ",K]}),(0,z.jsx)("th",{children:"Time Period"}),(0,z.jsxs)("th",{onClick:()=>me("created"),children:[(0,z.jsx)(p.Z,{})," Created ",K]}),(0,z.jsx)("th",{scope:"col",children:"Action"})]})}),(0,z.jsxs)("tbody",{children:[ce.map((t=>(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"checkBoxCol",children:(0,z.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:D.includes(t.id),onChange:()=>U(t.id)})}),(0,z.jsx)("td",{children:t.plan_name}),(0,z.jsx)("td",{children:t.planuser}),(0,z.jsxs)("td",{children:[$," ",t.amount]}),(0,z.jsx)("td",{children:t.type}),(0,z.jsxs)("td",{children:[t.type_value," ",t.type]}),(0,z.jsx)("td",{children:t.created}),(0,z.jsxs)("td",{className:"APActionButton",children:[1===t.status?(0,z.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await v().fire({title:"Deactivate Plan",text:"Do you want to Deactivate this Plan?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/plan/deactivateplans/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});200===t.data.status?v().fire({title:"Plan Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):v().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){a(!1),v().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Plan",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the plan!",t.message)}})(t.slug),children:(0,z.jsx)(b.Z,{title:"Deactivate",children:(0,z.jsx)(y.Z,{})})}):(0,z.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await v().fire({title:"Activate Plan",text:"Do you want to Activate this Plan?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/plan/activateplans/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});200===t.data.status?v().fire({title:"Plan Activated successfully!",icon:"success",confirmButtonText:"Close"}):v().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){a(!1),v().fire({title:"Failed. Please try after some time!",text:"Could not Activate Plan",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the Plan!",t.message)}})(t.slug),children:(0,z.jsx)(b.Z,{title:"Activate",children:(0,z.jsx)(g.Z,{})})}),(0,z.jsx)("button",{className:"btn-primary",onClick:()=>e(`/admin/plans/editPlan/${t.slug}`),children:(0,z.jsx)(b.Z,{title:"Edit",children:(0,z.jsx)(j.Z,{})})}),(0,z.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await v().fire({title:"Delete Plan",text:"Do you want to Delete this Plan?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await m.Z.post(u.Z+`/admin/plan/deletePlan/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});200===t.data.status?v().fire({title:"Plan deleted successfully!",icon:"success",confirmButtonText:"Close"}):v().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){a(!1),v().fire({title:"Failed. Please try after some time!",text:"Could not Delete Plan",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(t.slug),children:(0,z.jsx)(b.Z,{title:"Delete",children:(0,z.jsx)(f.Z,{})})}),(0,z.jsx)("button",{className:"btn-primary",onClick:()=>(q(t),void V(!0)),children:(0,z.jsx)(b.Z,{title:"View",children:(0,z.jsx)(C.Z,{})})})]})]})}))),(0,z.jsx)("div",{children:(0,z.jsx)(P.Z,{className:"modalMain",open:E,onClose:O,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,z.jsxs)(k.Z,{className:"modal adminModal modal-content",children:[(0,z.jsx)(B.Z,{onClick:O,className:"close-button",style:{position:"absolute",top:10,right:10},children:"\xd7"}),(0,z.jsx)(l.Z,{id:"modal-modal-title",variant:"h6",component:"h2"}),(0,z.jsx)(l.Z,{id:"modal-modal-description",sx:{mt:3},children:I&&(0,z.jsxs)("div",{className:"modals ",children:[(0,z.jsx)("div",{className:"modalHead",children:(0,z.jsxs)("h1",{children:["Membership Plan -"," ",I.plan_name]})}),(0,z.jsxs)("div",{className:"modalBody mt-4",children:[(0,z.jsxs)("div",{className:"row",children:[(0,z.jsxs)("div",{className:"col-md-4 fw-bold m-2 leftData",children:["Amount:"," "]}),(0,z.jsx)("div",{className:"col-md-4 m-2 rightData",children:I.amount})]}),(0,z.jsxs)("div",{className:"row",children:[(0,z.jsxs)("div",{className:"col-md-4 fw-bold m-2 leftData",children:["Plan Type:"," "]}),(0,z.jsx)("div",{className:"col-md-4 m-2 rightData",children:I.type})]}),(0,z.jsxs)("div",{className:"row",children:[(0,z.jsxs)("div",{className:"col-md-4 fw-bold m-2 leftData",children:["Time Period:"," "]}),(0,z.jsx)("div",{className:"col-md-4 m-2 rightData",children:I.type_value})]}),(0,z.jsxs)("div",{className:"row",children:[(0,z.jsxs)("div",{className:"fw-bold m-2 leftData",children:["Features:"," "]}),(0,z.jsx)("div",{className:"m-2 rightData",children:Object.values(I.features).map(((e,t,a)=>(0,z.jsxs)(z.Fragment,{children:[t+1,". ",e,(0,z.jsx)("br",{})]})))})]})]})]})})]})})})]})]})}),(0,z.jsxs)("div",{className:"manageSubadminpart3",children:[(0,z.jsxs)("div",{className:"functionalityButton",children:[(0,z.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await v().fire({title:"Activate Plans?",text:"Do you want to Activate Plans?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=D.toString();console.log(e);const t=await m.Z.post(u.Z+"/admin/plan/index",{idList:e,action:"activate"},{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});Q(!0),A(""),200===t.data.status?v().fire({title:"Plans Activated successfully!",icon:"success",confirmButtonText:"Close"}):v().fire({title:"Couldn't Activate!",icon:"error",confirmButtonText:"Close"}),Y()}}catch(e){a(!1),v().fire({title:"Failed. Please try after some time!",text:"Could not Activate Plans",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",e.message)}})(),children:"ACTIVATE"}),(0,z.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await v().fire({title:"Deactivate Plans?",text:"Do you want to Deactivate Plans?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=D.join(",");console.log(e);const t=await m.Z.post(u.Z+"/admin/plan/index",{idList:e,action:"deactivate"},{headers:{"Content-Type":"application/json",key:h.Z,token:R,adminid:F}});Q(!0),A(""),200===t.data.status?v().fire({title:"Plans Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):v().fire({title:"Couldn't Deactivate!",icon:"error",confirmButtonText:"Close"}),Y()}}catch(e){a(!1),v().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Plans",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",e.message)}})(),children:"DEACTIVATE"})]}),(0,z.jsx)("div",{className:"pagination",children:(0,z.jsx)(N.Z,{spacing:2,children:(0,z.jsx)(Z.Z,{count:re,color:"primary",page:H,onChange:(e,t)=>_(t)})})})]})]}):(0,z.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,z.jsx)(T.Z,{})]})]})]})}},64558:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=i},90772:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonth");t.Z=i},872:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=i},9e3:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=i},27247:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},3579:(e,t,a)=>{var n=a(64836);t.Z=void 0;var s=n(a(45649)),o=a(80184),i=(0,s.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");t.Z=i},13400:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(63366),s=a(87462),o=a(72791),i=a(59278),l=a(94419),c=a(12065),r=a(66934),d=a(31402),m=a(23701),u=a(14036),h=a(75878),x=a(21217);function v(e){return(0,x.Z)("MuiIconButton",e)}const p=(0,h.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var j=a(80184);const f=["edge","children","className","color","disabled","disableFocusRipple","size"],C=(0,r.ZP)(m.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"default"!==a.color&&t[`color${(0,u.Z)(a.color)}`],a.edge&&t[`edge${(0,u.Z)(a.edge)}`],t[`size${(0,u.Z)(a.size)}`]]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===a.edge&&{marginLeft:"small"===a.size?-3:-12},"end"===a.edge&&{marginRight:"small"===a.size?-3:-12})}),(e=>{let{theme:t,ownerState:a}=e;var n;const o=null==(n=(t.vars||t).palette)?void 0:n[a.color];return(0,s.Z)({},"inherit"===a.color&&{color:"inherit"},"inherit"!==a.color&&"default"!==a.color&&(0,s.Z)({color:null==o?void 0:o.main},!a.disableRipple&&{"&:hover":(0,s.Z)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.Fq)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===a.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===a.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${p.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),g=o.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:c,className:r,color:m="default",disabled:h=!1,disableFocusRipple:x=!1,size:p="medium"}=a,g=(0,n.Z)(a,f),y=(0,s.Z)({},a,{edge:o,color:m,disabled:h,disableFocusRipple:x,size:p}),b=(e=>{const{classes:t,disabled:a,color:n,edge:s,size:o}=e,i={root:["root",a&&"disabled","default"!==n&&`color${(0,u.Z)(n)}`,s&&`edge${(0,u.Z)(s)}`,`size${(0,u.Z)(o)}`]};return(0,l.Z)(i,v,t)})(y);return(0,j.jsx)(C,(0,s.Z)({className:(0,i.Z)(b.root,r),centerRipple:!0,focusRipple:!x,disabled:h,ref:t,ownerState:y},g,{children:c}))}))}}]);
//# sourceMappingURL=4164.f6ced776.chunk.js.map