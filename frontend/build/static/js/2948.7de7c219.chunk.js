"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[2948],{52948:(e,a,s)=>{s.r(a),s.d(a,{default:()=>_});var t=s(72791),l=s(65167),o=s(93953),n=s(20890),r=s(93517),i=s(98333),c=(s(5282),s(31243)),m=s(12503),d=s(10287),p=s(57689),u=s(11087),x=(s(53540),s(89868)),h=s(21830),b=s.n(h),j=s(88329),g=s(1588),f=s(66770),y=s.n(f),N=(s(86009),s(24529)),v=s(80184);const _=()=>{const[e,a]=(0,t.useState)({user_id:"",job_title:"",category:"",jobDescription:"",company_name:"",work_type:"",contact_name:"",skill:"",contact_number:"",company_website:"",companyProfile:"",designation:"",location:"",last_date:"",experience:"",annual_salary:"",logo:"",subCategory:""}),[s,h]=(0,t.useState)({job_title:"",category:"",subCategory:[],jobDescription:"",company_name:"",companyProfile:"",work_type:"",contact_name:"",contact_number:"",company_website:"",skill:"",designation:"",location:"",experience:"",annual_salary:"",logo:"",last_date:"",user_id:""}),f=((0,t.useRef)(null),j.Z.get("token")),_=j.Z.get("adminID"),C=j.Z.get("mapKey"),B=(0,p.s0)(),[S,D]=(0,t.useState)([]),[w,E]=(0,t.useState)([]),[k,P]=(0,t.useState)([]),[F,I]=(0,t.useState)([]),[Z,A]=(0,t.useState)([]),[R,T]=(0,t.useState)([]),[$,J]=(0,t.useState)([]),[L,q]=(0,t.useState)([]),[z,H]=(0,t.useState)([]),[O,W]=(0,t.useState)(!1),[K,M]=(0,t.useState)([]),[U,Y]=(0,t.useState)(""),[Q,V]=(0,t.useState)(null),[G,X]=(0,t.useState)([]),[ee,ae]=(0,t.useState)([]),se=e=>{const{name:t,value:l}=e.target;"subCategory"===t?h((e=>({...e,subCategory:[...e.subCategory,l]}))):(h((e=>({...e,[t]:l}))),a((e=>({...e,[t]:""})))),console.log(s)},te=async()=>{try{W(!0);const e=await c.Z.post(m.Z+"/admin/job/admin_add",null,{headers:{"Content-Type":"application/json",key:d.Z,token:f,adminid:_}});W(!1),D(e.data),E(e.data.response.categories),I(e.data.response.designationlList),A(e.data.response.skillList),T(e.data.response.experience),J(e.data.response.sallery),q(e.data.response.worktype),H(e.data.response.employers)}catch(e){console.log("No data received")}},le=async e=>{X([]);try{const a=await c.Z.post(m.Z+`/categories/getSubCategory/${e}`,null,{headers:{"Content-Type":"application/json",key:d.Z,token:f,adminid:_}});P(a.data.response)}catch(a){console.log("Couldn't get Sub category data!")}};(0,t.useEffect)((()=>{te(),le(),window.scrollTo(0,0)}),[]);const oe=async t=>{const l=t.target,o=t.target.files[0];if(o){if(o.size>614400)return b().fire({title:"Image size should be under 600 KB",icon:"warning",confirmButtonText:"Close"}),void(l.value="");(function(e){return new Promise(((a,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{a(t.result)},t.onerror=e=>{s(e)}}))})(o).then((e=>{h({...s,logo:e}),V(e)})),a({...e,logo:""})}},[ne,re]=(0,t.useState)(null),[ie,ce]=(0,t.useState)([]);(0,t.useEffect)((()=>{const e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${C}&libraries=places`,e.onload=()=>{re(new window.google.maps.places.AutocompleteService),console.log(ne)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const me=e=>{const{value:t}=e.target;pe(!1),""==t&&pe(!0),""!=t&&a({location:""}),h((e=>({...e,location:t}))),ne&&ne.getPlacePredictions({input:t,types:["(cities)"]},((e,a)=>{ce("OK"===a&&e?e.map((e=>e.description)):[])})),""===s.location&&ce([])},[de,pe]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{f?(te(),window.scrollTo(0,0)):B("/admin")}),[f,B]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{}),(0,v.jsxs)("div",{className:"APBasic",children:[(0,v.jsx)(o.Z,{}),O?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"loader-container"})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"site-min-height",children:[(0,v.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,v.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,v.jsx)(i.Z,{fontSize:"small"}),children:[(0,v.jsx)(u.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,v.jsx)(u.rU,{to:"/admin/jobs",underline:"hover",color:"inherit",children:"Jobs"}),(0,v.jsx)(n.Z,{color:"text.primary",children:"Add Jobs"})]})}),(0,v.jsx)("h2",{className:"adminPageHeading",children:"Add Job"}),(0,v.jsxs)("form",{className:"adminForm",children:[(0,v.jsxs)("div",{className:"mb-5 mt-5",children:[(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Select Employer",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsxs)("select",{className:`form-select ${e.user_id&&"input-error"}`,"aria-label":"Default select example",name:"user_id",value:s.user_id,onChange:se,children:[(0,v.jsx)("option",{selected:!0,value:"",children:"Select Employer"}),z.map(((e,a)=>(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},a)})))]}),e.user_id&&(0,v.jsx)("div",{className:"text-danger",children:e.user_id})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Job title",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${e.job_title&&"input-error"}`,name:"job_title",value:s.job_title,placeholder:"Job Title",onChange:se}),e.job_title&&(0,v.jsx)("div",{className:"text-danger",children:e.job_title})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx skillPackageCategory APJoditEditor",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Category",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)(x.ZP,{isSearchable:!0,name:"category",options:w.map((e=>({value:e.id,label:e.name}))),className:"basic-multi-select",value:ee,classNamePrefix:"select",onChange:e=>{(e=>{console.log(e,"param"),ae(e),console.log(ee,"state");const a=e.value;le(e.value),h((e=>({...e,category:a})))})(e)}}),e.category&&(0,v.jsx)("div",{className:"text-danger",children:e.category})]})]}),s.category&&k?(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx skillPackageSubcategory  APJoditEditor",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"form3Example1",children:"Sub Category"}),(0,v.jsx)(x.ZP,{isMulti:!0,isSearchable:!0,name:"Subcategory",options:k.map((e=>({value:e.id,label:e.name}))),className:"basic-multi-select",value:G,classNamePrefix:"select",onChange:e=>{console.log(e),X(e);const a=e.map((e=>e.value));console.log(a),h((e=>({...e,subCategory:a})))}})]}):"",(0,v.jsxs)("div",{className:"mb-5 DashBoardInputBx DashBoardCreatBx APQuillEditor",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Job Description"}),(0,v.jsx)(y(),{theme:"snow",value:s.jobDescription,onChange:e=>se({target:{name:"jobDescription",value:e}}),style:{minHeight:"250px",height:"200px"},placeholder:"Add your text here..."}),e.jobDescription&&(0,v.jsx)("div",{className:"text-danger",children:e.jobDescription})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Name",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.company_name&&"input-error"}`,name:"company_name",value:s.company_name,placeholder:"Company Name",onChange:se}),e.company_name&&(0,v.jsx)("div",{className:"text-danger",children:e.company_name})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Work Type",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsxs)("select",{className:`form-select ${e.work_type&&"input-error"}`,"aria-label":"Default select example",name:"work_type",value:s.work_type,onChange:se,children:[(0,v.jsx)("option",{selected:!0,children:"Select Work Type"}),Object.entries(L).map((e=>{let[a,s]=e;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("option",{value:a,onChange:()=>{sessionStorage.setItem("jobtype","value")},children:s},a)})}))]}),e.work_type&&(0,v.jsx)("div",{className:"text-danger",children:e.work_type})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Contact Name",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.contact_name&&"input-error"}`,name:"contact_name",value:s.contact_name,placeholder:"Contact Name",onChange:se}),e.contact_name&&(0,v.jsx)("div",{className:"text-danger",children:e.contact_name})]}),(0,v.jsxs)("div",{className:"mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Profile",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)(y(),{theme:"snow",value:s.companyProfile,onChange:e=>se({target:{name:"companyProfile",value:e}}),style:{minHeight:"250px",height:"200px"},placeholder:"Add your text here..."}),e.companyProfile&&(0,v.jsx)("div",{className:"text-danger",children:e.companyProfile})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Contact Number",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.contact_number&&"input-error"}`,name:"contact_number",value:s.contact_number,placeholder:"Contact Number",onChange:se}),e.contact_number&&(0,v.jsx)("div",{className:"text-danger",children:e.contact_number})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Company Website"}),(0,v.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.company_website&&"input-error"}`,name:"company_website",value:s.company_website,placeholder:"Company Website",onChange:se}),e.company_website&&(0,v.jsx)("div",{className:"text-danger",children:e.company_website}),(0,v.jsx)("div",{id:"emailHelp",className:"form-text",children:"Eg: https://www.google.com or www.google.com"})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Experience (In Years)",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsxs)("select",{className:`form-select ${e.experience&&"input-error"}`,"aria-label":"Default select example",name:"experience",value:s.experience,onChange:se,children:[(0,v.jsx)("option",{selected:!0,value:"",children:"Choose Experience"}),Object.entries(R).map((e=>{let[a,s]=e;return(0,v.jsx)("option",{value:a,children:s},a)}))]}),e.experience&&(0,v.jsx)("div",{className:"text-danger",children:e.experience})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Annual Salary",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsxs)("select",{className:`form-select ${e.annual_salary&&"input-error"}`,"aria-label":"Default select example",name:"annual_salary",value:s.annual_salary,onChange:se,children:[(0,v.jsx)("option",{selected:!0,value:"",children:"Select Salary"}),Object.entries($).map((e=>{let[a,s]=e;return(0,v.jsx)("option",{value:a,children:s},a)}))]}),e.annual_salary&&(0,v.jsx)("div",{className:"text-danger",children:e.annual_salary})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx skillPackage  APJoditEditor",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"form3Example1",children:"Skills"}),(0,v.jsx)(x.ZP,{isMulti:!0,isSearchable:!0,name:"skill",options:Z.map((e=>({value:e.id,label:e.name}))),className:"basic-multi-select",value:K,classNamePrefix:"select",onChange:e=>{M(e)}}),U&&(0,v.jsx)("div",{className:"text-danger",children:U})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Designation",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsxs)("select",{className:`form-select ${e.designation&&"input-error"}`,"aria-label":"Default select example",name:"designation",value:s.designation,onChange:se,children:[(0,v.jsx)("option",{selected:!0,value:"",children:"Choose Designation"}),F.map(((e,a)=>(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("option",{value:e.id,children:e.name},a)})))]}),e.designation&&(0,v.jsx)("div",{className:"text-danger",children:e.designation})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Location",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.location&&"input-error"}`,name:"location",value:s.location,placeholder:"Location",onChange:me}),ie.length>0&&(0,v.jsx)("div",{className:"suggestionsAdminSide",style:{display:de?"none":""},children:(0,v.jsx)("ul",{className:"locationDropdown",children:ie.map(((e,a)=>(0,v.jsx)("div",{className:"suggestion-item",children:(0,v.jsxs)("li",{onClick:()=>(e=>{me({target:{name:"location",value:e}}),pe(!0),ce([])})(e),children:[(0,v.jsxs)("div",{className:"eachLocation",children:[(0,v.jsx)("div",{className:"locationIcon",children:(0,v.jsx)(g.Z,{fontSize:"small"})})," ",(0,v.jsx)("div",{className:"locationSuggestion",children:e})]})," "]})},a)))})}),e.location&&(0,v.jsx)("div",{className:"text-danger",children:e.location})]}),(0,v.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,v.jsx)("label",{for:"formFile",class:"form-label",children:"Company Logo"}),(0,v.jsx)("input",{class:"form-control",type:"file",id:"formFile",label:"profile_image",name:"logo",accept:".jpeg, .png, .jpg, .gif",onChange:e=>oe(e)}),(0,v.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 600 KB)."}),Q&&(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"",children:(0,v.jsx)("img",{className:"selectedInputImage",src:Q,alt:"Selected"})})})]}),(0,v.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,v.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Last Date",(0,v.jsx)("span",{className:"RedStar",children:"*"})]}),(0,v.jsx)("input",{type:"date",id:"form3Example3",className:`form-control ${e.last_date&&"input-error"}`,name:"last_date",value:s.last_date,placeholder:"Last Date",onChange:se}),e.last_date&&(0,v.jsx)("div",{className:"text-danger",children:e.last_date})]}),(0,v.jsxs)("div",{className:"APAddJobBottomButtons",children:[(0,v.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{var e=document.getElementsByName("skill"),t=[];e.forEach((e=>{t.push(e.value)})),h({...s,skill:t});try{const{user_id:e,job_title:l,category:o,company_name:n,work_type:r,contact_name:i,contact_number:p,companyProfile:u,designation:x,location:h,last_date:j,experience:g,annual_salary:y,company_website:N}=s;if(!e||!l||!o||!n||!r||!i||!p||!u||!x||!h||!j||!g||!y)return void a({user_id:e?"":"Select an Employer",job_title:l?"":"Job Title is required",category:o?"":"Category is required",company_name:n?"":"Company Name is required",work_type:r?"":"Work Type is required",contact_name:i?"":"Contact Name is required",contact_number:p?"":"Contact Number is required",companyProfile:u?"":"Company Profile is required",designation:x?"":"Designation is required",location:h?"":"Location is required",last_date:j?"":"Last Date is required",experience:g?"":"Experience is required",annual_salary:y?"":"Annual Salary is required"});if(p&&!/^\+?\d{1,3}-?\d{9,15}$/.test(p))return void a({contact_number:"Please enter contact number under 15 digits"});if(N){if(N&&!/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(N))return void a({company_website:"Invalid URL format"})}if(U)return;if((await b().fire({title:"Add Job?",text:"Do you want to Add this Job?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e={...s,skill:t};W(!0);const a=await c.Z.post(m.Z+"/admin/job/admin_add",e,{headers:{"Content-Type":"application/json",key:d.Z,token:f,adminid:_}});200===a.data.status?(W(!1),b().fire({title:"Job added successfully!",icon:"success",confirmButtonText:"Close"}),B("/admin/jobs")):(W(!1),b().fire({title:"Failed",text:a.data.message,icon:"error",confirmButtonText:"Close"}))}}catch(l){W(!1),b().fire({title:"Could not add this job. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not submit job data")}},children:"SAVE"}),(0,v.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>B("/admin/jobs"),children:"CANCEL"})]})]})]}),(0,v.jsx)(N.Z,{})]})]})]})}},1588:(e,a,s)=>{var t=s(64836);a.Z=void 0;var l=t(s(45649)),o=s(80184),n=(0,l.default)((0,o.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");a.Z=n}}]);
//# sourceMappingURL=2948.7de7c219.chunk.js.map