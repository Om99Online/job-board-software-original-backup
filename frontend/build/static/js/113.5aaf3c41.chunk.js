"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[113],{30113:(e,a,t)=>{t.r(a),t.d(a,{default:()=>z});var s=t(72791),l=t(57689),i=t(11087),o=t(65167),n=t(93953),r=t(20890),d=t(93517),c=t(98333),m=t(31243),h=t(12503),u=t(10287),p=(t(21830),t(9e3)),g=t(3579),v=t(51007),x=t(57246),j=t(1582),b=t(64554),Z=t(28429),f=t(53540),y=t(13400),N=t(88329),S=t(24529),C=t(80184);const z=()=>{const e=(0,l.s0)(),[a,t]=(0,s.useState)(!1),[z,k]=(0,s.useState)([]),[w,M]=(0,s.useState)(""),R=N.Z.get("token"),E=parseInt(N.Z.get("adminID")),[P,T]=(0,s.useState)(1),[$,A]=(0,s.useState)(!1),[L,F]=(0,s.useState)(null),I=()=>{F(null),A(!1)},[B,O]=(0,s.useState)({}),[D,U]=(0,s.useState)({key:"",direction:"ascending"}),[_,q]=(0,s.useState)("\ud83d\udd3a"),H=(J=z,V=D.key,W=D.direction,G=w,[...J].filter((e=>{var a,t;return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(G))||(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(G))})).sort(((e,a)=>e[V]<a[V]?"ascending"===W?-1:1:e[V]>a[V]?"ascending"===W?1:-1:0)));var J,V,W,G;const K=z.filter((e=>{var a,t;const s=w.toLowerCase();return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(s))||(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(s))})),Q=20*P,X=Q-20,Y=H.slice(X,Q),ee=Math.ceil(H.length/20),ae=[];for(let s=1;s<=ee;s++)ae.push(s);(0,s.useEffect)((()=>{R?((async()=>{try{t(!0);const e=await m.Z.post(h.Z+"/admin/emailtemplates",null,{headers:{"Content-Type":"application/json",key:u.Z,token:R,adminid:E}});t(!1),k(e.data.response.email)}catch(e){t(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):e("/admin")}),[R,e]),(0,s.useEffect)((()=>{T(1)}),[w]);const te=e=>{let a="ascending";D.key===e&&"ascending"===D.direction?(a="descending",q("\ud83d\udd3b")):q("\ud83d\udd3a"),U({key:e,direction:a})};return(0,s.useEffect)((()=>{const e=N.Z.get("access");null!==typeof e||""!==e||void 0!==e?(console.log(JSON.parse(e)),O(JSON.parse(e))):O({})}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.Z,{}),(0,C.jsxs)("div",{className:"APBasic APManageSubadmin APTextPages",children:[(0,C.jsx)(n.Z,{}),a?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:"loader-container"})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"site-min-height APEmailTemplateListing",children:[(0,C.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,C.jsxs)(d.Z,{"aria-label":"breadcrumb",separator:(0,C.jsx)(c.Z,{fontSize:"small"}),children:[(0,C.jsx)(i.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,C.jsx)(i.rU,{underline:"hover",color:"inherit",children:"Email Template Management"}),(0,C.jsx)(r.Z,{color:"text.primary",children:"Email Template List"})]})}),(0,C.jsx)("div",{className:"ManageSubAdminHeader",children:(0,C.jsx)("h2",{className:"",children:"Email Template List"})}),(0,C.jsx)("div",{className:"manageSubadminPart1 APTPSec1",children:(0,C.jsxs)("h4",{children:["No. of Email Templates ",X+1,"-",Math.min(Q,K.length||z.length)," ","of ",z.length]})}),(0,C.jsx)("div",{className:"manageSubadminPart2",children:(0,C.jsxs)("table",{class:"table",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsxs)("th",{onClick:()=>te("title"),children:["Title",_]}),(0,C.jsxs)("th",{onClick:()=>te("subject"),children:["Subject",_]}),(0,C.jsx)("th",{scope:"col",children:"Action"})]})}),(0,C.jsxs)("tbody",{children:[Y.map((a=>{var t;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"",children:(0,C.jsx)(i.rU,{to:`/admin/emailtemplates/editEmailtemplate/${a.slug}`,children:a.title})}),(0,C.jsx)("td",{className:"",children:(0,C.jsx)(i.rU,{to:`/admin/emailtemplates/editEmailtemplate/${a.slug}`,children:a.subject})}),(0,C.jsxs)("td",{className:"APActionButton",children:[(1===(null===(t=B[10])||void 0===t?void 0:t.Edit)||1===E)&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("button",{className:"btn-primary",onClick:()=>e(`/admin/emailtemplates/editEmailtemplate/${a.slug}`),children:(0,C.jsx)(v.Z,{title:"Edit",children:(0,C.jsx)(p.Z,{})})})}),(0,C.jsx)("button",{className:"btn btn-secondary",onClick:()=>(F(a),void A(!0)),children:(0,C.jsx)(v.Z,{title:"Delete",children:(0,C.jsx)(g.Z,{})})})]})]})})})),(0,C.jsx)("div",{children:(0,C.jsx)(Z.Z,{className:"modalMain",open:$,onClose:I,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,C.jsxs)(b.Z,{className:"modal adminModal modal-content",children:[(0,C.jsx)(y.Z,{onClick:I,className:"close-button",style:{position:"absolute",top:10,right:10},children:"\xd7"}),(0,C.jsx)(r.Z,{id:"modal-modal-description",sx:{mt:3},children:L&&(0,C.jsxs)("div",{className:"modals ",children:[(0,C.jsx)("div",{className:"modalHead",children:(0,C.jsx)("h1",{children:(0,f.ZP)(L.title)})}),(0,C.jsxs)("div",{className:"modalBody mt-4",children:[(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col-md-4 fw-bold m-2 leftData"}),(0,C.jsx)("div",{className:"col-md-4 m-2 rightData"})]}),(0,C.jsx)("div",{className:"emailTemplateModalAdmin",children:(0,f.ZP)(L.template)})]})]})}),(0,C.jsx)(r.Z,{id:"modal-modal-description",sx:{mt:3}})]})})})]})]})}),(0,C.jsx)("div",{className:"manageSubadminpart3",children:(0,C.jsx)("div",{className:"pagination",children:(0,C.jsx)(j.Z,{spacing:2,children:(0,C.jsx)(x.Z,{count:ee,color:"primary",page:P,onChange:(e,a)=>T(a)})})})})]}),(0,C.jsx)(S.Z,{})]})]})]})}},9e3:(e,a,t)=>{var s=t(64836);a.Z=void 0;var l=s(t(45649)),i=t(80184),o=(0,l.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");a.Z=o},3579:(e,a,t)=>{var s=t(64836);a.Z=void 0;var l=s(t(45649)),i=t(80184),o=(0,l.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");a.Z=o},13400:(e,a,t)=>{t.d(a,{Z:()=>Z});var s=t(63366),l=t(87462),i=t(72791),o=t(59278),n=t(94419),r=t(12065),d=t(66934),c=t(31402),m=t(23701),h=t(14036),u=t(75878),p=t(21217);function g(e){return(0,p.Z)("MuiIconButton",e)}const v=(0,u.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var x=t(80184);const j=["edge","children","className","color","disabled","disableFocusRipple","size"],b=(0,d.ZP)(m.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,"default"!==t.color&&a[`color${(0,h.Z)(t.color)}`],t.edge&&a[`edge${(0,h.Z)(t.edge)}`],a[`size${(0,h.Z)(t.size)}`]]}})((e=>{let{theme:a,ownerState:t}=e;return(0,l.Z)({textAlign:"center",flex:"0 0 auto",fontSize:a.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(a.vars||a).palette.action.active,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.hoverOpacity})`:(0,r.Fq)(a.palette.action.active,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:a,ownerState:t}=e;var s;const i=null==(s=(a.vars||a).palette)?void 0:s[t.color];return(0,l.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,l.Z)({color:null==i?void 0:i.main},!t.disableRipple&&{"&:hover":(0,l.Z)({},i&&{backgroundColor:a.vars?`rgba(${i.mainChannel} / ${a.vars.palette.action.hoverOpacity})`:(0,r.Fq)(i.main,a.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:a.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:a.typography.pxToRem(28)},{[`&.${v.disabled}`]:{backgroundColor:"transparent",color:(a.vars||a).palette.action.disabled}})})),Z=i.forwardRef((function(e,a){const t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:r,className:d,color:m="default",disabled:u=!1,disableFocusRipple:p=!1,size:v="medium"}=t,Z=(0,s.Z)(t,j),f=(0,l.Z)({},t,{edge:i,color:m,disabled:u,disableFocusRipple:p,size:v}),y=(e=>{const{classes:a,disabled:t,color:s,edge:l,size:i}=e,o={root:["root",t&&"disabled","default"!==s&&`color${(0,h.Z)(s)}`,l&&`edge${(0,h.Z)(l)}`,`size${(0,h.Z)(i)}`]};return(0,n.Z)(o,g,a)})(f);return(0,x.jsx)(b,(0,l.Z)({className:(0,o.Z)(y.root,d),centerRipple:!0,focusRipple:!p,disabled:u,ref:a,ownerState:f},Z,{children:r}))}))}}]);
//# sourceMappingURL=113.5aaf3c41.chunk.js.map