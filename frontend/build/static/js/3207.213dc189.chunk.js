"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[3207],{43207:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var o=s(72791),n=s(65167),r=s(93953),t=s(20890),l=s(93517),i=s(50533),c=s(98333),d=s(12503),m=s(10287),p=s(21830),x=s.n(p),u=s(31243),h=s(57689),f=(s(5282),s(88329)),j=s(1588),b=s(66770),_=s.n(b),w=(s(86009),s(24529)),y=s(80184);const g=()=>{(0,o.useRef)(null);const[e,a]=(0,o.useState)({company_name:"",company_about:"",position:"",first_name:"",last_name:"",address:"",location:"",contact:"",company_contact:"",company_website:"",email_address:"",password:"",confirm_password:"",profile_image:""}),[s,p]=(0,o.useState)({company_name:"",company_about:"",position:"",first_name:"",last_name:"",address:"",location:"",contact:"",company_contact:"",company_website:"",email_address:"",password:"",confirm_password:""}),[b,g]=(0,o.useState)(!1),[N,v]=(0,o.useState)(null),C=f.Z.get("token"),B=f.Z.get("adminID"),E=f.Z.get("mapKey"),S=(0,h.s0)(),F=e=>{const{name:s,value:o}=e.target;a((e=>({...e,[s]:o}))),p((e=>({...e,[s]:""})))},P=e=>/^\+?\d{1,3}-?\d{9,15}$/.test(e),I=async o=>{const n=o.target,r=n.files[0];if(r){if(r.size>614400)return x().fire({title:"Image size should be under 600KB",icon:"warning",confirmButtonText:"Close"}),void(n.value="");const o=new Image;o.src=window.URL.createObjectURL(r),o.onload=()=>{const t=o.naturalWidth,l=o.naturalHeight;t<250||l<250?(x().fire({title:"Minimum image resolution should be 250x250 pixels",icon:"warning",confirmButtonText:"Close"}),n.value=""):(p({...s,profile_image:""}),function(e){return new Promise(((a,s)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>{a(o.result)},o.onerror=e=>{s(e)}}))}(r).then((s=>{a({...e,profile_image:s}),v(s)})))}}},D=()=>{v(null),a({...e,profile_image:""});const s=document.getElementById("formFile");s&&(s.value="")},[A,T]=(0,o.useState)(null),[Z,R]=(0,o.useState)([]);(0,o.useEffect)((()=>{const e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${E}&libraries=places`,e.onload=()=>{T(new window.google.maps.places.AutocompleteService),console.log(A)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const k=s=>{const{value:o}=s.target;q(!1),""==o&&q(!0),""!=o&&p({location:""}),a((e=>({...e,location:o}))),A&&A.getPlacePredictions({input:o,types:["(cities)"]},((e,a)=>{R("OK"===a&&e?e.map((e=>e.description)):[])})),""===e.location&&R([])},[$,q]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{C?window.scrollTo(0,0):S("/admin")}),[C,S]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Z,{}),(0,y.jsxs)("div",{className:"APBasic",children:[(0,y.jsx)(r.Z,{}),b?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"loader-container"})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"site-min-height",children:[(0,y.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,y.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,y.jsx)(c.Z,{fontSize:"small"}),children:[(0,y.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>S("/admin/admins/dashboard"),children:"Dashboard"}),(0,y.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>S("/admin/users"),children:"Employers"}),(0,y.jsx)(t.Z,{color:"text.primary",children:"Add Employer Details"})]})}),(0,y.jsx)("h2",{className:"adminPageHeading",children:"Add Employer"}),(0,y.jsx)("form",{className:"adminForm",children:(0,y.jsxs)("div",{className:"mb-4 mt-5",children:[(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.company_name&&"input-error"}`,name:"company_name",placeholder:"Company Name",value:e.company_name,onChange:F}),s.company_name&&(0,y.jsx)("div",{className:"text-danger",children:s.company_name})]}),(0,y.jsxs)("div",{className:" mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,y.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Profile",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)(_(),{theme:"snow",value:e.company_about,onChange:e=>F({target:{name:"company_about",value:e}}),style:{minHeight:"250px",height:"200px"},placeholder:"Add your text here..."}),s.company_about&&(0,y.jsx)("div",{className:"text-danger",children:s.company_about})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Position",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.position&&"input-error"}`,name:"position",value:e.position,placeholder:"Position",onChange:F}),s.position&&(0,y.jsx)("div",{className:"text-danger",children:s.position})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["First Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.first_name&&"input-error"}`,name:"first_name",value:e.first_name,placeholder:"First Name",onChange:F}),s.first_name&&(0,y.jsx)("div",{className:"text-danger",children:s.first_name})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Last Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.last_name&&"input-error"}`,name:"last_name",value:e.last_name,placeholder:"Last Name",onChange:F}),s.last_name&&(0,y.jsx)("div",{className:"text-danger",children:s.last_name})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Address",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("textarea",{type:"text",id:"form3Example1",className:`form-control ${s.address&&"input-error"}`,name:"address",value:e.address,placeholder:"Address",onChange:F}),s.address&&(0,y.jsx)("div",{className:"text-danger",children:s.address})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsx)("label",{for:"formFile",class:"form-label",children:"Image"}),(0,y.jsx)("input",{class:"form-control",type:"file",id:"formFile",label:"Image",name:"logo",accept:".jpeg, .png, .jpg",onChange:e=>I(e)}),(0,y.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 600KB). Min file size 250 X 250 pixels."}),N&&(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{className:"selectedInputImage",src:N,alt:"Selected"}),e.profile_image?(0,y.jsx)("button",{className:"APButton3",type:"button",onClick:D,children:"Delete"}):(0,y.jsx)("button",{className:"APButton3",onClick:D,children:"Delete"})]})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Location",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.location&&"input-error"}`,name:"location",value:e.location,placeholder:"Location",onChange:k}),Z.length>0&&(0,y.jsx)("div",{className:"suggestionsAdminSide",style:{display:$?"none":""},children:(0,y.jsx)("ul",{className:"locationDropdown",children:Z.map(((e,a)=>(0,y.jsx)("div",{className:"suggestion-item",children:(0,y.jsxs)("li",{onClick:()=>(e=>{k({target:{name:"location",value:e}}),q(!0),R([])})(e),children:[(0,y.jsxs)("div",{className:"eachLocation",children:[(0,y.jsx)("div",{className:"locationIcon",children:(0,y.jsx)(j.Z,{fontSize:"small"})})," ",(0,y.jsx)("div",{className:"locationSuggestion",children:e})]})," "]})},a)))})}),s.location&&(0,y.jsx)("div",{className:"text-danger",children:s.location})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Contact Number",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.contact&&"input-error"}`,name:"contact",value:e.contact,placeholder:"Contact Number",onChange:F}),s.contact&&(0,y.jsx)("div",{className:"text-danger",children:s.contact})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Contact Number",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.company_contact&&"input-error"}`,name:"company_contact",value:e.company_contact,placeholder:"Company Contact Number",onChange:F}),s.company_contact&&(0,y.jsx)("div",{className:"text-danger",children:s.company_contact})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsx)("label",{for:"formFile",class:"form-label",children:"Company Website"}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.company_website&&"input-error"}`,name:"company_website",value:e.company_website,placeholder:"Company Website",onChange:F}),s.company_website&&(0,y.jsx)("div",{className:"text-danger",children:s.company_website}),(0,y.jsx)("div",{id:"emailHelp",className:"form-text",children:"Eg: https://www.google.com or http://google.com"})]}),(0,y.jsx)("hr",{}),(0,y.jsx)("h4",{className:"mb-4",children:"Login Details"}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Email Address",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.email_address&&"input-error"}`,name:"email_address",value:e.email_address,placeholder:"Email Address",onChange:F}),s.email_address&&(0,y.jsx)("div",{className:"text-danger",children:s.email_address})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Password",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.password&&"input-error"}`,name:"password",value:e.password,placeholder:"Password",onChange:F}),s.password&&(0,y.jsx)("div",{className:"text-danger",children:s.password})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Confirm Password",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.confirm_password&&"input-error"}`,name:"confirm_password",value:e.confirm_password,placeholder:"Confirm Password",onChange:F}),s.confirm_password&&(0,y.jsx)("div",{className:"text-danger",children:s.confirm_password})]}),(0,y.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const s={};if(""===e.company_name&&(s.company_name="Company Name is required",window.scrollTo(0,0)),""===e.company_about&&(s.company_about="Company Profile is required",window.scrollTo(0,0)),""===e.position&&(s.position="Position is required",window.scrollTo(0,0)),""===e.first_name&&(s.first_name="First Name is required",window.scrollTo(0,0)),""===e.last_name&&(s.last_name="Last Name is required",window.scrollTo(0,0)),""===e.address&&(s.address="Address is required",window.scrollTo(0,0)),""===e.location&&(s.location="Location is required",window.scrollTo(0,0)),""===e.contact?(s.contact="Contact Number is required",window.scrollTo(0,0)):P(e.contact)||(s.contact="Please enter contact number under 15 digits"),""===e.company_contact?(s.company_contact="Company Contact Number is required",window.scrollTo(0,0)):P(e.company_contact)||(s.company_contact="Please enter contact number under 15 digits"),""===e.email_address?s.email_address="Email Address is required":o(e.email_address)||(s.email_address="Invalid email format"),""===e.password&&(s.password="Password is required"),""===e.confirm_password&&(s.confirm_password="Confirm Password is required"),e.password&&e.password.length<8&&(s.password="Please enter atleast 8 characters"),e.confirm_password&&e.confirm_password.length<8&&(s.confirm_password="Please enter atleast 8 characters"),e.password&&e.confirm_password&&e.password!==e.confirm_password&&(s.confirm_password="Password and Confirm Password do not match"),e.company_website){const n=/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i;e.company_website&&!n.test(e.company_website)&&(s.company_website="Invalid URL format")}function o(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)}if(p(s),0===Object.keys(s).length){if((await x().fire({title:"Add Employer?",text:"Do you want to Add Employer?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){g(!0);const r=await u.Z.post(d.Z+"/admin/users/addusers",e,{headers:{"Content-Type":"application/json",key:m.Z,token:C,adminid:B}});g(!1),200===r.data.status?(x().fire({title:"Employer added successfully!",icon:"success",confirmButtonText:"Close"}),S("/admin/users")):x().fire({title:r.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(a){g(!1),x().fire({title:"Failed",text:"Could not add employer. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"SAVE"}),(0,y.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>{a({company_name:"",company_about:"",position:"",first_name:"",last_name:"",address:"",location:"",contact:"",company_contact:"",company_website:"",email_address:"",password:"",confirm_password:""})},children:"RESET"})]})})]}),(0,y.jsx)(w.Z,{})]})]})]})}},1588:(e,a,s)=>{var o=s(64836);a.Z=void 0;var n=o(s(45649)),r=s(80184),t=(0,n.default)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");a.Z=t}}]);
//# sourceMappingURL=3207.213dc189.chunk.js.map