"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[3732],{73732:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var r=s(72791),n=s(57689),t=s(65167),o=s(93953),i=s(20890),l=s(93517),d=s(50533),m=s(98333),c=s(31243),u=s(12503),p=s(10287),h=s(21830),f=s.n(h),x=s(88329),b=s(24529),j=s(80184);const w=()=>{const[e,a]=(0,r.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),[s,h]=(0,r.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),[w,g]=(0,r.useState)(!1),v=x.Z.get("token"),N=x.Z.get("adminID"),_=(0,n.s0)(),{slug:C}=(0,n.UO)(),y=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),B=e=>{const{name:r,value:n}=e.target;let t={...s};a((e=>({...e,[r]:n}))),"password"===r?y(n)?delete t[r]:t={...t,[r]:"Password must be at least 8 characters long and contain at least one special character, one lowercase character, one uppercase character, and one number."}:delete t[r],h(t)};return(0,r.useEffect)((()=>{v?((async()=>{try{g(!0);const e=await c.Z.post(u.Z+`/admin/editadmins/${C}`,null,{headers:{"Content-Type":"application/json",key:p.Z,token:v,adminid:N}});g(!1),a(e.data.response)}catch(e){g(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):_("/admin")}),[v,_]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(t.Z,{}),(0,j.jsxs)("div",{className:"APBasic",children:[(0,j.jsx)(o.Z,{}),w?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"loader-container"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"site-min-height",children:[(0,j.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,j.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,j.jsx)(m.Z,{fontSize:"small"}),children:[(0,j.jsx)(d.Z,{underline:"hover",color:"inherit",onClick:()=>_("/admin/admins/dashboard"),children:"Dashboard"}),(0,j.jsx)(d.Z,{underline:"hover",color:"inherit",onClick:()=>_("/admin/admins/manage"),children:"Sub Admins"}),(0,j.jsx)(i.Z,{color:"text.primary",children:"Edit Sub Admin"})]})}),(0,j.jsx)("h2",{className:"adminPageHeading",children:"Edit Sub Admin"}),(0,j.jsx)("form",{className:"adminForm",children:(0,j.jsxs)("div",{className:"mb-4 mt-5",children:[(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["First Name",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.first_name&&"input-error"}`,name:"first_name",placeholder:"First Name",value:e.first_name,onChange:B}),s.first_name&&(0,j.jsx)("div",{className:"text-danger",children:s.first_name})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Last Name",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.last_name&&"input-error"}`,name:"last_name",placeholder:"Last Name",value:e.last_name,onChange:B}),s.last_name&&(0,j.jsx)("div",{className:"text-danger",children:s.last_name})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Username",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.username&&"input-error"}`,name:"username",placeholder:"Username",value:e.username,onChange:B}),s.username&&(0,j.jsx)("div",{className:"text-danger",children:s.username})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["Email Address",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.email&&"input-error"}`,name:"email",placeholder:"Email Address",value:e.email,onChange:B}),s.email&&(0,j.jsx)("div",{className:"text-danger",children:s.email})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Password"}),(0,j.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.password&&"input-error"}`,name:"password",placeholder:"Password",value:e.password,onChange:B}),s.password&&(0,j.jsx)("div",{className:"text-danger",children:s.password})]}),(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("label",{for:"formFile",class:"form-label",children:"Confirm Password"}),(0,j.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.confirm_password&&"input-error"}`,name:"confirm_password",placeholder:"Confirm Password",value:e.confirm_password,onChange:B}),s.confirm_password&&(0,j.jsx)("div",{className:"text-danger",children:s.confirm_password})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const{first_name:a,last_name:s,username:r,email:n,password:t,confirm_password:o}=e;if(!a||!s||!r||!n)return void h({first_name:a?"":"First Name is required",last_name:s?"":"Last Name is required",username:r?"":"Username is required",email:n?"":"Email is required",password:t?"":"Password is required",confirm_password:o?"":"Confirm password is required"});if(t){if(t!==o)return void h({confirm_password:"Password and Confirm Password do not match"});if(t.length<8||o.length<8)return void h({password:"Please enter atleast 8 characters",confirm_password:"Please enter atleast 8 characters"});if(!y(t))return void h({password:"Password must be at least 8 characters long and contain at least one special character, one lowercase character, one uppercase character, and one number."})}if(!(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(n))return void h({email:"Invalid Email Address"});if((await f().fire({title:"Update Sub Admin?",text:"Do you want to update Sub-Admin?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){g(!0);const a=await c.Z.post(u.Z+`/admin/editadmins/${C}`,e,{headers:{"Content-Type":"application/json",key:p.Z,token:v,adminid:N}});g(!1),200===a.data.status?(f().fire({title:"Sub-Admin account updated successfully!",icon:"success",confirmButtonText:"Close"}),window.scrollTo(0,0),_("/admin/admins/manage")):f().fire({title:a.data.message,icon:"error",confirmButtonText:"Close"})}}catch(a){g(!1),f().fire({title:"Failed",text:"Could not update Sub-Admin. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not add sub admin!",a)}},children:"UPDATE"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>_("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,j.jsx)(b.Z,{})]})]})]})}}}]);
//# sourceMappingURL=3732.3219849c.chunk.js.map