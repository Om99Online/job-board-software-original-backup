"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4250],{24250:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var s=l(72791),o=l(65167),t=l(93953),n=l(20890),r=l(93517),i=l(50533),c=l(98333),p=l(31243),d=l(12503),m=l(10287),u=l(21830),h=l.n(u),b=l(57689),x=l(88329),j=l(24529),_=l(80184);const y=()=>{const[e,a]=(0,s.useState)({plan_name:"",job_post:"empty",resume_download:"",candidate_search:"0",job_apply:"0",profile_view:"0",amount:"",planuser:"",type_value:"",type:""}),[l,u]=(0,s.useState)({plan_name:"",job_post:"",resume_download:"",candidate_search:"",job_apply:"",profile_view:"",amount:"",planuser:"",type_value:"",type:"",job_apply_checkbx:"",job_apply_input:"",emp_checkbx:""}),[y,f]=(0,s.useState)(!1),v=x.Z.get("token"),k=x.Z.get("adminID"),[N,w]=(0,s.useState)([]),[g,C]=(0,s.useState)([]),{slug:P}=(0,b.UO)(),B=(0,b.s0)(),S=l=>{const{name:s,value:o}=l.target;if("planuser"===s){const s=l.target.value;T(s),"employer"===o&&a({...e,job_apply:"0"}),"jobseeker"===o&&a({...e,job_post:"0",resume_download:"0",candidate_search:"0",profile_view:"0"}),se(!1),Q(!1),$(!1)}a((e=>({...e,[s]:o}))),u((e=>({...e,[s]:""})))},[D,F]=(0,s.useState)(""),[I,T]=(0,s.useState)(""),[Z,U]=(0,s.useState)(!1),[A,E]=(0,s.useState)(!1),[R,J]=(0,s.useState)(""),[L,V]=(0,s.useState)(!1),[q,$]=(0,s.useState)(!1),[O,Y]=(0,s.useState)(""),[M,z]=(0,s.useState)(!1),[H,G]=(0,s.useState)(!1),[K,Q]=(0,s.useState)(!1),[W,X]=(0,s.useState)(""),[ee,ae]=(0,s.useState)(!1),[le,se]=(0,s.useState)(!1),[oe,te]=(0,s.useState)(""),[ne,re]=(0,s.useState)(!1),[ie,ce]=(0,s.useState)(!1),[pe,de]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{"empty"!=e.job_apply?se(!0):se(!1),"1000000"===e.job_apply&&re(!0),"empty"!=e.job_post?E(!0):E(!1),"50000"===e.job_post&&V(!0),"empty"!=e.resume_download?$(!0):$(!1),"1000000"===e.resume_download&&z(!0),"empty"!=e.profile_view?Q(!0):Q(!1),"1000000"===e.profile_view&&ae(!0),console.log(le)}),[e]),(0,s.useEffect)((()=>{v?((async()=>{try{f(!0);const e=await p.Z.post(d.Z+`/admin/plan/editPlan/${P}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:v,adminid:k}});f(!1),a(e.data.response.plan),w(e.data.response.planType),C(e.data.response.userType)}catch(e){f(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):B("/admin")}),[v,B]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.Z,{}),(0,_.jsxs)("div",{className:"APBasic",children:[(0,_.jsx)(t.Z,{}),y?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"loader-container"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"site-min-height",children:[(0,_.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,_.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,_.jsx)(c.Z,{fontSize:"small"}),children:[(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>B("/admin/admins/dashboard"),children:"Dashboard"}),(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>B("/admin/plans/index"),children:"Plan List"}),(0,_.jsx)(n.Z,{color:"text.primary",children:"Edit Plan"})]})}),(0,_.jsx)("h2",{className:"adminPageHeading",children:"Edit Plan"}),(0,_.jsxs)("form",{className:"adminForm",children:[(0,_.jsxs)("div",{className:"mb-4 mt-5",children:[(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Plan Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"plan_name",placeholder:"Plan Name",value:e.plan_name,onChange:S})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Type",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"type",value:e.type,onChange:S,children:[(0,_.jsx)("option",{selected:!0,children:"Select Plan Type"}),Object.entries(N).map((e=>{let[a,l]=e;return(0,_.jsx)("option",{value:a,children:l})}))]})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["User Plan",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"planuser",value:e.planuser,onChange:S,children:[(0,_.jsx)("option",{selected:!0,children:"Select User Plan"}),Object.entries(g).map((e=>{let[a,l]=e;return(0,_.jsx)("option",{value:a,children:l})}))]})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Years"===e.type?"Time Period (In Years)":"Months"===e.type?"Time Period (In Months)":"Time Period",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"type_value",placeholder:"Time Period",value:e.type_value,onChange:S})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Plan Amount",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"amount",placeholder:"Plan Amount",value:e.amount,onChange:S})]}),"employer"===e.planuser&&(0,_.jsxs)(_.Fragment,{children:[l.emp_checkbx&&(0,_.jsx)("div",{className:"text-danger mb-3",children:l.emp_checkbx}),(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("label",{htmlFor:"formFile",className:"form-label",children:["Select Features",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"",label:"Number of Job Post",name:"job_post",checked:"employer"===e.planuser&&"empty"!=e.job_post,onChange:l=>{l.target.checked?(a({...e,job_post:""}),E(!0)):(a({...e,job_post:"empty"}),E(!1)),u({emp_checkbx:""})}}),(0,_.jsx)("label",{children:"Number of Job Post"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"resumeDownloadsCheckbox",className:"",name:"resume_download",checked:"employer"===e.planuser&&"empty"!=e.resume_download,onChange:l=>{l.target.checked?(a({...e,resume_download:""}),$(!0)):(a({...e,resume_download:"empty"}),$(!1)),u({emp_checkbx:""})}}),(0,_.jsx)("label",{children:"Number of resume download"})]})]}),(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"",label:"Number of Job Post",name:"candidate_search",checked:"employer"===e.planuser&&"empty"!=e.candidate_search,onChange:l=>{G(l.target.checked),a(H?{...e,candidate_search:"1"}:{...e,candidate_search:"empty"}),console.log(e),u({emp_checkbx:""})}}),(0,_.jsx)("label",{children:"Access candidate search functionality"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"profileViewsCheckbox",className:"",name:"profile_view",checked:"employer"===e.planuser&&"empty"!=e.profile_view,onChange:l=>{l.target.checked?(a({...e,profile_view:""}),Q(!0)):(a({...e,profile_view:"empty"}),Q(!1)),u({emp_checkbx:""})}}),(0,_.jsx)("label",{children:"Number of Candidate Profile Views"})]})]})]}),"employer"===e.planuser&&(A||"empty"!=e.job_post)&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"jobApplyInput",className:"form-label",children:"Number of Job Post:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:`form-control ${l.job_post_input&&"input-error"}`,name:"job_post",value:L?"":e.job_post,onChange:l=>{const s=l.target.value,o=parseFloat(s);!L&&o>0&&(J(s),a({...e,job_post:o}),u({job_post:""}),console.log(e))},disabled:L||"50000"===e.job_post}),(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"unlimitedCheckbox",className:"unlimitedCheckbx",name:"job_post",checked:L||"50000"===e.job_post,onChange:l=>{V(l.target.checked),l.target.checked?(J(""),a({...e,job_post:"50000"}),u({job_post_input:""})):(a({...e,job_post:""}),V(!1)),console.log(e)}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.job_post&&(0,_.jsx)("div",{className:"text-danger",children:l.job_post})]})}),"employer"===e.planuser&&(q||"empty"!=e.resume_download)&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"resumeDownloadsInput",className:"form-label",children:"Number of Resume Downloads:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:`form-control ${l.resume_download&&"input-error"}`,name:"resume_download",value:M?"":e.resume_download,onChange:l=>{const s=l.target.value,o=parseFloat(s);!M&&o>0&&(Y(s),a({...e,resume_download:o}),u((e=>({...e,resume_download:""}))),console.log(e))},disabled:M||"1000000"===e.resume_download}),(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"resumeDownloadsUnlimitedCheckbox",className:"unlimitedCheckbx",name:"resumeDownloadsUnlimited",checked:M||"1000000"===e.resume_download,onChange:l=>{z(l.target.checked),l.target.checked?(Y(""),a({...e,resume_download:"50000"}),u({resume_download_input:""})):(a({...e,resume_download:""}),z(!1)),console.log(e)}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.resume_download&&(0,_.jsx)("div",{className:"text-danger",children:l.resume_download})]})}),"employer"===e.planuser&&(K||"empty"!=e.profile_view)&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"profileViewsInput",className:"form-label",children:"Number of Candidate Profile Views:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:`form-control ${l.profile_view&&"input-error"}`,name:"profile_view",value:ee?"":e.profile_view,onChange:l=>{const s=l.target.value,o=parseFloat(s);!ee&&o>0&&(X(s),a({...e,profile_view:o}),u((e=>({...e,profile_view:""}))),console.log(e))},disabled:ee||"1000000"===e.profile_view}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"profileViewsUnlimitedCheckbox",className:"unlimitedCheckbx",name:"profileViewsUnlimited",checked:ee||"1000000"===e.profile_view,onChange:l=>{ae(l.target.checked),l.target.checked?(X(""),a({...e,profile_view:"1000000"}),u({profile_view_input:""})):(a({...e,profile_view:""}),ae(!1)),console.log(e)}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.profile_view&&(0,_.jsx)("div",{className:"text-danger",children:l.profile_view})]})}),"jobseeker"===e.planuser&&(0,_.jsxs)("div",{className:"mb-5 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("label",{htmlFor:"formFile",className:"form-label",children:["Select Features",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"m-4",label:"Number of Job Post",name:"job_apply",checked:"jobseeker"===e.planuser&&"empty"!=e.job_apply,onChange:l=>{l.target.checked?(a({...e,job_apply:""}),se(!0)):(a({...e,job_apply:"empty"}),se(!1),re(!1)),u((e=>({...e,job_apply_checkbx:""})))}}),(0,_.jsx)("label",{children:"Number of Job Apply"})]}),l.job_apply_checkbx&&(0,_.jsx)("div",{className:"text-danger",children:l.job_apply_checkbx})]}),"jobseeker"===e.planuser&&(le||"empty"!=e.job_apply)&&(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"jobApplyInput",className:"form-label",children:"Number of Job Apply:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:`form-control ${l.job_apply_input&&"input-error"}`,name:"job_apply",value:ne?"":e.job_apply,onChange:l=>{const s=l.target.value,o=parseFloat(s);!ne&&o>0&&(te(s),a({...e,job_apply:o}),u((e=>({...e,job_apply_input:""}))),console.log(e))},disabled:ne||"1000000"===e.job_apply}),(0,_.jsxs)("div",{className:"mb-5 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"unlimitedCheckbox",className:"unlimitedCheckbx",name:"job_apply",checked:pe||"1000000"===e.job_apply,onChange:l=>{re(l.target.checked),l.target.checked?(te(""),a({...e,job_apply:"1000000"}),u((e=>({...e,job_apply_input:""}))),re(!0)):(a({...e,job_apply:""}),re(!1)),u((e=>({...e,job_apply_input:""})))}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.job_apply_input&&(0,_.jsx)("div",{className:"text-danger",children:l.job_apply_input})]})]}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary adminLowerButton1",onClick:async()=>{try{const s={};if(""===e.plan_name&&(s.plan_name="Plan Name is required"),""===e.amount&&(s.amount="Amount is required"),""===e.planuser&&(s.planuser="User Plan is required"),""===e.type&&(s.type="Plan Type is required"),""===e.type_value&&(s.type_value="Type is required"),"jobseeker"!==e.planuser||le||(s.job_apply_checkbx="Please select atleast one feature"),"jobseeker"===e.planuser&&le&&""===e.job_apply&&(s.job_apply_input="Please enter a value"),"jobseeker"===e.planuser&&le&&e.job_apply<=0&&(s.job_apply_input="Please enter a value greater than 0"),"employer"!==e.planuser||A||q||H||K||(s.emp_checkbx="Please select at least one feature"),"employer"===e.planuser&&A&&""===e.job_post&&(s.job_post="Please enter a value"),"employer"===e.planuser&&A&&e.job_post<=0&&(s.job_post="Please enter a value greater than 0"),"employer"===e.planuser&&q&&""===e.resume_download&&(s.resume_download="Please enter a value"),"employer"===e.planuser&&q&&e.resume_download<=0&&(s.resume_download="Please enter a value greater than 0"),"employer"===e.planuser&&K&&""===e.profile_view&&(s.profile_view="Please enter a value"),"employer"===e.planuser&&K&&e.profile_view<=0&&(s.profile_view="Please enter a value greater than 0"),u(s),console.log(l),0===Object.keys(s).length){if((await h().fire({title:"Update Plan",text:"Do you want to update this Plan?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){f(!0);const l=await p.Z.post(d.Z+`/admin/plan/editPlan/${P}`,e,{headers:{"Content-Type":"application/json",key:m.Z,token:v,adminid:k}});f(!1),200===l.data.status?(h().fire({title:"Plan updated successfully!",icon:"success",confirmButtonText:"Close"}),a({...e,plan_name:"",type_value:"",type:"",amount:"",userplan:"",feature_ids:""}),window.scrollTo(0,0),B("/admin/plans/index")):h().fire({title:l.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(s){f(!1),h().fire({title:"Failed",text:"Could not update plan. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not add plan!",s)}},children:"SAVE"}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary adminLowerButton2",children:"RESET"})]})]}),(0,_.jsx)(j.Z,{})]})]})]})}}}]);
//# sourceMappingURL=4250.c8cb5f82.chunk.js.map