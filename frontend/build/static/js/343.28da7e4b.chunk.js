"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[343],{40343:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var s=a(72791),o=a(65167),r=a(93953),n=a(20890),l=a(93517),i=a(50533),d=a(98333),c=a(31243),m=a(12503),u=a(10287),x=a(21830),h=a.n(x),p=a(57689),j=a(88329),b=a(24529),f=a(80184);const _=()=>{const[e,t]=(0,s.useState)({xml_url:""}),[a,x]=(0,s.useState)({xml_url:""}),[_,g]=(0,s.useState)(!1),[w,Z]=(0,s.useState)([]),y=j.Z.get("token"),C=j.Z.get("adminID"),k=(0,p.s0)();return(0,s.useEffect)((()=>{y?((async()=>{try{g(!0);const e=await c.Z.post(m.Z+"/admin/job/admin_jobimportdata",null,{headers:{"Content-Type":"application/json",key:u.Z,token:y,adminid:C}});g(!1),Z(e.data.response.employers)}catch(e){g(!1),console.log("Error at import jobs at Admin panel")}})(),window.scrollTo(0,0)):k("/admin")}),[y,k]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{}),(0,f.jsxs)("div",{className:"APBasic",children:[(0,f.jsx)(r.Z,{}),_?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"loader-container"})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"site-min-height",children:[(0,f.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,f.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,f.jsx)(d.Z,{fontSize:"small"}),children:[(0,f.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>k("/admin/admins/dashboard"),children:"Dashboard"}),(0,f.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>k("/admin/candidates"),children:"List Jobs"}),(0,f.jsx)(n.Z,{color:"text.primary",children:"Import Jobs"})]})}),(0,f.jsx)("h2",{className:"adminPageHeading",children:"Import Jobs"}),(0,f.jsx)("form",{className:"adminForm",children:(0,f.jsxs)("div",{className:"mb-4 mt-5",children:[(0,f.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,f.jsxs)("label",{for:"formFile",class:"form-label",children:["XML Feed URL",(0,f.jsx)("span",{className:"RedStar",children:"*"})]}),(0,f.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.xml_url&&"input-error"}`,name:"xml_url",placeholder:"XML URL",value:e.xml_url,onChange:a=>{const{name:s,value:o}=a.target;t((e=>({...e,[s]:o}))),x((e=>({...e,[s]:""}))),console.log(e)}}),a.xml_url&&(0,f.jsx)("div",{className:"text-danger",children:a.xml_url})]}),(0,f.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const t={};if(""===e.xml_url)t.xml_url="URL is required",window.scrollTo(0,0);else{/^(https:\/\/)(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(e.xml_url)||(t.xml_url="Invalid URL format")}if(x(t),0===Object.keys(t).length){if((await h().fire({title:"Import?",text:"Do you want to Import Jobs?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){g(!0),j.Z.set("xml_url",e.xml_url);const t=await c.Z.post(m.Z+"/admin/job/admin_jobimportdata",e,{headers:{"Content-Type":"application/json",key:u.Z,token:y,adminid:C}});g(!1),200===t.data.status?k("/admin/jobs/importlistupdated"):h().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(t){g(!1),h().fire({title:"Failed",text:"Could not Import Jobs. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",t)}},children:"NEXT"})]})})]}),(0,f.jsx)(b.Z,{})]})]})]})}}}]);
//# sourceMappingURL=343.28da7e4b.chunk.js.map