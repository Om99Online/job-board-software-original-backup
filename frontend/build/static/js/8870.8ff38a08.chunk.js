"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[8870],{58870:(e,a,s)=>{s.r(a),s.d(a,{default:()=>_});var n=s(72791),o=s(65167),r=s(93953),l=s(20890),t=s(93517),i=s(50533),c=s(98333),d=s(12503),m=s(10287),p=s(21830),u=s.n(p),h=s(31243),x=s(57689),f=(s(5282),s(88329)),j=s(1588),w=s(66770),b=s.n(w),g=(s(86009),s(24529)),y=s(80184);const _=()=>{(0,n.useRef)(null);const[e,a]=(0,n.useState)([]),[s,p]=(0,n.useState)({company_name:"",company_about:"",position:"",first_name:"",last_name:"",address:"",location:"",contact:"",company_contact:"",url:"",email_address:"",new_password:"",confirm_password:""}),[w,_]=(0,n.useState)(null),[v,N]=(0,n.useState)(!1),C=f.Z.get("token"),B=f.Z.get("adminID"),E=f.Z.get("mapKey"),S=(0,x.s0)(),{slug:F}=(0,x.UO)(),I=e=>{const{name:s,value:n}=e.target;a((e=>({...e,[s]:n}))),p((e=>({...e,[s]:""})))},P=e=>/^\+?\d{1,3}-?\d{9,15}$/.test(e),D=async n=>{const o=n.target,r=o.files[0];if(r){if(r.size>614400)return u().fire({title:"Image size should be under 600KB",icon:"warning",confirmButtonText:"Close"}),void(o.value="");const n=new Image;n.src=window.URL.createObjectURL(r),n.onload=()=>{const l=n.naturalWidth,t=n.naturalHeight;l<250||t<250?(u().fire({title:"Minimum image resolution should be 250x250 pixels",icon:"warning",confirmButtonText:"Close"}),o.value=""):(p({...s,profile_image:""}),function(e){return new Promise(((a,s)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{a(n.result)},n.onerror=e=>{s(e)}}))}(r).then((s=>{a({...e,profile_image:s}),_(s)})))}}},Z=s=>{s.preventDefault(),1===e.status&&a({...e,status:0}),0===e.status&&a({...e,status:1})},[k,T]=(0,n.useState)(null),[A,R]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${E}&libraries=places`,e.onload=()=>{T(new window.google.maps.places.AutocompleteService),console.log(k)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const $=s=>{const{value:n}=s.target;q(!1),""==n&&q(!0),""!=n&&p({location:""}),a((e=>({...e,location:n}))),k&&k.getPlacePredictions({input:n,types:["(cities)"]},((e,a)=>{R("OK"===a&&e?e.map((e=>e.description)):[])})),""===e.location&&R([])},[L,q]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{C?((async()=>{try{N(!0);const e=await h.Z.post(d.Z+`/admin/users/editusers/${F}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:C,adminid:B}});N(!1),a(e.data.response),_(e.data.response.profile_image)}catch(e){N(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):S("/admin")}),[C,S]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{}),(0,y.jsxs)("div",{className:"APBasic",children:[(0,y.jsx)(r.Z,{}),v?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"loader-container"})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"site-min-height",children:[(0,y.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,y.jsxs)(t.Z,{"aria-label":"breadcrumb",separator:(0,y.jsx)(c.Z,{fontSize:"small"}),children:[(0,y.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>S("/admin/admins/dashboard"),children:"Dashboard"}),(0,y.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>S("/admin/users"),children:"Employers"}),(0,y.jsx)(l.Z,{color:"text.primary",children:"Edit Employer Details"})]})}),(0,y.jsx)("h2",{className:"adminPageHeading",children:"Edit Employer"}),(0,y.jsx)("form",{className:"adminForm",children:(0,y.jsxs)("div",{className:"mb-4 mt-5",children:[(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.company_name&&"input-error"}`,name:"company_name",placeholder:"Company Name",value:e.company_name,onChange:I,disabled:!0}),s.company_name&&(0,y.jsx)("div",{className:"text-danger",children:s.company_name})]}),(0,y.jsxs)("div",{className:" mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,y.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Profile",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)(b(),{theme:"snow",value:e.company_about,onChange:e=>I({target:{name:"company_about",value:e}}),style:{minHeight:"250px",height:"200px"},placeholder:"Add your text here..."}),s.company_about&&(0,y.jsx)("div",{className:"text-danger",children:s.company_about})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Position",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.position&&"input-error"}`,name:"position",value:e.position,placeholder:"Position",onChange:I}),s.position&&(0,y.jsx)("div",{className:"text-danger",children:s.position})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["First Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.first_name&&"input-error"}`,name:"first_name",value:e.first_name,placeholder:"First Name",onChange:I}),s.first_name&&(0,y.jsx)("div",{className:"text-danger",children:s.first_name})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Last Name",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.last_name&&"input-error"}`,name:"last_name",value:e.last_name,placeholder:"Last Name",onChange:I}),s.last_name&&(0,y.jsx)("div",{className:"text-danger",children:s.last_name})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Address",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("textarea",{type:"text",id:"form3Example1",className:`form-control ${s.address&&"input-error"}`,name:"address",value:e.address,placeholder:"Address",onChange:I}),s.address&&(0,y.jsx)("div",{className:"text-danger",children:s.address})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsx)("label",{for:"formFile",class:"form-label",children:"Image"}),(0,y.jsx)("input",{class:"form-control",type:"file",id:"formFile",label:"Image",name:"logo",accept:".jpeg, .png, .jpg",onChange:e=>D(e)}),(0,y.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 600KB). Min file size 250 X 250 pixels."}),w&&(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{className:"selectedInputImage",src:w,alt:"Selected"}),e.profile_image?"":(0,y.jsx)("button",{className:"APButton3",onClick:()=>{_(null),a({...e,profile_image:""}),window.location.reload()},children:"Delete"})]})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Location",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.location&&"input-error"}`,name:"location",value:e.location,placeholder:"Location",onChange:$}),A.length>0&&(0,y.jsx)("div",{className:"suggestionsAdminSide",style:{display:L?"none":""},children:(0,y.jsx)("ul",{className:"locationDropdown",children:A.map(((e,a)=>(0,y.jsx)("div",{className:"suggestion-item",children:(0,y.jsxs)("li",{onClick:()=>(e=>{$({target:{name:"location",value:e}}),q(!0),R([])})(e),children:[(0,y.jsxs)("div",{className:"eachLocation",children:[(0,y.jsx)("div",{className:"locationIcon",children:(0,y.jsx)(j.Z,{fontSize:"small"})})," ",(0,y.jsx)("div",{className:"locationSuggestion",children:e})]})," "]})},a)))})}),s.location&&(0,y.jsx)("div",{className:"text-danger",children:s.location})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Contact Number",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.contact&&"input-error"}`,name:"contact",value:e.contact,placeholder:"Contact Number",onChange:I}),s.contact&&(0,y.jsx)("div",{className:"text-danger",children:s.contact})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Contact Number",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"company_contact_input",className:`form-control ${s.company_contact&&"input-error"}`,name:"company_contact",value:e.company_contact,placeholder:"Company Contact Number",onChange:I}),s.company_contact&&(0,y.jsx)("div",{className:"text-danger",children:s.company_contact})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsx)("label",{for:"formFile",class:"form-label",children:"Company Website"}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.url&&"input-error"}`,name:"url",value:e.url,placeholder:"Company Website",onChange:I}),s.url&&(0,y.jsx)("div",{className:"text-danger",children:s.url}),(0,y.jsx)("div",{id:"emailHelp",className:"form-text",children:"Eg: https://www.google.com or https://google.com"})]}),(0,y.jsx)("hr",{}),(0,y.jsx)("h4",{className:"mb-4",children:"Login Details"}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Email Address",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.email_address&&"input-error"}`,name:"email_address",value:e.email_address,placeholder:"Email Address",onChange:I,disabled:!0}),s.email_address&&(0,y.jsx)("div",{className:"text-danger",children:s.email_address})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Password",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.password&&"input-error"}`,name:"new_password",value:e.new_password,placeholder:"Password",onChange:I}),s.new_password&&(0,y.jsx)("div",{className:"text-danger",children:s.new_password}),(0,y.jsx)("div",{id:"emailHelp",class:"form-text",children:"* Note: If You want to change User's password, only then fill password below otherwise leave it blank."})]}),(0,y.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,y.jsxs)("label",{for:"formFile",class:"form-label",children:["Confirm Password",(0,y.jsx)("span",{className:"RedStar",children:"*"})]}),(0,y.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${s.confirm_password&&"input-error"}`,name:"confirm_password",value:e.confirm_password,placeholder:"Confirm Password",onChange:I}),s.confirm_password&&(0,y.jsx)("div",{className:"text-danger",children:s.confirm_password})]}),(0,y.jsx)("hr",{}),(0,y.jsxs)("div",{className:"otherSection",children:[(0,y.jsx)("h4",{className:"",children:"Other Details"}),(0,y.jsxs)("div",{class:"otherSectionBody",children:[(0,y.jsx)("p",{children:"Employer Status"}),(0,y.jsx)("div",{className:"activeButtonBox",children:1===e.status?(0,y.jsx)("button",{className:"activeTrue",onClick:Z,children:"Active"}):(0,y.jsx)("button",{className:"activeFalse",onClick:Z,children:"Inactive"})})]}),(0,y.jsx)("div",{id:"emailHelp",className:"form-text",children:"Click above to change Employer's status. Changes will be reflect only after submitting form."}),(0,y.jsx)("div",{id:"emailHelp",className:"text-danger",children:"Changes will be reflect only after submitting form."})]}),(0,y.jsxs)("div",{className:"adminBottomButtons",children:[(0,y.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const s={};if(""!==e.company_name&&null!==e.company_name||(s.company_name="Company Name is required",window.scrollTo(0,0)),""!==e.company_about&&null!==e.company_about||(s.company_about="Company Profile is required",window.scrollTo(0,0)),""!==e.position&&null!==e.position||(s.position="Position is required",window.scrollTo(0,0)),""===e.first_name&&(s.first_name="First Name is required",window.scrollTo(0,0)),""===e.last_name&&(s.last_name="Last Name is required",window.scrollTo(0,0)),""!==e.address&&null!==e.address||(s.address="Address is required",window.scrollTo(0,0)),""!==e.location&&null!==e.location||(s.location="Location is required",window.scrollTo(0,0)),""===e.contact?(s.contact="Contact Number is required",window.scrollTo(0,0)):P(e.contact)||(s.contact="Please enter contact number under 15 digits"),""===e.company_contact?(s.company_contact="Company Contact Number is required",window.scrollTo(0,0)):P(e.company_contact)||(s.company_contact="Please enter contact number under 15 digits"),""===e.email_address?s.email_address="Email Address is required":n(e.email_address)||(s.email_address="Invalid email format"),""===e.new_password&&(s.new_password="Password is required"),""===e.confirm_password&&(s.confirm_password="Confirm Password is required"),e.new_password&&e.new_password.length<8&&(s.new_password="Please enter atleast 8 characters"),e.confirm_password&&e.confirm_password.length<8&&(s.confirm_password="Please enter atleast 8 characters"),e.new_password&&e.confirm_password&&e.new_password!==e.confirm_password&&(s.confirm_password="Password and Confirm Password do not match"),e.url){const o=/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i;e.url&&!o.test(e.url)&&(s.url="Invalid URL format")}function n(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)}if(p(s),0===Object.keys(s).length){if((await u().fire({title:"Update Employer?",text:"Do you want to update the Employer?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){N(!0);const r=await h.Z.post(d.Z+`/admin/users/editusers/${F}`,e,{headers:{"Content-Type":"application/json",key:m.Z,token:C,adminid:B}});N(!1),200===r.data.status?(u().fire({title:"Employer updated successfully!",icon:"success",confirmButtonText:"Close"}),S("/admin/users")):u().fire({title:r.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(a){N(!1),u().fire({title:"Failed",text:"Could not update employer. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"SAVE"}),(0,y.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>S("/admin/users"),children:"CANCEL"})]})]})})]}),(0,y.jsx)(g.Z,{})]})]})]})}},1588:(e,a,s)=>{var n=s(64836);a.Z=void 0;var o=n(s(45649)),r=s(80184),l=(0,o.default)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");a.Z=l}}]);
//# sourceMappingURL=8870.8ff38a08.chunk.js.map