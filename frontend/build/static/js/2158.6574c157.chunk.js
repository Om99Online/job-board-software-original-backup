"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[2158],{82158:(e,n,a)=>{a.r(n),a.d(n,{default:()=>w});var s=a(72791),r=a(65167),t=a(93953),o=a(20890),i=a(93517),l=a(50533),m=a(98333),c=a(31243),d=a(12503),u=a(10287),h=a(21830),x=a.n(h),f=a(57689),p=a(88329),j=a(24529),b=a(80184);const w=()=>{const[e,n]=(0,s.useState)({new_username:"",conf_username:""}),[a,h]=(0,s.useState)({new_username:"",conf_username:""}),[w,C]=(0,s.useState)(!1),_=p.Z.get("token"),N=p.Z.get("adminID"),g=(0,f.s0)(),v=e=>{const{name:a,value:s}=e.target;n((e=>({...e,[a]:s}))),h((e=>({...e,[a]:""})))},y=async()=>{try{C(!0);const e=await c.Z.post(d.Z+"/admin/changeusername",null,{headers:{"Content-Type":"application/json",key:u.Z,token:_,adminid:N}});C(!1),n(e.data.response)}catch(e){console.log("Error at chnage username at Admin panel")}};return(0,s.useEffect)((()=>{_?(y(),window.scrollTo(0,0)):g("/admin")}),[_,g]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Z,{}),(0,b.jsxs)("div",{className:"APBasic",children:[(0,b.jsx)(t.Z,{}),w?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,b.jsxs)(i.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(m.Z,{fontSize:"small"}),children:[(0,b.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>g("/admin/admins/dashboard"),children:"Dashboard"}),(0,b.jsx)(o.Z,{color:"text.primary",children:"Change Username"})]})}),(0,b.jsx)("h2",{className:"adminPageHeading",children:"Change Admin Username"}),(0,b.jsx)("form",{className:"adminForm",children:(0,b.jsxs)("div",{className:"mb-4 mt-5",children:[(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Current Username",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"username",placeholder:"Current Username",value:e.username,disabled:!0})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["New Username",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.new_username&&"input-error"}`,name:"new_username",placeholder:"New Username",value:e.new_username,onChange:v}),a.new_username&&(0,b.jsx)("div",{className:"text-danger",children:a.new_username})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Confirm Username",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.conf_username&&"input-error"}`,name:"conf_username",placeholder:"Confirm Username",value:e.conf_username,onChange:v}),a.conf_username&&(0,b.jsx)("div",{className:"text-danger",children:a.conf_username})]}),(0,b.jsxs)("div",{className:"adminLowerButtons",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const{new_username:a,conf_username:s}=e;if(!a||!s)return void h({new_username:a?"":"New Username is required",conf_username:s?"":"Confirm Username is required"});if(a!==s)return void h({conf_username:"New Username and Confirm Username do not match"});if((await x().fire({title:"Update Username",text:"Do you want to update the username?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){C(!0);const a=await c.Z.post(d.Z+"/admin/changeusername",e,{headers:{"Content-Type":"application/json",key:u.Z,token:_,adminid:N}});C(!1),200===a.data.status?(x().fire({title:"Username updated successfully!",icon:"success",confirmButtonText:"Close"}),y(),n({...e,new_username:"",conf_username:""}),window.scrollTo(0,0)):x().fire({title:a.data.message,icon:"error",confirmButtonText:"Close"})}}catch(a){C(!1),x().fire({title:"Failed",text:"Could not update username. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"UPDATE"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>g("/admin/admins/dashboard"),children:"CANCEL"})]})]})})]}),(0,b.jsx)(j.Z,{})]})]})]})}}}]);
//# sourceMappingURL=2158.6574c157.chunk.js.map