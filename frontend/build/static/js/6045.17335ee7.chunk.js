"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[6045],{26045:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var l=s(72791),t=s(65167),r=s(93953),o=s(20890),n=s(93517),i=s(50533),c=s(98333),d=s(31243),m=s(12503),p=s(10287),j=s(21830),x=s.n(j),b=s(57689),h=s(88329),u=s(24529),_=s(80184);const f=()=>{const[e,a]=(0,l.useState)({xml_url:"",employer_id:"",job_title:"",job_discription:"",job_category:"",job_skills:"",job_designation:"",job_location:"",work_type:"",expirydate:"",comapany_name:"",comapany_website:"",contact_person:"",tagNames:""}),[s,j]=(0,l.useState)({xml_url:"",employer_id:"",job_title:"",job_discription:"",job_category:"",job_skills:"",job_designation:"",job_location:"",work_type:"",expirydate:"",comapany_name:"",comapany_website:"",contact_person:""}),[f,y]=(0,l.useState)(!1),[g,v]=(0,l.useState)([]),[N,w]=(0,l.useState)([]),C=h.Z.get("token"),k=h.Z.get("adminID"),B=(0,b.s0)(),S=s=>{const{name:l,value:t}=s.target;a((e=>({...e,[l]:t}))),j((e=>({...e,[l]:""}))),console.log(e)};return(0,l.useEffect)((()=>{C?((async()=>{try{y(!0);const e=await d.Z.post(m.Z+"/admin/job/admin_jobimportdata",null,{headers:{"Content-Type":"application/json",key:p.Z,token:C,adminid:k}});y(!1),v(e.data.response.employer_id),w(e.data.response.tagNames)}catch(e){y(!1),console.log("Error at import jobs at Admin panel")}})(),window.scrollTo(0,0)):B("/admin")}),[C,B]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(t.Z,{}),(0,_.jsxs)("div",{className:"APBasic",children:[(0,_.jsx)(r.Z,{}),f?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"loader-container"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"site-min-height",children:[(0,_.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,_.jsxs)(n.Z,{"aria-label":"breadcrumb",separator:(0,_.jsx)(c.Z,{fontSize:"small"}),children:[(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>B("/admin/admins/dashboard"),children:"Dashboard"}),(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>B("/admin/candidates"),children:"List Jobs"}),(0,_.jsx)(o.Z,{color:"text.primary",children:"New Import Jobs"})]})}),(0,_.jsx)("h2",{className:"adminPageHeading",children:"New Import Jobs"}),(0,_.jsx)("form",{className:"adminForm",children:(0,_.jsxs)("div",{className:"mb-4 mt-5",children:[(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["XML Feed URL",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.xml_url&&"input-error"}`,name:"xml_url",placeholder:"XML URL",value:e.xml_url,onChange:S}),s.xml_url&&(0,_.jsx)("div",{className:"text-danger",children:s.xml_url})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.employer_id&&"input-error"}`,"aria-label":"Default select example",name:"employer_id",value:e.employer_id,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Company"}),g.map((e=>(0,_.jsx)("option",{value:e.id,children:e.company_name?e.company_name:e.first_name})))]}),s.employer_id&&(0,_.jsx)("div",{className:"text-danger",children:s.employer_id})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Title",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_title&&"input-error"}`,"aria-label":"Default select example",name:"job_title",value:e.job_title,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_title&&(0,_.jsx)("div",{className:"text-danger",children:s.job_title})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Description",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_discription&&"input-error"}`,"aria-label":"Default select example",name:"job_discription",value:e.job_discription,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_discription&&(0,_.jsx)("div",{className:"text-danger",children:s.job_discription})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Category",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_category&&"input-error"}`,"aria-label":"Default select example",name:"job_category",value:e.job_category,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_category&&(0,_.jsx)("div",{className:"text-danger",children:s.job_category})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Skills",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_skills&&"input-error"}`,"aria-label":"Default select example",name:"job_skills",value:e.job_skills,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_skills&&(0,_.jsx)("div",{className:"text-danger",children:s.job_skills})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Designation",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_designation&&"input-error"}`,"aria-label":"Default select example",name:"job_designation",value:e.job_designation,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_designation&&(0,_.jsx)("div",{className:"text-danger",children:s.job_designation})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Job Location",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.job_location&&"input-error"}`,"aria-label":"Default select example",name:"job_location",value:e.job_location,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.job_location&&(0,_.jsx)("div",{className:"text-danger",children:s.job_location})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Work Type",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.work_type&&"input-error"}`,"aria-label":"Default select example",name:"work_type",value:e.work_type,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.work_type&&(0,_.jsx)("div",{className:"text-danger",children:s.work_type})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Expiry Date",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.expirydate&&"input-error"}`,"aria-label":"Default select example",name:"expirydate",value:e.expirydate,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.expirydate&&(0,_.jsx)("div",{className:"text-danger",children:s.expirydate})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.comapany_name&&"input-error"}`,"aria-label":"Default select example",name:"comapany_name",value:e.comapany_name,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.comapany_name&&(0,_.jsx)("div",{className:"text-danger",children:s.comapany_name})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Company Website",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.comapany_website&&"input-error"}`,"aria-label":"Default select example",name:"comapany_website",value:e.comapany_website,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.comapany_website&&(0,_.jsx)("div",{className:"text-danger",children:s.comapany_website})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Contact Person",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${s.contact_person&&"input-error"}`,"aria-label":"Default select example",name:"contact_person",value:e.contact_person,onChange:S,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Tag"}),Object.entries(N).map((e=>{let[a,s]=e;return(0,_.jsx)("option",{value:s,children:s})}))]}),s.contact_person&&(0,_.jsx)("div",{className:"text-danger",children:s.contact_person})]}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const a={};if(""===e.xml_url)a.xml_url="URL is required",window.scrollTo(0,0);else{/^(https:\/\/)(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(e.xml_url)||(a.xml_url="Invalid URL format")}if(""===e.employer_id&&(a.employer_id="Please select a company"),""===e.job_title&&(a.job_title="Job title is required"),""===e.job_discription&&(a.job_discription="Job discription is required"),""===e.job_category&&(a.job_category="Job category is required"),""===e.job_skills&&(a.job_skills="Job skills is required"),""===e.job_designation&&(a.job_designation="Job designation is required"),""===e.job_location&&(a.job_location="Job location is required"),""===e.work_type&&(a.work_type="Work type is required"),""===e.expirydate&&(a.expirydate="Expiry date is required"),""===e.comapany_name&&(a.comapany_name="Company name is required"),""===e.comapany_website&&(a.comapany_website="Company website is required"),""===e.contact_person&&(a.contact_person="Contact person is required"),j(a),0===Object.keys(a).length){if((await x().fire({title:"Import?",text:"Do you want to Import Jobs?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){y(!0);const a={...e,tagNames:N},s=await d.Z.post(m.Z+"/admin/job/admin_jobimportnew",a,{headers:{"Content-Type":"application/json",key:p.Z,token:C,adminid:k}});y(!1),200===s.data.status?(x().fire({title:"Jobs Imported successfully!",icon:"success",confirmButtonText:"Close"}),B("/admin/jobs/importlist")):x().fire({title:s.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(a){y(!1),x().fire({title:"Failed",text:"Could not Import Jobs. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",a)}},children:"NEXT"})]})})]}),(0,_.jsx)(u.Z,{})]})]})]})}}}]);
//# sourceMappingURL=6045.17335ee7.chunk.js.map