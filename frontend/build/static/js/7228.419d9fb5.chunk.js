"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[7228],{27228:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var t=s(72791),l=s(65167),r=s(93953),i=s(20890),n=s(93517),o=s(50533),c=s(98333),p=s(57689),d=s(31243),m=s(12503),h=s(10287),u=s(21830),y=s.n(u),x=s(88329),b=s(24529),_=s(80184);const j=()=>{const[e,a]=(0,t.useState)({paypal_email:"",stripe_secret_key:"",paypal_url:"",stripe_pk:""}),[s,u]=(0,t.useState)({paypal_email:"",stripe_secret_key:"",paypal_url:"",stripe_pk:""}),[j,f]=(0,t.useState)(!1),w=x.Z.get("token"),k=x.Z.get("adminID"),g=(0,p.s0)(),v=e=>{const{name:s,value:t}=e.target;a((e=>({...e,[s]:t}))),u((e=>({...e,[s]:""})))};let N="";const C=async()=>{try{f(!0);const e=await d.Z.post(m.Z+"/admin/changePaymentdetail",null,{headers:{"Content-Type":"application/json",key:h.Z,token:w,adminid:k}});f(!1),a(e.data.response),N=e.data.response.paypal_url,console.log(N)}catch(e){f(!1),console.log("Error at change payment details at Admin panel")}};return(0,t.useEffect)((()=>{w?(C(),window.scrollTo(0,0)):g("/admin")}),[w,g]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.Z,{}),(0,_.jsxs)("div",{className:"APBasic",children:[(0,_.jsx)(r.Z,{}),j?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"loader-container"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"site-min-height",children:[(0,_.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,_.jsxs)(n.Z,{"aria-label":"breadcrumb",separator:(0,_.jsx)(c.Z,{fontSize:"small"}),children:[(0,_.jsx)(o.Z,{underline:"hover",color:"inherit",onClick:()=>g("/admin/admins/dashboard"),children:"Dashboard"}),(0,_.jsx)(i.Z,{color:"text.primary",children:"Change Payment Details"})]})}),(0,_.jsx)("h2",{className:"adminPageHeading",children:"Update Payment Details"}),(0,_.jsx)("form",{className:"adminForm",children:(0,_.jsxs)("div",{className:"mb-4 mt-5",children:[(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Paypal Email",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"email",id:"form3Example1",className:`form-control ${s.paypal_email&&"input-error"}`,name:"paypal_email",value:e.paypal_email,placeholder:"Paypal Email",onChange:v}),s.paypal_email&&(0,_.jsx)("div",{className:"text-danger",children:s.paypal_email})]}),(0,_.jsxs)("div",{className:"APRadioInput mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Paypal Method",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("div",{className:"APPaymentDetailsRadio",children:[(0,_.jsx)("input",{type:"radio",id:"production",name:"paypal_url",value:"https://www.paypal.com/cgi-bin/webscr",checked:"https://www.paypal.com/cgi-bin/webscr"===e.paypal_url,onChange:v}),(0,_.jsx)("label",{className:"labelProduction",htmlFor:"https://www.paypal.com/cgi-bin/webscr",children:"Production"}),(0,_.jsx)("input",{type:"radio",id:"development",name:"paypal_url",value:"https://www.sandbox.paypal.com/cgi-bin/webscr",checked:"https://www.sandbox.paypal.com/cgi-bin/webscr"===e.paypal_url,onChange:v}),(0,_.jsx)("label",{htmlFor:"https://www.sandbox.paypal.com/cgi-bin/webscr",children:"Development"})]})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Stripe Secret Key",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.stripe_secret_key&&"input-error"}`,name:"stripe_secret_key",value:e.stripe_secret_key,placeholder:"Stripe Secret Key",onChange:v}),s.stripe_secret_key&&(0,_.jsx)("div",{className:"text-danger",children:s.stripe_secret_key})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Stripe Publishable Key",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${s.stripe_pk&&"input-error"}`,name:"stripe_pk",value:e.stripe_pk,placeholder:"Stripe Publishable Key",onChange:v}),s.stripe_pk&&(0,_.jsx)("div",{className:"text-danger",children:s.stripe_pk})]}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const{paypal_email:a,stripe_secret_key:s,stripe_pk:t}=e;if(!a||!s||!t)return void u({paypal_email:a?"":"Email is required",stripe_secret_key:s?"":"Stripe Secret key is required",stripe_pk:t?"":"Stripe Private key is required"});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return void u({paypal_email:"Invalid Email Address"});if((await y().fire({title:"Update?",text:"Do you want to update Payment Details?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){f(!0);const a=await d.Z.post(m.Z+"/admin/changePaymentdetail",e,{headers:{"Content-Type":"application/json",key:h.Z,token:w,adminid:k}});f(!1),200===a.data.status?(y().fire({title:"Payment Details updated successfully!",icon:"success",confirmButtonText:"Close"}),C(),window.scrollTo(0,0)):y().fire({title:a.data.message,icon:"error",confirmButtonText:"Close"})}}catch(a){f(!1),y().fire({title:"Failed",text:"Could not update Payment Details. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update Payment Details",a)}},children:"UPDATE"}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>g("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,_.jsx)(b.Z,{})]})]})]})}}}]);
//# sourceMappingURL=7228.419d9fb5.chunk.js.map