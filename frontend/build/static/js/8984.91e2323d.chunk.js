"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[8984],{18984:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var o=a(72791),n=a(57689),i=a(65167),s=a(93953),c=a(20890),r=a(93517),l=a(50533),d=a(98333),u=a(31243),m=a(12503),h=a(10287),x=a(21830),C=a.n(x),g=a(9e3),y=a(27247),f=a(64558),j=a(872),v=a(51007),p=a(42419),b=a(57246),Z=a(1582),B=a(88329),k=a(24529),T=a(80184);const N=()=>{var e,t;const a=(0,n.s0)(),[x,N]=(0,o.useState)(!1),[w,D]=(0,o.useState)([]),[A,S]=(0,o.useState)([]),[L,P]=(0,o.useState)(""),F=B.Z.get("token"),E=parseInt(B.Z.get("adminID")),[M,z]=(0,o.useState)(1),[_,q]=(0,o.useState)({}),Y=async()=>{try{N(!0);const e=await u.Z.post(m.Z+"/admin/category/index",null,{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});N(!1),D(e.data.response)}catch(e){N(!1),console.log("Cannot get plans data at APmanageplans")}},[V,$]=(0,o.useState)(!0),H=e=>{if("selectAll"===e){$(!V);const e=V?w.map((e=>e.id)):[];S(e)}else A.includes(e)?S(A.filter((t=>t!==e))):S([...A,e])},[I,J]=(0,o.useState)({key:"",direction:"ascending"}),[O,R]=(0,o.useState)("\ud83d\udd3a"),Q=(G=w,K=I.key,U=I.direction,W=L,[...G].filter((e=>{var t,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(W))||(null===(a=e.created)||void 0===a?void 0:a.toLowerCase().includes(W))})).sort(((e,t)=>e[K]<t[K]?"ascending"===U?-1:1:e[K]>t[K]?"ascending"===U?1:-1:0)));var G,K,U,W;const X=w.filter((e=>{var t,a;const o=L.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(a=e.created)||void 0===a?void 0:a.toLowerCase().includes(o))})),ee=20*M,te=ee-20,ae=Q.slice(te,ee),oe=Math.ceil(Q.length/20),ne=[];for(let o=1;o<=oe;o++)ne.push(o);(0,o.useEffect)((()=>{F?(Y(),window.scrollTo(0,0)):a("/admin")}),[F,a]),(0,o.useEffect)((()=>{z(1)}),[L]);const ie=e=>{let t="ascending";I.key===e&&"ascending"===I.direction?(t="descending",R("\ud83d\udd3b")):R("\ud83d\udd3a"),J({key:e,direction:t})};return(0,o.useEffect)((()=>{const e=B.Z.get("access");null!==typeof e||""!==e||void 0!==e?(console.log(JSON.parse(e)),q(JSON.parse(e))):q({})}),[]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.Z,{}),(0,T.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,T.jsx)(s.Z,{}),x?(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"loader-container"})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"site-min-height",children:[(0,T.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,T.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,T.jsx)(d.Z,{fontSize:"small"}),children:[(0,T.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>a("/admin/admins/dashboard"),children:"Dashboard"}),(0,T.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>a(""),children:"Categories"}),(0,T.jsx)(c.Z,{color:"text.primary",children:"Categories List"})]})}),(0,T.jsxs)("div",{className:"ManageSubAdminHeader",children:[(0,T.jsx)("h2",{className:"",children:"Category List"}),(1===(null===(e=_[7])||void 0===e?void 0:e.Add)||1===E)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("button",{className:"btn navButton1 APMSbutton",onClick:()=>a("/admin/categories/addcategory"),children:"Add Category"})})]}),""!=w?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"manageSubadminPart1",children:[(0,T.jsx)("form",{children:(0,T.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,T.jsx)("h4",{children:"Search Category by Name"}),(0,T.jsx)("div",{class:"APDashboardSearchBx ",children:(0,T.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:L,onChange:e=>{const t=e.target.value.toLowerCase();P(t)}})})]})}),(0,T.jsxs)("h4",{children:["No. of Results ",te+1,"-",Math.min(ee,X.length||w.length)," ","of ",w.length]})]}),(0,T.jsx)("div",{className:"manageSubadminPart2",children:(0,T.jsxs)("table",{class:"table",children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"checkBoxCol checkBxHead",children:(0,T.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>H("selectAll")})}),(0,T.jsxs)("th",{onClick:()=>ie("name"),children:["Category Name ",O]}),(0,T.jsxs)("th",{onClick:()=>ie("created"),children:["Created ",O]}),(0,T.jsx)("th",{scope:"col",children:"Action"})]})}),(0,T.jsx)("tbody",{children:ae.map((e=>{var t,o;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"checkBoxCol",children:(0,T.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:A.includes(e.id),onChange:()=>H(e.id)})}),(0,T.jsx)("td",{children:e.name}),(0,T.jsx)("td",{children:e.created}),(0,T.jsxs)("td",{className:"APActionButton",children:[1===e.status?(0,T.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Deactivate Category?",text:"Do you want to Deactivate this Category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/category/admin_deactivate/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});200===t.data.status?C().fire({title:"Category Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",t.message)}})(e.slug),children:(0,T.jsx)(v.Z,{title:"Deactivate",children:(0,T.jsx)(j.Z,{})})}):(0,T.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Activate Category?",text:"Do you want to Activate this category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/category/admin_activate/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});200===t.data.status?C().fire({title:"Category Activated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Activate Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",t.message)}})(e.slug),children:(0,T.jsx)(v.Z,{title:"Activate",children:(0,T.jsx)(f.Z,{})})}),(1===(null===(t=_[7])||void 0===t?void 0:t.Edit)||1===E)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("button",{className:"btn-primary",onClick:()=>a(`/admin/categories/editcategory/${e.slug}`),children:(0,T.jsx)(v.Z,{title:"Edit",children:(0,T.jsx)(g.Z,{})})})}),(1===(null===(o=_[7])||void 0===o?void 0:o.Delete)||1===E)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Delete Category?",text:"Do you want to Delete this Category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/category/admin_delete/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});200===t.data.status?C().fire({title:"Category deleted successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),Y()}}catch(t){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Delete Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(e.slug),children:(0,T.jsx)(v.Z,{title:"Delete",children:(0,T.jsx)(y.Z,{})})})}),(0,T.jsx)("button",{className:"btn-primary",onClick:()=>a(`/admin/categories/subindex/${e.slug}`),children:(0,T.jsx)(v.Z,{title:"Sub Category List",children:(0,T.jsx)(p.Z,{})})})]})]})})}))})]})}),(0,T.jsxs)("div",{className:"manageSubadminpart3",children:[(0,T.jsxs)("div",{className:"functionalityButton",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await C().fire({title:"Activate Category?",text:"Do you want to Activate these Category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=A.toString();console.log(e);const t=await u.Z.post(m.Z+"/admin/category/index",{idList:e,action:"activate"},{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});$(!0),S(""),200===t.data.status?C().fire({title:"Category Activated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't Activate!",icon:"error",confirmButtonText:"Close"}),Y()}}catch(e){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Activate Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",e.message)}})(),children:"ACTIVATE"}),(0,T.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await C().fire({title:"Deactivate Category?",text:"Do you want to Deactivate these Category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=A.join(",");console.log(e);const t=await u.Z.post(m.Z+"/admin/category/index",{idList:e,action:"deactivate"},{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});$(!0),S(""),200===t.data.status?C().fire({title:"Category Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't Deactivate!",icon:"error",confirmButtonText:"Close"}),Y()}}catch(e){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",e.message)}})(),children:"DEACTIVATE"}),(1===(null===(t=_[7])||void 0===t?void 0:t.Delete)||1===E)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("button",{type:"button",className:"btn btn-primary APButton4",onClick:()=>(async()=>{try{if((await C().fire({title:"Delete Category",text:"Do you want to Delete these category?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=A.toString();console.log(e);const t=await u.Z.post(m.Z+"/admin/category/index",{idList:e,action:"delete"},{headers:{"Content-Type":"application/json",key:h.Z,token:F,adminid:E}});$(!0),S(""),200===t.data.status?C().fire({title:"Category Deleted successfully!",icon:"success",confirmButtonText:"Close"}):500===t.data.status?C().fire({title:t.data.message,icon:"warning",confirmButtonText:"Close"}):C().fire({title:"Couldn't Delete!",icon:"error",confirmButtonText:"Close"}),Y()}}catch(e){N(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Delete Category",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't Delete the record!",e.message)}})(),children:"DELETE"})})]}),(0,T.jsx)("div",{className:"pagination",children:(0,T.jsx)(Z.Z,{spacing:2,children:(0,T.jsx)(b.Z,{count:oe,color:"primary",page:M,onChange:(e,t)=>z(t)})})})]})]}):(0,T.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,T.jsx)(k.Z,{})]})]})]})}},64558:(e,t,a)=>{var o=a(64836);t.Z=void 0;var n=o(a(45649)),i=a(80184),s=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=s},872:(e,t,a)=>{var o=a(64836);t.Z=void 0;var n=o(a(45649)),i=a(80184),s=(0,n.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=s},9e3:(e,t,a)=>{var o=a(64836);t.Z=void 0;var n=o(a(45649)),i=a(80184),s=(0,n.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=s},27247:(e,t,a)=>{var o=a(64836);t.Z=void 0;var n=o(a(45649)),i=a(80184),s=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s}}]);
//# sourceMappingURL=8984.91e2323d.chunk.js.map