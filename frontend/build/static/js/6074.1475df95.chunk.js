"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[6074],{86074:(e,s,n)=>{n.r(s),n.d(s,{default:()=>b});var a=n(72791),t=n(65167),r=n(93953),i=n(20890),o=n(93517),l=n(50533),c=n(98333),d=n(31243),u=n(12503),m=n(10287),x=n(21830),h=n.n(x),p=n(57689),j=n(88329),f=n(24529),w=n(80184);const b=()=>{const[e,s]=(0,a.useState)({question1:"",question2:"",answer1:"",answer2:""}),[n,x]=(0,a.useState)({question1:"",question2:"",answer1:"",answer2:""}),[b,y]=(0,a.useState)(!1),q=j.Z.get("token"),g=j.Z.get("adminID"),N=(0,p.s0)(),C=e=>{const{name:n,value:a}=e.target;s((e=>({...e,[n]:a}))),x((e=>({...e,[n]:""})))},v=async()=>{try{y(!0);const e=await d.Z.post(u.Z+"/admin/securityQuestions",null,{headers:{"Content-Type":"application/json",key:m.Z,token:q,adminid:g}});y(!1),s(e.data.response)}catch(e){console.log("Error at chnage username at Admin panel")}};return(0,a.useEffect)((()=>{q?(v(),window.scrollTo(0,0)):N("/admin")}),[q,N]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(t.Z,{}),(0,w.jsxs)("div",{className:"APBasic",children:[(0,w.jsx)(r.Z,{}),b?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"loader-container"})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"site-min-height",children:[(0,w.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,w.jsxs)(o.Z,{"aria-label":"breadcrumb",separator:(0,w.jsx)(c.Z,{fontSize:"small"}),children:[(0,w.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>N("/admin/admins/dashboard"),children:"Dashboard"}),(0,w.jsx)(i.Z,{color:"text.primary",children:"Security Questions"})]})}),(0,w.jsx)("h2",{className:"adminPageHeading",children:"Security Questions"}),(0,w.jsx)("form",{className:"adminForm",children:(0,w.jsxs)("div",{className:"mb-4 mt-5",children:[(0,w.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,w.jsxs)("label",{for:"formFile",class:"form-label",children:["Question 1",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${n.question1&&"input-error"}`,name:"question1",value:e.question1,placeholder:"First Question",onChange:C}),n.question1&&(0,w.jsx)("div",{className:"text-danger",children:n.question1})]}),(0,w.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,w.jsxs)("label",{for:"formFile",class:"form-label",children:["Answer 1",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${n.answer1&&"input-error"}`,name:"answer1",value:e.answer1,placeholder:"First Answer",onChange:C}),n.answer1&&(0,w.jsx)("div",{className:"text-danger",children:n.answer1})]}),(0,w.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,w.jsxs)("label",{for:"formFile",class:"form-label",children:["Question 2",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${n.question2&&"input-error"}`,name:"question2",value:e.question2,placeholder:"Second Question",onChange:C}),n.question2&&(0,w.jsx)("div",{className:"text-danger",children:n.question2})]}),(0,w.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,w.jsxs)("label",{for:"formFile",class:"form-label",children:["Answer 2",(0,w.jsx)("span",{className:"RedStar",children:"*"})]}),(0,w.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${n.answer2&&"input-error"}`,name:"answer2",value:e.answer2,placeholder:"Second Answer",onChange:C}),n.answer2&&(0,w.jsx)("div",{className:"text-danger",children:n.answer2})]}),(0,w.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const s={};if(""===e.question1&&(s.question1="First question is required"),""===e.question2&&(s.question2="Second question is required"),""===e.answer1&&(s.answer1="First answer is required"),""===e.answer2&&(s.answer2="Second answer is required"),x(s),0===Object.keys(s).length){if((await h().fire({title:"Update?",text:"Do you want to update the Security Questions/Answers?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){y(!0);const s=await d.Z.post(u.Z+"/admin/securityQuestions",e,{headers:{"Content-Type":"application/json",key:m.Z,token:q,adminid:g}});y(!1),200===s.data.status?(h().fire({title:"Security Question/Answer updated successfully!",icon:"success",confirmButtonText:"Close"}),v(),window.scrollTo(0,0)):h().fire({title:s.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(s){y(!1),h().fire({title:"Failed",text:"Could not update Security Questions/Answers. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update security questions/answers!",s)}},children:"UPDATE"}),(0,w.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>N("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,w.jsx)(f.Z,{})]})]})]})}}}]);
//# sourceMappingURL=6074.1475df95.chunk.js.map