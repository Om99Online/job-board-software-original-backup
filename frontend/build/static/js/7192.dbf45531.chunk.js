"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[7192],{67192:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(72791),n=a(65167),r=a(93953),i=a(20890),o=a(93517),l=a(50533),c=a(98333),d=a(12503),m=a(10287),p=a(21830),u=a.n(p),h=a(31243),x=a(57689),f=a(88329),j=a(1588),g=a(24529),b=a(80184);const w=()=>{(0,t.useRef)(null);const[e,s]=(0,t.useState)({first_name:"",last_name:"",contact:"",location:"",profile_image:"",email_address:"",new_password:"",confirm_password:"",status:""}),[a,p]=(0,t.useState)({first_name:"",last_name:"",contact:"",location:"",email_address:"",new_password:"",confirm_password:""}),[w,v]=(0,t.useState)(!1),N=f.Z.get("token"),_=f.Z.get("adminID"),C=f.Z.get("mapKey"),y=(0,x.s0)(),{slug:B}=(0,x.UO)(),[k,S]=(0,t.useState)(null),F=e=>{const{name:a,value:t}=e.target;s((e=>({...e,[a]:t}))),p((e=>({...e,[a]:""})))},Z=async t=>{const n=t.target,r=n.files[0];if(r){if(r.size>614400)return u().fire({title:"Image size should be under 600KB",icon:"warning",confirmButtonText:"Close"}),void(n.value="");const t=new Image;t.src=window.URL.createObjectURL(r),t.onload=()=>{const i=t.naturalWidth,o=t.naturalHeight;i<250||o<250?(u().fire({title:"Minimum image resolution should be 250x250 pixels",icon:"warning",confirmButtonText:"Close"}),n.value=""):(p({...a,profile_image:""}),function(e){return new Promise(((s,a)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{s(t.result)},t.onerror=e=>{a(e)}}))}(r).then((a=>{s({...e,profile_image:a}),S(a)})))}}},E=a=>{a.preventDefault(),1===e.status&&s({...e,status:0}),0===e.status&&s({...e,status:1})},[I,P]=(0,t.useState)(null),[D,L]=(0,t.useState)([]);(0,t.useEffect)((()=>{const e=document.createElement("script");return e.src=`https://maps.googleapis.com/maps/api/js?key=${C}&libraries=places`,e.onload=()=>{P(new window.google.maps.places.AutocompleteService),console.log(I)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const $=a=>{const{value:t}=a.target;T(!1),""==t&&T(!0),""!=t&&p({location:""}),s((e=>({...e,location:t}))),I&&I.getPlacePredictions({input:t,types:["(cities)"]},((e,s)=>{L("OK"===s&&e?e.map((e=>e.description)):[])})),""===e.location&&L([])},[R,T]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{N?((async()=>{try{v(!0);const e=await h.Z.post(d.Z+`/admin/users/editusers/${B}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:N,adminid:_}});v(!1),s(e.data.response),S(e.data.response.profile_image)}catch(e){v(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):y("/admin")}),[N,y]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Z,{}),(0,b.jsxs)("div",{className:"APBasic",children:[(0,b.jsx)(r.Z,{}),w?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb",role:"presentation",children:(0,b.jsxs)(o.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(c.Z,{fontSize:"small"}),children:[(0,b.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>y("/admin/admins/dashboard"),children:"Dashboard"}),(0,b.jsx)(l.Z,{underline:"hover",color:"inherit",onClick:()=>y("/admin/candidates"),children:"Jobseeker"}),(0,b.jsx)(i.Z,{color:"text.primary",children:"Edit Jobseeker Details"})]})}),(0,b.jsx)("h2",{className:"adminPageHeading",children:"Edit Jobseeker"}),(0,b.jsx)("form",{className:"adminForm",children:(0,b.jsxs)("div",{className:"mb-4 mt-5",children:[(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["First Name",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.first_name&&"input-error"}`,name:"first_name",value:e.first_name,placeholder:"First Name",onChange:F}),a.first_name&&(0,b.jsx)("div",{className:"text-danger",children:a.first_name})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Last Name",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.last_name&&"input-error"}`,name:"last_name",value:e.last_name,placeholder:"Last Name",onChange:F}),a.last_name&&(0,b.jsx)("div",{className:"text-danger",children:a.last_name})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Location",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.location&&"input-error"}`,name:"location",value:e.location,placeholder:"Location",onChange:$}),D.length>0&&(0,b.jsx)("div",{className:"suggestionsAdminSide",style:{display:R?"none":""},children:(0,b.jsx)("ul",{className:"locationDropdown",children:D.map(((e,s)=>(0,b.jsx)("div",{className:"suggestion-item",children:(0,b.jsxs)("li",{onClick:()=>(e=>{$({target:{name:"location",value:e}}),T(!0),L([])})(e),children:[(0,b.jsxs)("div",{className:"eachLocation",children:[(0,b.jsx)("div",{className:"locationIcon",children:(0,b.jsx)(j.Z,{fontSize:"small"})})," ",(0,b.jsx)("div",{className:"locationSuggestion",children:e})]})," "]})},s)))})}),a.location&&(0,b.jsx)("div",{className:"text-danger",children:a.location})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Contact Number",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.contact&&"input-error"}`,name:"contact",value:e.contact,placeholder:"Contact Number",onChange:F}),a.contact&&(0,b.jsx)("div",{className:"text-danger",children:a.contact})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsx)("label",{for:"formFile",class:"form-label",children:"Profile Image"}),(0,b.jsx)("input",{class:"form-control",type:"file",id:"formFile",label:"profile_image",name:"logo",accept:".jpeg, .png, .jpg",onChange:e=>Z(e)}),(0,b.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 600 KB). Min file size 250 X 250 pixels."}),k&&(0,b.jsx)("div",{children:(0,b.jsx)("img",{className:"selectedInputImage",src:k,alt:"Selected"})})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("h4",{className:"mb-4",children:"Login Details"}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Email Address",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${a.email_address&&"input-error"}`,name:"email_address",value:e.email_address,placeholder:"Email Address",onChange:F,disabled:!0}),a.email_address&&(0,b.jsx)("div",{className:"text-danger",children:a.email_address})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Password",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${a.password&&"input-error"}`,name:"new_password",value:e.new_password,placeholder:"Password",onChange:F}),a.new_password&&(0,b.jsx)("div",{className:"text-danger",children:a.new_password}),(0,b.jsx)("div",{id:"emailHelp",class:"form-text",children:"* Note: If You want to change User's password, only then fill password below otherwise leave it blank."})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Confirm Password",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"password",id:"form3Example1",className:`form-control ${a.confirm_password&&"input-error"}`,name:"confirm_password",value:e.confirm_password,placeholder:"Confirm Password",onChange:F}),a.confirm_password&&(0,b.jsx)("div",{className:"text-danger",children:a.confirm_password})]}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:"otherSection",children:[(0,b.jsx)("h4",{className:"",children:"Other Details"}),(0,b.jsxs)("div",{class:"otherSectionBody",children:[(0,b.jsx)("p",{children:"Jobseeker Status"}),(0,b.jsx)("div",{className:"activeButtonBox",children:1===e.status?(0,b.jsx)("button",{className:"activeTrue",onClick:E,children:"Active"}):(0,b.jsx)("button",{className:"activeFalse",onClick:E,children:"Inactive"})})]}),(0,b.jsx)("div",{id:"emailHelp",className:"form-text",children:"Click above to change Employer's status. Changes will be reflect only after submitting form."}),(0,b.jsx)("div",{id:"emailHelp",className:"text-danger",children:"Changes will be reflect only after submitting form."})]}),(0,b.jsxs)("div",{className:"adminBottomButtons",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const{first_name:s,last_name:a,contact:t,location:n,email_address:r,new_password:i,confirm_password:o}=e;if(!s||!a||!t||!n||!r)return void p({first_name:s?"":"First Name is required",last_name:a?"":"Last Name is required",contact:t?"":"Contact Number is required",location:n?"":"Location is required",email_address:r?"":"Email is required"});if(i){if(!i||!o)return void p({new_password:i?"":"New Password is required",confirm_password:o?"":"Confirm password is required"});if(i!==o)return void p({confirm_password:"New Password and Confirm Password do not match"});if(i.length<8||o.length<8)return void p({new_password:"Please enter atleast 8 characters",confirm_password:"Please enter atleast 8 characters"})}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void p({email_address:"Invalid Email Address"});if(!(e=>{const s=/^\+?\d{0,3}-?\d{6,10}$/;return!!/^\d{10}$/.test(e)||s.test(e)})(t))return void p({contact:"Please enter contact number under 10 digits"});if((await u().fire({title:"Update Jobseeker?",text:"Do you want to Update this Jobseeker?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){v(!0);const s=await h.Z.post(d.Z+`/admin/candidates/editusers/${B}`,e,{headers:{"Content-Type":"application/json",key:m.Z,token:N,adminid:_}});v(!1),200===s.data.status?(u().fire({title:"Jobseeker Updated successfully!",icon:"success",confirmButtonText:"Close"}),y("/admin/candidates")):u().fire({title:s.data.message,icon:"error",confirmButtonText:"Close"})}}catch(s){v(!1),u().fire({title:"Failed",text:"Could not update jobseeker. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not change username!",s)}},children:"SAVE"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>y("/admin/admins/dashboard"),children:"CANCEL"})]})]})})]}),(0,b.jsx)(g.Z,{})]})]})]})}},1588:(e,s,a)=>{var t=a(64836);s.Z=void 0;var n=t(a(45649)),r=a(80184),i=(0,n.default)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");s.Z=i}}]);
//# sourceMappingURL=7192.dbf45531.chunk.js.map