"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[9264],{79025:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var s=i(72791),a=i(65167),l=i(93953),n=i(20890),r=i(93517),o=i(98333),d=i(31243),c=i(12503),m=i(10287),u=i(21830),x=i.n(u),h=i(57689),g=i(11087),f=i(88329),j=i(24529),p=i(80184);const b=()=>{const[e,t]=(0,s.useState)({title:"",image:""}),[i,u]=(0,s.useState)({title:"",image:""}),[b,w]=(0,s.useState)(!1),S=f.Z.get("token"),v=f.Z.get("adminID"),C=(0,h.TH)().pathname;console.log(C);const N=(0,h.s0)(),[y,B]=(0,s.useState)(null),T=async s=>{const a=s.target,l=a.files[0];if(l){if(l.size>819200)return x().fire({title:"Image size should be under 800 KB",icon:"warning",confirmButtonText:"Close"}),a.value="",B(""),void t({...e,image:""});const s=new Image;s.src=window.URL.createObjectURL(l),s.onload=()=>{const n=s.naturalWidth,r=s.naturalHeight;1920!==n||634!==r?(x().fire({title:"Image resolution should be 1920x634 pixels",icon:"warning",confirmButtonText:"Close"}),a.value="",B(""),t({...e,image:""})):(u({...i,image:""}),function(e){return new Promise(((t,i)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{t(s.result)},s.onerror=e=>{i(e)}}))}(l).then((i=>{t({...e,image:i}),B(i)})))}}};return(0,s.useEffect)((()=>{S?window.scrollTo(0,0):N("/admin")}),[S,N]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{}),(0,p.jsxs)("div",{className:"APBasic",children:[(0,p.jsx)(l.Z,{}),b?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"loader-container"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"site-min-height",children:[(0,p.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,p.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,p.jsx)(o.Z,{fontSize:"small"}),children:[(0,p.jsx)(g.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,p.jsx)(g.rU,{to:"/admin/sliders",underline:"hover",color:"inherit",children:"Sliders"}),(0,p.jsx)(n.Z,{color:"text.primary",children:"Add Slider"})]})}),(0,p.jsx)("h2",{className:"adminPageHeading",children:"Add Slider"}),(0,p.jsx)("form",{className:"adminForm",children:(0,p.jsxs)("div",{className:"mb-4 mt-5",children:[(0,p.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,p.jsxs)("label",{for:"formFile",class:"form-label",children:["Slider Title",(0,p.jsx)("span",{className:"RedStar",children:"*"})]}),(0,p.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${i.title&&"input-error"}`,name:"title",placeholder:"Slider Title",value:e.title,onChange:e=>{const{name:i,value:s}=e.target;t((e=>({...e,[i]:s}))),u((e=>({...e,[i]:""})))}}),i.title&&(0,p.jsx)("div",{className:"text-danger",children:i.title})]}),(0,p.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,p.jsxs)("label",{for:"formFile",class:"form-label",children:["Image",(0,p.jsx)("span",{className:"RedStar",children:"*"})]}),(0,p.jsx)("input",{className:`form-control ${i.image&&"input-error"}`,type:"file",id:"formFile",label:"Image",name:"logo",accept:".jpeg, .png, .jpg, .gif",onChange:e=>T(e)}),i.image&&(0,p.jsx)("div",{className:"text-danger",children:i.image}),(0,p.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 600 KB). Best file size 1920 X 634 pixels."}),y&&(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{className:"selectedInputImage",src:y,alt:"Selected"}),(0,p.jsx)("button",{className:"APButton3",onClick:()=>{B(null),t({...e,image:""});const i=document.getElementById("formFile");i&&(i.value="")},children:"Delete"})]})]}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const i={};if(""===e.title&&(i.title="Slider Title is required",window.scrollTo(0,0)),""===e.image&&(i.image="Slider Image is required",window.scrollTo(0,0)),u(i),0===Object.keys(i).length){if((await x().fire({title:"Add Slider?",text:"Do you want to Add this Slider?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){w(!0);const i=await d.Z.post(c.Z+"/admin/slider/admin_add",e,{headers:{"Content-Type":"application/json",key:m.Z,token:S,adminid:v}});w(!1),200===i.data.status?(x().fire({title:"Slider added successfully!",icon:"success",confirmButtonText:"Close"}),t({...e,title:"",image:""}),window.scrollTo(0,0),N("/admin/sliders")):x().fire({title:i.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(i){w(!1),x().fire({title:"Failed",text:"Could not Add Slider. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not add slider!",i)}},children:"SAVE"}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>N("/admin/sliders"),children:"CANCEL"})]})})]}),(0,p.jsx)(j.Z,{})]})]})]})}}}]);
//# sourceMappingURL=9264.20a28ad0.chunk.js.map