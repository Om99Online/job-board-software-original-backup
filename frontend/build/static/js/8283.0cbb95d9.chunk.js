"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[8283],{88283:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var t=s(72791),l=s(65167),r=s(93953),n=s(20890),o=s(93517),i=s(98333),c=s(5282),m=s.n(c),d=s(31243),x=s(12503),p=s(10287),u=s(57689),h=s(11087),b=(s(53540),s(89868)),j=s(21830),f=s.n(j),y=s(88329),g=s(24529),N=s(80184);const C=()=>{const[e,a]=(0,t.useState)({user_id:"",job_title:"",category:"",jobDescription:"",company_name:"",work_type:"",contact_name:"",skill:"",contact_number:"",company_website:"",companyProfile:"",designation:"",location:"",last_date:"",experience:"",annual_salary:"",logo:"",subCategory:""}),[s,c]=(0,t.useState)({job_title:"",category:"",subCategory:[],jobDescription:"",company_name:"",companyProfile:"",work_type:"",contact_name:"",contact_number:"",company_website:"",skill:"",designation:"",location:"",experience:"",annual_salary:"",logo:"",last_date:"",user_id:""}),j=(0,t.useRef)(null),C=y.Z.get("token"),_=y.Z.get("adminID"),v=(y.Z.get("mapKey"),(0,u.s0)()),[B,D]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),[E,w]=(0,t.useState)([]),[F,P]=(0,t.useState)([]),[I,Z]=(0,t.useState)([]),[$,J]=(0,t.useState)([]),[R,T]=(0,t.useState)([]),[q,A]=(0,t.useState)([]),[L,W]=(0,t.useState)([]),[O,U]=(0,t.useState)(!1),H=e=>{const{name:s,value:t}=e.target;"skill"===s?c((e=>({...e,skill:[...e.skill,t]}))):"subCategory"===s?c((e=>({...e,subCategory:[...e.subCategory,t]}))):(c((e=>({...e,[s]:t}))),a((e=>({...e,[s]:""}))))},{slug:Y}=(0,u.UO)(),z=async()=>{try{U(!0);const e=await d.Z.post(x.Z+`/admin/job/admin_add/${Y}`,null,{headers:{"Content-Type":"application/json",key:p.Z,token:C,adminid:_}});U(!1),console.log(e),D(e.data),k(e.data.response.categories),P(e.data.response.designationlList),Z(e.data.response.skillList),J(e.data.response.experience),T(e.data.response.sallery),A(e.data.response.worktype),W(e.data.response.employers),console.log(B)}catch(e){console.log("No data received")}},K=async e=>{try{const a=await d.Z.post(x.Z+`/categories/getSubCategory/${e}`,null,{headers:{"Content-Type":"application/json",key:p.Z,token:C,adminid:_}});w(a.data.response)}catch(a){console.log("Couldn't get Sub category data!")}};(0,t.useEffect)((()=>{null!==C&&""!==C||v("/admin"),z(),K(),window.scrollTo(0,0)}),[]);return(0,t.useEffect)((()=>{C?(z(),window.scrollTo(0,0)):v("/admin")}),[C,v]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.Z,{}),(0,N.jsxs)("div",{className:"APBasic",children:[(0,N.jsx)(r.Z,{}),O?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:"loader-container"})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"site-min-height",children:[(0,N.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,N.jsxs)(o.Z,{"aria-label":"breadcrumb",separator:(0,N.jsx)(i.Z,{fontSize:"small"}),children:[(0,N.jsx)(h.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,N.jsx)(h.rU,{to:"/admin/jobs",underline:"hover",color:"inherit",children:"Jobs"}),(0,N.jsx)(n.Z,{color:"text.primary",children:"Copy Job"})]})}),(0,N.jsx)("h2",{className:"adminPageHeading",children:"Copy Job"}),(0,N.jsxs)("form",{className:"adminForm",children:[(0,N.jsxs)("div",{className:"mb-5 mt-5",children:[(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Select Employer",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.user_id&&"input-error"}`,"aria-label":"Default select example",name:"user_id",value:s.user_id,onChange:H,children:[(0,N.jsx)("option",{selected:!0,value:"",children:"Select Employer"}),L.map(((e,a)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("option",{value:e.id,children:[e.first_name,e.last_name]},a)})))]}),e.user_id&&(0,N.jsx)("div",{className:"text-danger",children:e.user_id})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Job title",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${e.job_title&&"input-error"}`,name:"job_title",value:s.job_title,placeholder:"Job Title",onChange:H}),e.job_title&&(0,N.jsx)("div",{className:"text-danger",children:e.job_title})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Category",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.category&&"input-error"}`,"aria-label":"Default select example",name:"category",value:s.category,onChange:e=>{H(e),K(e.target.value)},children:[(0,N.jsx)("option",{value:"",children:"Select Job Category"}),S.map(((e,a)=>(0,N.jsx)("option",{value:e.id,children:e.name},a)))]}),e.category&&(0,N.jsx)("div",{className:"text-danger",children:e.category})]})]}),s.category&&E?(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"form3Example1",children:"Sub Category"}),(0,N.jsxs)("select",{className:`form-select ${e.subCategory&&"input-error"}`,"aria-label":"Default select example",name:"subCategory",value:s.subCategory,onChange:H,multiple:!0,children:[(0,N.jsx)("option",{selected:!0,children:"Select Sub Category"}),null===E||void 0===E?void 0:E.map(((e,a)=>(0,N.jsx)("option",{value:e.id,children:e.name},a)))]}),e.subCategory&&(0,N.jsx)("div",{className:"text-danger",children:e.subCategory})]}):"",(0,N.jsxs)("div",{className:"mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Job Description"}),(0,N.jsx)(m(),{ref:j,name:"jobDescription",value:s.jobDescription,onChange:e=>H({target:{value:e,name:"jobDescription"}})}),e.jobDescription&&(0,N.jsx)("div",{className:"text-danger",children:e.jobDescription})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Name",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.company_name&&"input-error"}`,name:"company_name",value:s.company_name,placeholder:"Company Name",onChange:H}),e.company_name&&(0,N.jsx)("div",{className:"text-danger",children:e.company_name})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Work Type",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.work_type&&"input-error"}`,"aria-label":"Default select example",name:"work_type",value:s.work_type,onChange:H,children:[(0,N.jsx)("option",{selected:!0,children:"Select Work Type"}),Object.entries(q).map((e=>{let[a,s]=e;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:a,onChange:()=>{sessionStorage.setItem("jobtype","value")},children:s},a)})}))]}),e.work_type&&(0,N.jsx)("div",{className:"text-danger",children:e.work_type})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Contact Name",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.contact_name&&"input-error"}`,name:"contact_name",value:s.contact_name,placeholder:"Contact Name",onChange:H}),e.contact_name&&(0,N.jsx)("div",{className:"text-danger",children:e.contact_name})]}),(0,N.jsxs)("div",{className:"mb-5 DashBoardInputBx DashBoardCreatBx APJoditEditor",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Company Profile",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)(m(),{ref:j,name:"companyProfile",value:s.companyProfile,onChange:e=>H({target:{value:e,name:"companyProfile"}})}),e.companyProfile&&(0,N.jsx)("div",{className:"text-danger",children:e.companyProfile})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Contact Number",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.contact_number&&"input-error"}`,name:"contact_number",value:s.contact_number,placeholder:"Contact Number",onChange:H}),e.contact_number&&(0,N.jsx)("div",{className:"text-danger",children:e.contact_number})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Company Website"}),(0,N.jsx)("input",{type:"text",id:"form3Example3",className:"form-control",name:"company_website",value:s.company_website,placeholder:"Company Website",onChange:H}),(0,N.jsx)("div",{id:"emailHelp",className:"form-text",children:"Eg: https://www.google.com or http://google.com"})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Experience (In Years)",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.experience&&"input-error"}`,"aria-label":"Default select example",name:"experience",value:s.experience,onChange:H,children:[(0,N.jsx)("option",{selected:!0,children:"Choose Experience"}),Object.entries($).map((e=>{let[a,s]=e;return(0,N.jsx)("option",{value:a,children:s},a)}))]}),e.experience&&(0,N.jsx)("div",{className:"text-danger",children:e.experience})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Annual Salary",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.annual_salary&&"input-error"}`,"aria-label":"Default select example",name:"annual_salary",value:s.annual_salary,onChange:H,children:[(0,N.jsx)("option",{selected:!0,children:"Select Salary"}),Object.entries(R).map((e=>{let[a,s]=e;return(0,N.jsx)("option",{value:a,children:s},a)}))]}),e.annual_salary&&(0,N.jsx)("div",{className:"text-danger",children:e.annual_salary})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx skillPackage  APJoditEditor",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Skills",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)(b.ZP,{isMulti:!0,isSearchable:!0,name:"skill",options:I.map((e=>({value:e.id,label:e.name}))),className:"basic-multi-select",classNamePrefix:"select"}),e.skill&&(0,N.jsx)("div",{className:"text-danger",children:e.skill})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example1",children:["Designation",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsxs)("select",{className:`form-select ${e.designation&&"input-error"}`,"aria-label":"Default select example",name:"designation",value:s.designation,onChange:H,children:[(0,N.jsx)("option",{selected:!0,children:"Choose Designation"}),F.map(((e,a)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.name},a)})))]}),e.designation&&(0,N.jsx)("div",{className:"text-danger",children:e.designation})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Location",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"text",id:"form3Example3",className:`form-control ${e.location&&"input-error"}`,name:"location",value:s.location,placeholder:"Location",onChange:H}),e.location&&(0,N.jsx)("div",{className:"text-danger",children:e.location})]}),(0,N.jsxs)("div",{className:"form-outline mb-5 DashBoardInputBx DashBoardCreatBx",children:[(0,N.jsxs)("label",{className:"form-label",htmlFor:"form3Example3",children:["Last Date",(0,N.jsx)("span",{className:"RedStar",children:"*"})]}),(0,N.jsx)("input",{type:"date",id:"form3Example3",className:`form-control ${e.last_date&&"input-error"}`,name:"last_date",value:s.last_date,placeholder:"Last Date",onChange:H}),e.last_date&&(0,N.jsx)("div",{className:"text-danger",children:e.last_date})]}),(0,N.jsxs)("div",{className:"APAddJobBottomButtons",children:[(0,N.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{var e=document.getElementsByName("skill"),t=[];e.forEach((e=>{I.forEach((a=>{a.id==e.value&&t.push(a.id)}))}));try{const{user_id:e,job_title:t,category:l,company_name:r,work_type:n,contact_name:o,skillArray:i,contact_number:c,companyProfile:m,designation:u,location:h,last_date:b,experience:j,annual_salary:y}=s;if(!e||!t||!l||!r||!n||!o||!c||!m||!u||!h||!b||!j||!y)return void a({user_id:e?"":"Select an Employer",job_title:t?"":"Job Title is required",category:l?"":"Category is required",company_name:r?"":"Company Name is required",work_type:n?"":"Work Type is required",contact_name:o?"":"Contact Name is required",contact_number:c?"":"Contact Number is required",companyProfile:m?"":"Company Profile is required",designation:u?"":"Designation is required",location:h?"":"Location is required",last_date:b?"":"Last Date is required",experience:j?"":"Experience is required",annual_salary:y?"":"Annual Salary is required"});if(c&&!/^\+?\d{1,3}-?\d{9,15}$/.test(c))return void a({contact_number:"Contact must be 10 digits"});if((await f().fire({title:"Add Job?",text:"Do you want to Add this Job?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e={...s,skill:i};U(!0);const a=await d.Z.post(x.Z+"/admin/job/admin_add",e,{headers:{"Content-Type":"application/json",key:p.Z,token:C,adminid:_}});200===a.data.status?(U(!1),f().fire({title:"Job added successfully!",icon:"success",confirmButtonText:"Close"}),v("/admin/jobs")):(U(!1),f().fire({title:"Failed",text:a.data.message,icon:"error",confirmButtonText:"Close"}))}}catch(l){U(!1),f().fire({title:"Could not add this job. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not submit job data")}},children:"SAVE"}),(0,N.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>v("/admin/jobs/index"),children:"CANCEL"})]})]})]}),(0,N.jsx)(g.Z,{})]})]})]})}}}]);
//# sourceMappingURL=8283.0cbb95d9.chunk.js.map