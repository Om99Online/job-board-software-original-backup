"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[6998],{26998:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var a=t(72791),s=t(65167),o=t(93953),r=t(20890),i=t(93517),l=t(98333),c=t(31243),d=t(12503),m=t(10287),u=t(21830),h=t.n(u),x=t(57689),p=t(11087),j=t(88329),f=t(24529),b=t(80184);const g=()=>{const[e,n]=(0,a.useState)({name:"",url:""}),[t,u]=(0,a.useState)({name:"",url:""}),[g,w]=(0,a.useState)(!1),N=j.Z.get("token"),y=j.Z.get("adminID"),C=(0,x.s0)(),{slug:v}=(0,x.UO)(),Z=e=>{const{name:t,value:a}=e.target;n((e=>({...e,[t]:a}))),u((e=>({...e,[t]:""})))};return(0,a.useEffect)((()=>{N?((async()=>{try{w(!0);const e=await c.Z.post(d.Z+`/admin/announcement/admin_edit/${v}`,null,{headers:{"Content-Type":"application/json",key:m.Z,token:N,adminid:y}});w(!1),n(e.data.response)}catch(e){w(!1),console.log("Error at chnage username at Admin panel")}})(),window.scrollTo(0,0)):C("/admin")}),[N,C]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Z,{}),(0,b.jsxs)("div",{className:"APBasic",children:[(0,b.jsx)(o.Z,{}),g?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"loader-container"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"site-min-height",children:[(0,b.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,b.jsxs)(i.Z,{"aria-label":"breadcrumb",separator:(0,b.jsx)(l.Z,{fontSize:"small"}),children:[(0,b.jsx)(p.rU,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,b.jsx)(p.rU,{to:"/admin/announcements",underline:"hover",color:"inherit",children:"Announcement List"}),(0,b.jsx)(r.Z,{color:"text.primary",children:"Edit Announcement"})]})}),(0,b.jsx)("h2",{className:"adminPageHeading",children:"Edit Announcement"}),(0,b.jsx)("form",{className:"adminForm",children:(0,b.jsxs)("div",{className:"mb-4 mt-5",children:[(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["Announcement Name",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${t.name&&"input-error"}`,name:"name",placeholder:"Announcement Name",value:e.name,onChange:Z}),t.name&&(0,b.jsx)("div",{className:"text-danger",children:t.name})]}),(0,b.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,b.jsxs)("label",{for:"formFile",class:"form-label",children:["URL",(0,b.jsx)("span",{className:"RedStar",children:"*"})]}),(0,b.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"url",placeholder:"URL",value:e.url,onChange:Z}),t.url&&(0,b.jsx)("div",{className:"text-danger",children:t.url}),(0,b.jsx)("div",{id:"emailHelp",class:"form-text",children:"(Enter URL Like https://www.google.com)"})]}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{const n={};if(""===e.name&&(n.name="Announcement Name is required"),""===e.url)n.url="URL is required",window.scrollTo(0,0);else{/^(https?:\/\/)?(www\.)?[\w.-]+\.[a-z]{2,5}(\/\S*)?$/i.test(e.url)||(n.url="Invalid URL format",window.scrollTo(0,0))}if(u(n),0===Object.keys(n).length){if((await h().fire({title:"Edit Announcement?",text:"Do you want to Edit this Announcement?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){w(!0);const n=await c.Z.post(d.Z+`/admin/announcement/admin_edit/${v}`,e,{headers:{"Content-Type":"application/json",key:m.Z,token:N,adminid:y}});w(!1),200===n.data.status?(h().fire({title:"Announcement updated successfully!",icon:"success",confirmButtonText:"Close"}),C("/admin/announcements")):h().fire({title:n.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(n){w(!1),h().fire({title:"Failed",text:"Could not update announcement. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update announcement!",n)}},children:"SAVE"}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>C("/admin/announcements"),children:"CANCEL"})]})})]}),(0,b.jsx)(f.Z,{})]})]})]})}}}]);
//# sourceMappingURL=6998.902535bc.chunk.js.map