"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[9176],{59176:(e,a,n)=>{n.r(a),n.d(a,{default:()=>g});var s=n(72791),c=n(65167),t=n(93953),i=n(20890),l=n(93517),d=n(50533),o=n(98333),r=n(31243),m=n(12503),h=n(10287),x=n(21830),u=n.n(x),b=n(57689),p=n(88329),j=n(24529),k=n(80184);const g=()=>{const[e,a]=(0,s.useState)([]),[n,x]=(0,s.useState)(!1),g=p.Z.get("token"),N=p.Z.get("adminID"),f=(0,b.s0)(),{slug:y}=(0,b.UO)();(0,s.useEffect)((()=>{g?((async()=>{try{x(!0);const e=await r.Z.post(m.Z+`/admin/managerole/${y}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:g,adminid:N}});x(!1),console.log(e.data.response.accesscontrol),a(e.data.response.accesscontrol)}catch(e){x(!1),console.log("Cannot get profile photo data")}})(),window.scrollTo(0,0)):f("/admin")}),[g,f]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{}),(0,k.jsxs)("div",{className:"APBasic",children:[(0,k.jsx)(t.Z,{}),n?(0,k.jsx)("div",{className:"loader-container"}):(0,k.jsxs)("div",{className:"site-min-height",children:[(0,k.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,k.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,k.jsx)(o.Z,{fontSize:"small"}),children:[(0,k.jsx)(d.Z,{underline:"hover",color:"inherit",onClick:()=>f("/admin/admins/dashboard"),children:"Dashboard"}),(0,k.jsx)(d.Z,{underline:"hover",color:"inherit",onClick:()=>f("/admin/admins/manage"),children:"Subadmin List"}),(0,k.jsx)(i.Z,{color:"text.primary",children:"Manage Roles"})]})}),(0,k.jsx)("h2",{className:"mt-4",children:"Manage Roles"}),(0,k.jsx)("form",{className:"adminForm",onSubmit:async a=>{a.preventDefault(),console.log(e);const n={access:e};try{x(!0);const e=await r.Z.post(m.Z+`/admin/managerole/${y}`,n,{headers:{"Content-Type":"application/json",key:h.Z,token:g,adminid:N}});x(!1),200===e.status?(u().fire({title:"Roles updated successfully",icon:"success",confirmButtonText:"Close"}),f("/admin/admins/manage")):u().fire({title:e.data.message,icon:"error",confirmButtonText:"Close"})}catch(s){x(!1),console.log(s),u().fire({title:"An error occurred",icon:"error",confirmButtonText:"Close"})}},children:(0,k.jsxs)("div",{className:"mb-4 mt-5",children:[(0,k.jsx)("div",{className:"h4",children:"Select Roles:"}),(0,k.jsx)("div",{className:"row manageRoleBody",children:e.map(((e,n)=>(0,k.jsx)("div",{className:"col-md-6 mb-4",children:(0,k.jsx)("div",{className:"card",children:(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsxs)("div",{className:"MainTitleChack",children:[(0,k.jsx)("input",{type:"checkbox",className:"form-check-input",name:`checkbox[${n}][Module]`,id:`checkbox-${n}`,checked:1===e.Module,onChange:n=>((e,n)=>{console.log(e.target.checked),e.target.checked?a((e=>e.map((e=>e.name===n.name?{...e,Add:1,Edit:1,Delete:1,Module:1}:e)))):a((e=>e.map((e=>e.name===n.name?{...e,Add:0,Edit:0,Delete:0,Module:0}:e))))})(n,e)}),(0,k.jsx)("label",{htmlFor:`checkbox-${n}`,children:e.name})]}),(0,k.jsxs)("div",{className:"SubCheckBx",children:[9!==n&&10!==n&&(0,k.jsxs)("div",{className:"SubtitleBx",children:[(0,k.jsx)("input",{type:"checkbox",className:"form-check-input",name:`checkbox[${n}][Add]`,id:`inner-add-${n}`,checked:1===e.Add,onChange:()=>(e=>{a((a=>a.map((a=>a.name===e.name?{...a,Add:1===a.Add?0:1}:a))))})(e)}),(0,k.jsx)("label",{htmlFor:`inner-add-${n}`,children:"Add"})]}),(0,k.jsxs)("div",{className:"SubtitleBx",children:[(0,k.jsx)("input",{type:"checkbox",className:"form-check-input",name:`checkbox[${n}][Edit]`,id:`inner-edit-${n}`,checked:1===e.Edit,onChange:()=>(e=>{a((a=>a.map((a=>a.name===e.name?{...a,Edit:1===a.Edit?0:1}:a))))})(e)}),(0,k.jsx)("label",{htmlFor:`inner-edit-${n}`,children:"Edit"})]}),9!==n&&10!==n&&(0,k.jsxs)("div",{className:"SubtitleBx",children:[(0,k.jsx)("input",{type:"checkbox",className:"form-check-input",name:`checkbox[${n}][Delete]`,id:`inner-delete-${n}`,checked:1===e.Delete,onChange:()=>(e=>{a((a=>a.map((a=>a.name===e.name?{...a,Delete:1===a.Delete?0:1}:a))))})(e)}),(0,k.jsx)("label",{htmlFor:`inner-delete-${n}`,children:"Delete"})]})]})]})})},n)))}),(0,k.jsx)("button",{type:"submit",className:"btn btn-primary button1",children:"SAVE"}),(0,k.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>f("/admin/admins/manage"),children:"CANCEL"})]})})]}),!n&&(0,k.jsx)(j.Z,{})]})]})}}}]);
//# sourceMappingURL=9176.804c2f8a.chunk.js.map