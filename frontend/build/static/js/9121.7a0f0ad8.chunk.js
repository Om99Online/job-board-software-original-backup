"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[9121],{9121:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var s=l(72791),t=l(65167),n=l(93953),o=l(20890),r=l(93517),i=l(50533),c=l(98333),d=l(31243),p=l(12503),m=l(10287),u=l(21830),h=l.n(u),b=l(57689),x=l(88329),j=l(24529),_=l(80184);const v=()=>{const[e,a]=(0,s.useState)({plan_name:"",job_post:"",resume_download:"",candidate_search:"0",job_apply:"0",profile_view:"0",amount:"",planuser:"",type_value:"",type:""}),[l,u]=(0,s.useState)({plan_name:"",job_post:"",resume_download:"",candidate_search:"",job_apply:"",profile_view:"",amount:"",planuser:"",type_value:"",type:"",job_apply_checkbx:"",job_apply_input:"",emp_checkbx:""}),[v,y]=(0,s.useState)(!1),f=x.Z.get("token"),g=x.Z.get("adminID"),[k,N]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),P=(0,b.s0)(),B=l=>{const{name:s,value:t}=l.target;if("planuser"===s){const s=l.target.value;F(s),"employer"===t&&(a({...e,job_apply:"0"}),U(!1),q(!1),K(!1)),"jobseeker"===t&&a({...e,job_post:"0",resume_download:"0",candidate_search:"0",profile_view:"0"}),le(!1),K(!1),q(!1)}a((e=>({...e,[s]:t}))),u((e=>({...e,[s]:""})))},[S,D]=(0,s.useState)(""),[I,F]=(0,s.useState)(""),[T,Z]=(0,s.useState)(!1),[A,U]=(0,s.useState)(!1),[R,V]=(0,s.useState)(""),[E,J]=(0,s.useState)(!1),[L,q]=(0,s.useState)(!1),[$,O]=(0,s.useState)(""),[Y,M]=(0,s.useState)(!1),[z,H]=(0,s.useState)(!1),[G,K]=(0,s.useState)(!1),[Q,W]=(0,s.useState)(""),[X,ee]=(0,s.useState)(!1),[ae,le]=(0,s.useState)(!1),[se,te]=(0,s.useState)(""),[ne,oe]=(0,s.useState)(!1),[re,ie]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{f?((async()=>{try{y(!0);const e=await d.Z.post(p.Z+"/admin/plan/addPlan",null,{headers:{"Content-Type":"application/json",key:m.Z,token:f,adminid:g}});y(!1),N(e.data.response.planType),C(e.data.response.userType)}catch(e){y(!1),console.log("Cannot get plans data at APmanageplans")}})(),window.scrollTo(0,0)):P("/admin")}),[f,P]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(t.Z,{}),(0,_.jsxs)("div",{className:"APBasic",children:[(0,_.jsx)(n.Z,{}),v?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"loader-container"})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"site-min-height",children:[(0,_.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,_.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,_.jsx)(c.Z,{fontSize:"small"}),children:[(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>P("/admin/admins/dashboard"),children:"Dashboard"}),(0,_.jsx)(i.Z,{underline:"hover",color:"inherit",onClick:()=>P("/admin/plans/index"),children:"Plan List"}),(0,_.jsx)(o.Z,{color:"text.primary",children:"Add Plan"})]})}),(0,_.jsx)("h2",{className:"adminPageHeading",children:"Add Plan"}),(0,_.jsxs)("form",{className:"adminForm",children:[(0,_.jsxs)("div",{className:"mb-4 mt-5",children:[(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Plan Name",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${l.plan_name&&"input-error"}`,name:"plan_name",placeholder:"Plan Name",value:e.plan_name,onChange:B}),l.plan_name&&(0,_.jsx)("div",{className:"text-danger",children:l.plan_name})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Type",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${l.type&&"input-error"}`,"aria-label":"Default select example",name:"type",value:e.type,onChange:B,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select Plan Type"}),Object.entries(k).map((e=>{let[a,l]=e;return(0,_.jsx)("option",{value:a,children:l})}))]}),l.type&&(0,_.jsx)("div",{className:"text-danger",children:l.type})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["User Plan",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("select",{className:`form-select ${l.planuser&&"input-error"}`,"aria-label":"Default select example",name:"planuser",value:e.planuser,onChange:B,children:[(0,_.jsx)("option",{selected:!0,value:"",children:"Select User Plan"}),Object.entries(w).map((e=>{let[a,l]=e;return(0,_.jsx)("option",{value:a,children:l})}))]}),l.planuser&&(0,_.jsx)("div",{className:"text-danger",children:l.planuser})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Years"===e.type?"Time Period (In Years)":"Months"===e.type?"Time Period (In Months)":"Time Period",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${l.type_value&&"input-error"}`,name:"type_value",placeholder:"Time Period",value:e.type_value,onChange:B}),l.type_value&&(0,_.jsx)("div",{className:"text-danger",children:l.type_value})]}),(0,_.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,_.jsxs)("label",{for:"formFile",class:"form-label",children:["Plan Amount",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsx)("input",{type:"text",id:"form3Example1",className:`form-control ${l.amount&&"input-error"}`,name:"amount",placeholder:"Plan Amount",value:e.amount,onChange:B}),l.amount&&(0,_.jsx)("div",{className:"text-danger",children:l.amount})]}),"employer"===e.planuser&&(0,_.jsxs)(_.Fragment,{children:[l.emp_checkbx&&(0,_.jsx)("div",{className:"text-danger mb-3",children:l.emp_checkbx}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("label",{htmlFor:"formFile",className:"form-label",children:["Select Features",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"",label:"Number of Job Post",onChange:l=>{U(l.target.checked),l.target.checked||a({...e,job_post:"empty"}),l.target.checked&&a({...e,job_post:""}),E||V(l.target.value),u((e=>({...e,emp_checkbx:""})))}}),(0,_.jsx)("label",{children:"Number of Job Post"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"resumeDownloadsCheckbox",className:"",name:"resumeDownloads",onChange:l=>{q(l.target.checked),l.target.checked?a({...e,resume_download:""}):a({...e,resume_download:"empty"}),Y||O(l.target.value),u((e=>({...e,emp_checkbx:""})))}}),(0,_.jsx)("label",{children:"Number of resume download"})]})]}),(0,_.jsxs)("div",{className:"mb-5 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"",label:"Number of Job Post",name:"feature_ids",value:e.candidate_search,onChange:l=>{H(l.target.checked),a(z?{...e,candidate_search:"1"}:{...e,candidate_search:"empty"}),u((e=>({...e,emp_checkbx:""}))),console.log(e)}}),(0,_.jsx)("label",{children:"Access candidate search functionality"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"profileViewsCheckbox",className:"",name:"profileViews",value:e.profile_view,onChange:l=>{K(l.target.checked),l.target.checked?a({...e,profile_view:""}):a({...e,profile_view:"empty"}),X||W(l.target.value),u((e=>({...e,emp_checkbx:""}))),console.log(e)}}),(0,_.jsx)("label",{children:"Number of Candidate Profile Views"})]})]})]}),"employer"===e.planuser&&A&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx jobPost",children:[(0,_.jsx)("label",{htmlFor:"jobApplyInput",className:"form-label",children:"Number of Job Post:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:"form-control",name:"job_post",value:E?"":e.job_post,onChange:l=>{E||(V(l.target.value),a({...e,job_post:l.target.value}),u({job_post:""}),console.log(e))},disabled:E}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"unlimitedCheckbox",className:"unlimitedCheckbx",name:"unlimited",checked:E,onChange:l=>{J(l.target.checked),l.target.checked?(V(""),a({...e,job_post:"50000"}),u((e=>({...e,job_post:""})))):a({...e,job_post:""}),u((e=>({...e,job_post:""}))),console.log(e)}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.job_post&&(0,_.jsx)("div",{className:"text-danger",children:l.job_post})]})}),"employer"===e.planuser&&L&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx jobPost",children:[(0,_.jsx)("label",{htmlFor:"resumeDownloadsInput",className:"form-label",children:"Number of Resume Downloads:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:"form-control",name:"resumeDownloadsInput",value:Y?"":e.resume_download,onChange:l=>{Y||(O(l.target.value),a({...e,resume_download:l.target.value}),u((e=>({...e,resume_download:""}))),console.log(e))},disabled:Y}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"resumeDownloadsUnlimitedCheckbox",className:"unlimitedCheckbx",name:"resumeDownloadsUnlimited",checked:Y,onChange:l=>{M(l.target.checked),l.target.checked?(O(""),a({...e,resume_download:"1000000"}),u((e=>({...e,resume_download:""})))):a({...e,resume_download:""}),u((e=>({...e,resume_download:""}))),console.log(e)}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.resume_download&&(0,_.jsx)("div",{className:"text-danger",children:l.resume_download})]})}),"employer"===e.planuser&&G&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"profileViewsInput",className:"form-label",children:"Number of Candidate Profile Views:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:"form-control",name:"profileViewsInput",value:X?"":e.profile_view,onChange:l=>{X||(W(l.target.value),a({...e,profile_view:l.target.value}),u((e=>({...e,profile_view:""})))),console.log(e)},disabled:X}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"profileViewsUnlimitedCheckbox",className:"unlimitedCheckbx",name:"profileViewsUnlimited",checked:X,onChange:l=>{ee(l.target.checked),l.target.checked?(W(""),a({...e,profile_view:"1000000"}),u((e=>({...e,profile_view:""})))):a({...e,profile_view:""}),u((e=>({...e,profile_view:""})))}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.profile_view&&(0,_.jsx)("div",{className:"text-danger",children:l.profile_view})]})}),"jobseeker"===e.planuser&&(0,_.jsxs)("div",{className:"mb-5 DashBoardInputBx checkBoxDiv",children:[(0,_.jsxs)("label",{htmlFor:"formFile",className:"form-label",children:["Select Features",(0,_.jsx)("span",{className:"RedStar",children:"*"})]}),(0,_.jsxs)("div",{className:"NumberCheck",children:[(0,_.jsx)("input",{type:"checkbox",id:"jobPostCheckbox",className:"",label:"Number of Job Post",name:"feature_ids",onChange:l=>{console.log(l.target.checked),le(l.target.checked),l.target.checked||(a({...e,job_apply:"empty"}),ie(!1),oe(!1)),l.target.checked&&(te(""),ie(!0),a({...e,job_apply:""})),u((e=>({...e,job_apply_checkbx:""})))}}),(0,_.jsx)("label",{children:"Number of Job Apply"})]}),l.job_apply_checkbx&&(0,_.jsx)("div",{className:"text-danger",children:l.job_apply_checkbx})]}),"jobseeker"===e.planuser&&ae&&(0,_.jsxs)("div",{className:"mb-4 DashBoardInputBx",children:[(0,_.jsx)("label",{htmlFor:"jobApplyInput",className:"form-label",children:"Number of Job Apply:"}),(0,_.jsx)("input",{type:"text",id:"jobPostInput",className:"form-control",name:"job_apply",value:ne?"":e.job_apply,onChange:l=>{ne||(te(l.target.value),a({...e,job_apply:l.target.value}),u((e=>({...e,job_apply_input:""}))))},disabled:ne}),(0,_.jsxs)("div",{className:"mb-2 DashBoardInputBx checkBoxDiv",children:[(0,_.jsx)("input",{type:"checkbox",id:"unlimitedCheckbox",className:"unlimitedCheckbx",name:"unlimited",checked:ne,onChange:l=>{console.log(l.target.checked),oe(l.target.checked),l.target.checked?(te(""),a({...e,job_apply:"1000000"}),u((e=>({...e,job_apply_input:""})))):a({...e,job_apply:""}),u((e=>({...e,job_apply_input:""})))}}),(0,_.jsx)("label",{className:"unlimitedLabel",children:"Unlimited"})]}),l.job_apply_input&&(0,_.jsx)("div",{className:"text-danger",children:l.job_apply_input})]})]}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary adminLowerButton1",onClick:async()=>{try{const l={};if(""===e.plan_name&&(l.plan_name="Plan Name is required"),""===e.amount&&(l.amount="Amount is required"),""===e.planuser&&(l.planuser="User Plan is required"),""===e.type&&(l.type="Plan Type is required"),""===e.type_value&&(l.type_value="Type is required"),"jobseeker"!==e.planuser||ae||(l.job_apply_checkbx="Please select atleast one feature"),"jobseeker"===e.planuser&&ae&&""===e.job_apply&&(l.job_apply_input="Please enter a value"),"jobseeker"===e.planuser&&ae&&e.job_apply<=0&&(l.job_apply_input="Please enter a value greater than 0"),"employer"!==e.planuser||A||L||z||G||(l.emp_checkbx="Please select at least one feature"),"employer"===e.planuser&&A&&""===e.job_post&&(l.job_post="Please enter a value"),"employer"===e.planuser&&A&&e.job_post<=0&&(l.job_post="Please enter a value greater than 0"),"employer"===e.planuser&&L&&""===e.resume_download&&(l.resume_download="Please enter a value"),"employer"===e.planuser&&L&&e.resume_download<=0&&(l.resume_download="Please enter a value greater than 0"),"employer"===e.planuser&&G&&""===e.profile_view&&(l.profile_view="Please enter a value"),"employer"===e.planuser&&G&&e.profile_view<=0&&(l.profile_view="Please enter a value greater than 0"),u(l),console.log(A,"jobpost"),0===Object.keys(l).length){if((await h().fire({title:"Add Plan",text:"Do you want to Add this Plan?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){y(!0);const l=await d.Z.post(p.Z+"/admin/plan/addPlan",e,{headers:{"Content-Type":"application/json",key:m.Z,token:f,adminid:g}});y(!1),200===l.data.status?(h().fire({title:"Plan added successfully!",icon:"success",confirmButtonText:"Close"}),a({...e,plan_name:"",type_value:"",type:"",amount:"",userplan:"",feature_ids:""}),window.scrollTo(0,0),P("/admin/plans/index")):h().fire({title:l.data.message,icon:"error",confirmButtonText:"Close"})}}}catch(l){y(!1),h().fire({title:"Failed",text:"Could not add plan. Please try again later!",icon:"error",confirmButtonText:"Close"}),console.log("Could not add plan!",l)}},children:"SAVE"}),(0,_.jsx)("button",{type:"button",className:"btn btn-primary adminLowerButton2",onClick:()=>{a({plan_name:"",job_post:"",resume_download:"",candidate_search:"",job_apply:"",profile_view:"",amount:"",planuser:"",type_value:"",type:""})},children:"RESET"})]})]}),(0,_.jsx)(j.Z,{})]})]})]})}}}]);
//# sourceMappingURL=9121.7a0f0ad8.chunk.js.map