"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[1223],{21223:(e,o,t)=>{t.r(o),t.d(o,{default:()=>b});var s=t(72791),a=t(65167),n=t(93953),i=t(20890),l=t(93517),r=t(50533),c=t(98333),d=t(31243),m=t(12503),u=t(10287),g=t(21830),h=t.n(g),p=t(57689),x=t(88329),f=t(24529),j=t(80184);const b=()=>{const[e,o]=(0,s.useState)({logo:""}),[t,g]=(0,s.useState)([]),[b,C]=(0,s.useState)(!1),w=x.Z.get("token"),y=x.Z.get("adminID"),[B,v]=(0,s.useState)(null),N=(0,p.s0)(),Z=async()=>{try{C(!0);const e=await d.Z.post(m.Z+"/admin/uploadLogo",null,{headers:{"Content-Type":"application/json",key:u.Z,token:w,adminid:y}});C(!1),v(e.data.response.logo_path),o(e.data.response.logo_path),g(e.data.response.logo_path)}catch(e){console.log("Cannot get profile photo data")}},L=async e=>{const t=e.target,s=t.files[0];if(s){if(s.size>512e3)return h().fire({title:"Image size should be under 500 KB",icon:"warning",confirmButtonText:"Close"}),t.value="",v(""),void o((e=>({...e,logo:""})));const e=new Image;e.src=window.URL.createObjectURL(s),e.onload=()=>{const a=e.naturalWidth,n=e.naturalHeight;a<150||n<40||a>265||n>100?(h().fire({title:"Image resolution should be 151*48 pixels",icon:"warning",confirmButtonText:"Close"}),t.value="",o((e=>({...e,logo:""})))):function(e){return new Promise(((o,t)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{o(s.result)},s.onerror=e=>{t(e)}}))}(s).then((e=>{o((o=>({...o,logo:e}))),v(e)}))}}};return(0,s.useEffect)((()=>{w?(Z(),window.scrollTo(0,0)):N("/admin")}),[w,N]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.Z,{}),(0,j.jsxs)("div",{className:"APBasic",children:[(0,j.jsx)(n.Z,{}),b?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"loader-container"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"site-min-height",children:[(0,j.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,j.jsxs)(l.Z,{"aria-label":"breadcrumb",separator:(0,j.jsx)(c.Z,{fontSize:"small"}),children:[(0,j.jsx)(r.Z,{underline:"hover",color:"inherit",onClick:()=>N("/admin/admins/dashboard"),children:"Dashboard"}),(0,j.jsx)(i.Z,{color:"text.primary",children:"Change Logo"})]})}),(0,j.jsx)("h2",{className:"adminPageHeading",children:"Change Logo"}),(0,j.jsx)("form",{className:"adminForm",children:(0,j.jsxs)("div",{className:"mb-4 mt-5",children:[(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsx)("div",{className:"AdminChangeLogoBx mb-4 mt-5",children:B?(0,j.jsx)("img",{src:B,alt:"selected logo"}):(0,j.jsx)("img",{src:"/Images/jobseekerSide/dummy-profile.png",alt:""})}),(0,j.jsx)("form",{children:(0,j.jsx)("div",{className:"mb-4 mt-5",children:(0,j.jsxs)("div",{class:"mb-5 DashBoardInputBx",children:[(0,j.jsxs)("label",{for:"formFile",class:"form-label",children:["New Logo",(0,j.jsx)("span",{className:"RedStar",children:"*"})]}),(0,j.jsx)("input",{class:"form-control",type:"file",id:"formFile",lable:"Image",name:"logo",accept:".jpeg, .png, .jpg, .gif",onChange:e=>L(e)}),(0,j.jsx)("div",{id:"emailHelp",class:"form-text",children:"Supported File Types: gif, jpg, jpeg, png (Max. 500 KB). Best visible size: logo size 151 X 48 pixels."})]})})})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button1",onClick:async()=>{try{if(e.logo&&null!==e.logo){if((await h().fire({title:"Upload Logo",text:"Do you want to upload this Logo?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const o=await d.Z.post(m.Z+"/admin/uploadLogo",e,{headers:{"Content-Type":"application/json",key:u.Z,token:w,adminid:y}});200===o.data.status?(h().fire({title:"Logo updated successfully!",icon:"success",confirmButtonText:"Close"}),Z(),window.scrollTo(0,0)):h().fire({title:o.data.message,icon:"error",confirmButtonText:"Close"})}}else h().fire({title:"Please select a Logo!",icon:"warning",confirmButtonText:"Close"})}catch(o){C(!1),h().fire({title:"Could not update logo. Please try after some time!",icon:"error",confirmButtonText:"Close"}),console.log("Could not update photo!")}},children:"UPDATE"}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary button2",onClick:()=>N("/admin/admins/dashboard"),children:"CANCEL"})]})})]}),(0,j.jsx)(f.Z,{})]})]})]})}}}]);
//# sourceMappingURL=1223.143c29ef.chunk.js.map