"use strict";(self.webpackChunkjob_board_software=self.webpackChunkjob_board_software||[]).push([[4513],{84513:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var s=n(72791),i=n(57689),a=n(65167),o=n(93953),c=n(20890),r=n(93517),l=n(50533),d=n(98333),u=n(31243),m=n(12503),h=n(10287),x=n(21830),C=n.n(x),f=n(9e3),y=n(27247),j=n(64558),p=n(872),v=n(51007),g=n(57246),b=n(1582),B=n(88329),Z=n(24529),k=n(80184);const T=()=>{var e,t;const n=(0,i.s0)(),[x,T]=(0,s.useState)(!1),[N,w]=(0,s.useState)([]),[D,A]=(0,s.useState)([]),[S,L]=(0,s.useState)(""),P=B.Z.get("token"),F=parseInt(B.Z.get("adminID")),[E,M]=(0,s.useState)(1),[_,z]=(0,s.useState)({}),q=async()=>{try{T(!0);const e=await u.Z.post(m.Z+"/admin/currency/index",null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});T(!1),w(e.data.response)}catch(e){T(!1),console.log("Cannot get plans data at APmanageplans")}},[Y,V]=(0,s.useState)(!0),$=e=>{if("selectAll"===e){V(!Y);const e=Y?N.map((e=>e.id)):[];A(e)}else D.includes(e)?A(D.filter((t=>t!==e))):A([...D,e])},[H,I]=(0,s.useState)({key:"",direction:"ascending"}),[J,O]=(0,s.useState)("\ud83d\udd3a"),R=(Q=N,G=H.key,K=H.direction,U=S,[...Q].filter((e=>e.name.toLowerCase().includes(U)||e.code.toLowerCase().includes(U)||e.symbol.toLowerCase().includes(U))).sort(((e,t)=>e[G]<t[G]?"ascending"===K?-1:1:e[G]>t[G]?"ascending"===K?1:-1:0)));var Q,G,K,U;const W=N.filter((e=>{const t=S.toLowerCase();return e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.symbol.toLowerCase().includes(t)})),X=20*E,ee=X-20,te=R.slice(ee,X),ne=Math.ceil(R.length/20),se=[];for(let s=1;s<=ne;s++)se.push(s);(0,s.useEffect)((()=>{P?(q(),window.scrollTo(0,0)):n("/admin")}),[P,n]),(0,s.useEffect)((()=>{M(1)}),[S]);const ie=e=>{let t="ascending";H.key===e&&"ascending"===H.direction?(t="descending",O("\ud83d\udd3b")):O("\ud83d\udd3a"),I({key:e,direction:t})};return(0,s.useEffect)((()=>{const e=B.Z.get("access");null!==typeof e||""!==e||void 0!==e?(console.log(JSON.parse(e)),z(JSON.parse(e))):z({})}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(a.Z,{}),(0,k.jsxs)("div",{className:"APBasic APManageSubadmin",children:[(0,k.jsx)(o.Z,{}),x?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"loader-container"})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"site-min-height",children:[(0,k.jsx)("div",{className:"breadCumb1",role:"presentation",children:(0,k.jsxs)(r.Z,{"aria-label":"breadcrumb",separator:(0,k.jsx)(d.Z,{fontSize:"small"}),children:[(0,k.jsx)(l.Z,{to:"/admin/admins/dashboard",underline:"hover",color:"inherit",children:"Dashboard"}),(0,k.jsx)(l.Z,{underline:"hover",color:"inherit",children:"Currency"}),(0,k.jsx)(c.Z,{color:"text.primary",children:"Currency List"})]})}),(0,k.jsxs)("div",{className:"ManageSubAdminHeader",children:[(0,k.jsx)("h2",{className:"",children:"Currency List"}),(1===(null===(e=_[4])||void 0===e?void 0:e.Add)||"1"===F)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("button",{className:"btn navButton1 APMSbutton",onClick:()=>n("/admin/currencies/add"),children:"Add Currency"})})]}),""!=N?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"manageSubadminPart1",children:[(0,k.jsx)("form",{children:(0,k.jsxs)("div",{className:"manageSubadminPart1Sec1",children:[(0,k.jsx)("h4",{children:"Search Currency by Name"}),(0,k.jsx)("div",{class:"APDashboardSearchBx ",children:(0,k.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",name:"searchQuery",placeholder:"Search..",value:S,onChange:e=>{const t=e.target.value.toLowerCase();L(t)}})})]})}),(0,k.jsxs)("h4",{children:["No. of Results ",ee+1,"-",Math.min(X,W.length||N.length)," ","of ",N.length]})]}),(0,k.jsx)("div",{className:"manageSubadminPart2",children:(0,k.jsxs)("table",{class:"table",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"checkBoxCol checkBxHead",children:(0,k.jsx)("input",{type:"checkbox",className:"tableCheckBox",onClick:()=>$("selectAll")})}),(0,k.jsxs)("th",{onClick:()=>ie("first_name"),children:["Currency Name",J]}),(0,k.jsxs)("th",{onClick:()=>ie("first_name"),children:["Currency Code",J]}),(0,k.jsxs)("th",{onClick:()=>ie("first_name"),children:["Currency Symbol",J]}),(0,k.jsx)("th",{children:"Default Currency"}),(0,k.jsx)("th",{scope:"col",children:"Action"})]})}),(0,k.jsx)("tbody",{children:te.map((e=>{var t,s;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"checkBoxCol",children:(0,k.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:D.includes(e.id),onChange:()=>$(e.id)})}),(0,k.jsx)("td",{children:e.name}),(0,k.jsx)("td",{children:e.code}),(0,k.jsx)("td",{children:e.symbol}),(0,k.jsx)("td",{className:"checkBoxCol",children:(0,k.jsx)("input",{type:"checkbox",className:"tableCheckBox",checked:1===e.is_default,onChange:()=>(async e=>{try{200===(await u.Z.post(m.Z+`/admin/currency/admin_defaultcurrency/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}})).data.status?C().fire({title:"Default Currency changed successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't change Default Currency!",icon:"error",confirmButtonText:"Close"}),q()}catch(t){C().fire({title:"Couldn't change default currency! Try after some time",icon:"error",confirmButtonText:"Close"})}})(e.id)})}),(0,k.jsxs)("td",{className:"APActionButton",children:[1===e.status?(0,k.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Deactivate Currency?",text:"Do you want to Deactivate this Currency?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/currency/admin_deactivate/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});200===t.data.status?C().fire({title:"Currency Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),q()}}catch(t){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Currency",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",t.message)}})(e.slug),children:(0,k.jsx)(v.Z,{title:"Deactivate",children:(0,k.jsx)(p.Z,{})})}):(0,k.jsx)("button",{className:"btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Activate Currency",text:"Do you want to Activate this Currency?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/currency/admin_activate/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});200===t.data.status?C().fire({title:"Currency Activated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),q()}}catch(t){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Activate Currency",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",t.message)}})(e.slug),children:(0,k.jsx)(v.Z,{title:"Activate",children:(0,k.jsx)(j.Z,{})})}),(1===(null===(t=_[4])||void 0===t?void 0:t.Edit)||"1"===F)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("button",{className:"btn-primary",onClick:()=>n(`/admin/currencies/edit/${e.slug}`),children:(0,k.jsx)(v.Z,{title:"Edit",children:(0,k.jsx)(f.Z,{})})})}),(1===(null===(s=_[4])||void 0===s?void 0:s.Delete)||"1"===F)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{if((await C().fire({title:"Delete Currency?",text:"Do you want to Delete this Currency?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const t=await u.Z.post(m.Z+`/admin/currency/admin_delete/${e}`,null,{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});200===t.data.status?C().fire({title:"Currency deleted successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:t.data.message,icon:"error",confirmButtonText:"Close"}),q()}}catch(t){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Delete Currency",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't delete the record!",t.message)}})(e.slug),children:(0,k.jsx)(v.Z,{title:"Delete",children:(0,k.jsx)(y.Z,{})})})})]})]})})}))})]})}),(0,k.jsxs)("div",{className:"manageSubadminpart3",children:[(0,k.jsxs)("div",{className:"functionalityButton",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await C().fire({title:"Activate Currencies?",text:"Do you want to Activate Currencies?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=D.toString();console.log(e);const t=await u.Z.post(m.Z+"/admin/currency/index",{idList:e,action:"activate"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});V(!0),A(""),200===t.data.status?C().fire({title:"Currencies Activated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't Activate!",icon:"error",confirmButtonText:"Close"}),q()}}catch(e){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Activate Currencies",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't activate the record!",e.message)}})(),children:"ACTIVATE"}),(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton3",onClick:()=>(async()=>{try{if((await C().fire({title:"Deactivate Currency?",text:"Do you want to Deactivate these Currency?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){const e=D.join(",");console.log(e);const t=await u.Z.post(m.Z+"/admin/currency/index",{idList:e,action:"deactivate"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});V(!0),A(""),200===t.data.status?C().fire({title:"Currencies Deactivated successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't Deactivate!",icon:"error",confirmButtonText:"Close"}),q()}}catch(e){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Deactivate Currencies",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't deactivate the record!",e.message)}})(),children:"DEACTIVATE"}),(1===(null===(t=_[4])||void 0===t?void 0:t.Delete)||1===F)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("button",{type:"button",className:"btn btn-primary APButton4",onClick:()=>(async()=>{try{if((await C().fire({title:"Delete Currencies",text:"Do you want to Delete Currencies?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})).isConfirmed){let e=D.toString();console.log(e);const t=await u.Z.post(m.Z+"/admin/currency/index",{idList:e,action:"delete"},{headers:{"Content-Type":"application/json",key:h.Z,token:P,adminid:F}});V(!0),A(""),200===t.data.status?C().fire({title:"Currencies Deleted successfully!",icon:"success",confirmButtonText:"Close"}):C().fire({title:"Couldn't Delete!",icon:"error",confirmButtonText:"Close"}),q()}}catch(e){T(!1),C().fire({title:"Failed. Please try after some time!",text:"Could not Delete Currencies",icon:"error",confirmButtonText:"Close"}),console.log("Couldn't Delete the record!",e.message)}})(),children:"DELETE"})})]}),(0,k.jsx)("div",{className:"pagination",children:(0,k.jsx)(b.Z,{spacing:2,children:(0,k.jsx)(g.Z,{count:ne,color:"primary",page:E,onChange:(e,t)=>M(t)})})})]})]}):(0,k.jsx)("div",{className:"appliedJobListNoData mt-5",children:"No Records Found"})]}),(0,k.jsx)(Z.Z,{})]})]})]})}},64558:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=o},872:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},9e3:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=o},27247:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o}}]);
//# sourceMappingURL=4513.e6c7abfa.chunk.js.map